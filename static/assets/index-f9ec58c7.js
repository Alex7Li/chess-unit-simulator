function dO(n,r){for(var o=0;o<r.length;o++){const l=r[o];if(typeof l!="string"&&!Array.isArray(l)){for(const s in l)if(s!=="default"&&!(s in n)){const c=Object.getOwnPropertyDescriptor(l,s);c&&Object.defineProperty(n,s,c.get?c:{enumerable:!0,get:()=>l[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=o(s);fetch(s.href,c)}})();var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pS={exports:{}},B$={},fS={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=Symbol.for("react.element"),pO=Symbol.for("react.portal"),fO=Symbol.for("react.fragment"),gO=Symbol.for("react.strict_mode"),mO=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),vO=Symbol.for("react.context"),bO=Symbol.for("react.forward_ref"),$O=Symbol.for("react.suspense"),yO=Symbol.for("react.memo"),EO=Symbol.for("react.lazy"),xT=Symbol.iterator;function wO(n){return n===null||typeof n!="object"?null:(n=xT&&n[xT]||n["@@iterator"],typeof n=="function"?n:null)}var gS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mS=Object.assign,_S={};function ef(n,r,o){this.props=n,this.context=r,this.refs=_S,this.updater=o||gS}ef.prototype.isReactComponent={};ef.prototype.setState=function(n,r){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,r,"setState")};ef.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function vS(){}vS.prototype=ef.prototype;function Zw(n,r,o){this.props=n,this.context=r,this.refs=_S,this.updater=o||gS}var Qw=Zw.prototype=new vS;Qw.constructor=Zw;mS(Qw,ef.prototype);Qw.isPureReactComponent=!0;var AT=Array.isArray,bS=Object.prototype.hasOwnProperty,ek={current:null},$S={key:!0,ref:!0,__self:!0,__source:!0};function yS(n,r,o){var l,s={},c=null,f=null;if(r!=null)for(l in r.ref!==void 0&&(f=r.ref),r.key!==void 0&&(c=""+r.key),r)bS.call(r,l)&&!$S.hasOwnProperty(l)&&(s[l]=r[l]);var d=arguments.length-2;if(d===1)s.children=o;else if(1<d){for(var g=Array(d),_=0;_<d;_++)g[_]=arguments[_+2];s.children=g}if(n&&n.defaultProps)for(l in d=n.defaultProps,d)s[l]===void 0&&(s[l]=d[l]);return{$$typeof:C_,type:n,key:c,ref:f,props:s,_owner:ek.current}}function kO(n,r){return{$$typeof:C_,type:n.type,key:r,ref:n.ref,props:n.props,_owner:n._owner}}function tk(n){return typeof n=="object"&&n!==null&&n.$$typeof===C_}function TO(n){var r={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return r[o]})}var DT=/\/+/g;function Py(n,r){return typeof n=="object"&&n!==null&&n.key!=null?TO(""+n.key):r.toString(36)}function Nb(n,r,o,l,s){var c=typeof n;(c==="undefined"||c==="boolean")&&(n=null);var f=!1;if(n===null)f=!0;else switch(c){case"string":case"number":f=!0;break;case"object":switch(n.$$typeof){case C_:case pO:f=!0}}if(f)return f=n,s=s(f),n=l===""?"."+Py(f,0):l,AT(s)?(o="",n!=null&&(o=n.replace(DT,"$&/")+"/"),Nb(s,r,o,"",function(_){return _})):s!=null&&(tk(s)&&(s=kO(s,o+(!s.key||f&&f.key===s.key?"":(""+s.key).replace(DT,"$&/")+"/")+n)),r.push(s)),1;if(f=0,l=l===""?".":l+":",AT(n))for(var d=0;d<n.length;d++){c=n[d];var g=l+Py(c,d);f+=Nb(c,r,o,g,s)}else if(g=wO(n),typeof g=="function")for(n=g.call(n),d=0;!(c=n.next()).done;)c=c.value,g=l+Py(c,d++),f+=Nb(c,r,o,g,s);else if(c==="object")throw r=String(n),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return f}function cb(n,r,o){if(n==null)return n;var l=[],s=0;return Nb(n,l,"","",function(c){return r.call(o,c,s++)}),l}function CO(n){if(n._status===-1){var r=n._result;r=r(),r.then(function(o){(n._status===0||n._status===-1)&&(n._status=1,n._result=o)},function(o){(n._status===0||n._status===-1)&&(n._status=2,n._result=o)}),n._status===-1&&(n._status=0,n._result=r)}if(n._status===1)return n._result.default;throw n._result}var so={current:null},Lb={transition:null},SO={ReactCurrentDispatcher:so,ReactCurrentBatchConfig:Lb,ReactCurrentOwner:ek};yt.Children={map:cb,forEach:function(n,r,o){cb(n,function(){r.apply(this,arguments)},o)},count:function(n){var r=0;return cb(n,function(){r++}),r},toArray:function(n){return cb(n,function(r){return r})||[]},only:function(n){if(!tk(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};yt.Component=ef;yt.Fragment=fO;yt.Profiler=mO;yt.PureComponent=Zw;yt.StrictMode=gO;yt.Suspense=$O;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SO;yt.cloneElement=function(n,r,o){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var l=mS({},n.props),s=n.key,c=n.ref,f=n._owner;if(r!=null){if(r.ref!==void 0&&(c=r.ref,f=ek.current),r.key!==void 0&&(s=""+r.key),n.type&&n.type.defaultProps)var d=n.type.defaultProps;for(g in r)bS.call(r,g)&&!$S.hasOwnProperty(g)&&(l[g]=r[g]===void 0&&d!==void 0?d[g]:r[g])}var g=arguments.length-2;if(g===1)l.children=o;else if(1<g){d=Array(g);for(var _=0;_<g;_++)d[_]=arguments[_+2];l.children=d}return{$$typeof:C_,type:n.type,key:s,ref:c,props:l,_owner:f}};yt.createContext=function(n){return n={$$typeof:vO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:_O,_context:n},n.Consumer=n};yt.createElement=yS;yt.createFactory=function(n){var r=yS.bind(null,n);return r.type=n,r};yt.createRef=function(){return{current:null}};yt.forwardRef=function(n){return{$$typeof:bO,render:n}};yt.isValidElement=tk;yt.lazy=function(n){return{$$typeof:EO,_payload:{_status:-1,_result:n},_init:CO}};yt.memo=function(n,r){return{$$typeof:yO,type:n,compare:r===void 0?null:r}};yt.startTransition=function(n){var r=Lb.transition;Lb.transition={};try{n()}finally{Lb.transition=r}};yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};yt.useCallback=function(n,r){return so.current.useCallback(n,r)};yt.useContext=function(n){return so.current.useContext(n)};yt.useDebugValue=function(){};yt.useDeferredValue=function(n){return so.current.useDeferredValue(n)};yt.useEffect=function(n,r){return so.current.useEffect(n,r)};yt.useId=function(){return so.current.useId()};yt.useImperativeHandle=function(n,r,o){return so.current.useImperativeHandle(n,r,o)};yt.useInsertionEffect=function(n,r){return so.current.useInsertionEffect(n,r)};yt.useLayoutEffect=function(n,r){return so.current.useLayoutEffect(n,r)};yt.useMemo=function(n,r){return so.current.useMemo(n,r)};yt.useReducer=function(n,r,o){return so.current.useReducer(n,r,o)};yt.useRef=function(n){return so.current.useRef(n)};yt.useState=function(n){return so.current.useState(n)};yt.useSyncExternalStore=function(n,r,o){return so.current.useSyncExternalStore(n,r,o)};yt.useTransition=function(){return so.current.useTransition()};yt.version="18.2.0";fS.exports=yt;var O=fS.exports;const To=Iu(O),Qb=dO({__proto__:null,default:To},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO=O,RO=Symbol.for("react.element"),xO=Symbol.for("react.fragment"),AO=Object.prototype.hasOwnProperty,DO=IO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OO={key:!0,ref:!0,__self:!0,__source:!0};function ES(n,r,o){var l,s={},c=null,f=null;o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(f=r.ref);for(l in r)AO.call(r,l)&&!OO.hasOwnProperty(l)&&(s[l]=r[l]);if(n&&n.defaultProps)for(l in r=n.defaultProps,r)s[l]===void 0&&(s[l]=r[l]);return{$$typeof:RO,type:n,key:c,ref:f,props:s,_owner:DO.current}}B$.Fragment=xO;B$.jsx=ES;B$.jsxs=ES;pS.exports=B$;var nk=pS.exports;const Pn=nk.Fragment,R=nk.jsx,de=nk.jsxs;var UE={},wS={exports:{}},Qo={},kS={exports:{}},TS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function r(z,Y){var Q=z.length;z.push(Y);e:for(;0<Q;){var ee=Q-1>>>1,Z=z[ee];if(0<s(Z,Y))z[ee]=Y,z[Q]=Z,Q=ee;else break e}}function o(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var Y=z[0],Q=z.pop();if(Q!==Y){z[0]=Q;e:for(var ee=0,Z=z.length,_e=Z>>>1;ee<_e;){var be=2*(ee+1)-1,se=z[be],He=be+1,Ke=z[He];if(0>s(se,Q))He<Z&&0>s(Ke,se)?(z[ee]=Ke,z[He]=Q,ee=He):(z[ee]=se,z[be]=Q,ee=be);else if(He<Z&&0>s(Ke,Q))z[ee]=Ke,z[He]=Q,ee=He;else break e}}return Y}function s(z,Y){var Q=z.sortIndex-Y.sortIndex;return Q!==0?Q:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,d=f.now();n.unstable_now=function(){return f.now()-d}}var g=[],_=[],b=1,y=null,E=3,S=!1,D=!1,L=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(z){for(var Y=o(_);Y!==null;){if(Y.callback===null)l(_);else if(Y.startTime<=z)l(_),Y.sortIndex=Y.expirationTime,r(g,Y);else break;Y=o(_)}}function P(z){if(L=!1,I(z),!D)if(o(g)!==null)D=!0,ce(W);else{var Y=o(_);Y!==null&&qe(P,Y.startTime-z)}}function W(z,Y){D=!1,L&&(L=!1,w(K),K=-1),S=!0;var Q=E;try{for(I(Y),y=o(g);y!==null&&(!(y.expirationTime>Y)||z&&!pe());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,E=y.priorityLevel;var Z=ee(y.expirationTime<=Y);Y=n.unstable_now(),typeof Z=="function"?y.callback=Z:y===o(g)&&l(g),I(Y)}else l(g);y=o(g)}if(y!==null)var _e=!0;else{var be=o(_);be!==null&&qe(P,be.startTime-Y),_e=!1}return _e}finally{y=null,E=Q,S=!1}}var j=!1,H=null,K=-1,$e=5,re=-1;function pe(){return!(n.unstable_now()-re<$e)}function ne(){if(H!==null){var z=n.unstable_now();re=z;var Y=!0;try{Y=H(!0,z)}finally{Y?xe():(j=!1,H=null)}}else j=!1}var xe;if(typeof k=="function")xe=function(){k(ne)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ie=Se.port2;Se.port1.onmessage=ne,xe=function(){Ie.postMessage(null)}}else xe=function(){N(ne,0)};function ce(z){H=z,j||(j=!0,xe())}function qe(z,Y){K=N(function(){z(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){D||S||(D=!0,ce(W))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$e=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return o(g)},n.unstable_next=function(z){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var Q=E;E=Y;try{return z()}finally{E=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=E;E=z;try{return Y()}finally{E=Q}},n.unstable_scheduleCallback=function(z,Y,Q){var ee=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,z={id:b++,callback:Y,priorityLevel:z,startTime:Q,expirationTime:Z,sortIndex:-1},Q>ee?(z.sortIndex=Q,r(_,z),o(g)===null&&z===o(_)&&(L?(w(K),K=-1):L=!0,qe(P,Q-ee))):(z.sortIndex=Z,r(g,z),D||S||(D=!0,ce(W))),z},n.unstable_shouldYield=pe,n.unstable_wrapCallback=function(z){var Y=E;return function(){var Q=E;E=Y;try{return z.apply(this,arguments)}finally{E=Q}}}})(TS);kS.exports=TS;var NO=kS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS=O,Zo=NO;function me(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SS=new Set,o_={};function mh(n,r){Wp(n,r),Wp(n+"Capture",r)}function Wp(n,r){for(o_[n]=r,n=0;n<r.length;n++)SS.add(r[n])}var Jl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),HE=Object.prototype.hasOwnProperty,LO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OT={},NT={};function MO(n){return HE.call(NT,n)?!0:HE.call(OT,n)?!1:LO.test(n)?NT[n]=!0:(OT[n]=!0,!1)}function BO(n,r,o,l){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function PO(n,r,o,l){if(r===null||typeof r>"u"||BO(n,r,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function lo(n,r,o,l,s,c,f){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=s,this.mustUseProperty=o,this.propertyName=n,this.type=r,this.sanitizeURL=c,this.removeEmptyString=f}var $r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$r[n]=new lo(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];$r[r]=new lo(r,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$r[n]=new lo(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$r[n]=new lo(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$r[n]=new lo(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$r[n]=new lo(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$r[n]=new lo(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$r[n]=new lo(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$r[n]=new lo(n,5,!1,n.toLowerCase(),null,!1,!1)});var rk=/[\-:]([a-z])/g;function ok(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(rk,ok);$r[r]=new lo(r,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(rk,ok);$r[r]=new lo(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(rk,ok);$r[r]=new lo(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$r[n]=new lo(n,1,!1,n.toLowerCase(),null,!1,!1)});$r.xlinkHref=new lo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$r[n]=new lo(n,1,!1,n.toLowerCase(),null,!0,!0)});function ik(n,r,o,l){var s=$r.hasOwnProperty(r)?$r[r]:null;(s!==null?s.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(PO(r,o,s,l)&&(o=null),l||s===null?MO(r)&&(o===null?n.removeAttribute(r):n.setAttribute(r,""+o)):s.mustUseProperty?n[s.propertyName]=o===null?s.type===3?!1:"":o:(r=s.attributeName,l=s.attributeNamespace,o===null?n.removeAttribute(r):(s=s.type,o=s===3||s===4&&o===!0?"":""+o,l?n.setAttributeNS(l,r,o):n.setAttribute(r,o))))}var ea=CS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hb=Symbol.for("react.element"),wp=Symbol.for("react.portal"),kp=Symbol.for("react.fragment"),sk=Symbol.for("react.strict_mode"),VE=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),RS=Symbol.for("react.context"),lk=Symbol.for("react.forward_ref"),WE=Symbol.for("react.suspense"),zE=Symbol.for("react.suspense_list"),ak=Symbol.for("react.memo"),uu=Symbol.for("react.lazy"),xS=Symbol.for("react.offscreen"),LT=Symbol.iterator;function Am(n){return n===null||typeof n!="object"?null:(n=LT&&n[LT]||n["@@iterator"],typeof n=="function"?n:null)}var gn=Object.assign,Fy;function Um(n){if(Fy===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Fy=r&&r[1]||""}return`
`+Fy+n}var Gy=!1;function Uy(n,r){if(!n||Gy)return"";Gy=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(_){var l=_}Reflect.construct(n,[],r)}else{try{r.call()}catch(_){l=_}n.call(r.prototype)}else{try{throw Error()}catch(_){l=_}n()}}catch(_){if(_&&l&&typeof _.stack=="string"){for(var s=_.stack.split(`
`),c=l.stack.split(`
`),f=s.length-1,d=c.length-1;1<=f&&0<=d&&s[f]!==c[d];)d--;for(;1<=f&&0<=d;f--,d--)if(s[f]!==c[d]){if(f!==1||d!==1)do if(f--,d--,0>d||s[f]!==c[d]){var g=`
`+s[f].replace(" at new "," at ");return n.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",n.displayName)),g}while(1<=f&&0<=d);break}}}finally{Gy=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Um(n):""}function FO(n){switch(n.tag){case 5:return Um(n.type);case 16:return Um("Lazy");case 13:return Um("Suspense");case 19:return Um("SuspenseList");case 0:case 2:case 15:return n=Uy(n.type,!1),n;case 11:return n=Uy(n.type.render,!1),n;case 1:return n=Uy(n.type,!0),n;default:return""}}function jE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case kp:return"Fragment";case wp:return"Portal";case VE:return"Profiler";case sk:return"StrictMode";case WE:return"Suspense";case zE:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case RS:return(n.displayName||"Context")+".Consumer";case IS:return(n._context.displayName||"Context")+".Provider";case lk:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ak:return r=n.displayName||null,r!==null?r:jE(n.type)||"Memo";case uu:r=n._payload,n=n._init;try{return jE(n(r))}catch{}}return null}function GO(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jE(r);case 8:return r===sk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Tu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function AS(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function UO(n){var r=AS(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var s=o.get,c=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return s.call(this)},set:function(f){l=""+f,c.call(this,f)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(f){l=""+f},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function db(n){n._valueTracker||(n._valueTracker=UO(n))}function DS(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return n&&(l=AS(n)?n.checked?"true":"false":n.value),n=l,n!==o?(r.setValue(n),!0):!1}function e$(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function XE(n,r){var o=r.checked;return gn({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function MT(n,r){var o=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;o=Tu(r.value!=null?r.value:o),n._wrapperState={initialChecked:l,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function OS(n,r){r=r.checked,r!=null&&ik(n,"checked",r,!1)}function YE(n,r){OS(n,r);var o=Tu(r.value),l=r.type;if(o!=null)l==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(l==="submit"||l==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?KE(n,r.type,o):r.hasOwnProperty("defaultValue")&&KE(n,r.type,Tu(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function BT(n,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,o||r===n.value||(n.value=r),n.defaultValue=r}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function KE(n,r,o){(r!=="number"||e$(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Hm=Array.isArray;function Mp(n,r,o,l){if(n=n.options,r){r={};for(var s=0;s<o.length;s++)r["$"+o[s]]=!0;for(o=0;o<n.length;o++)s=r.hasOwnProperty("$"+n[o].value),n[o].selected!==s&&(n[o].selected=s),s&&l&&(n[o].defaultSelected=!0)}else{for(o=""+Tu(o),r=null,s=0;s<n.length;s++){if(n[s].value===o){n[s].selected=!0,l&&(n[s].defaultSelected=!0);return}r!==null||n[s].disabled||(r=n[s])}r!==null&&(r.selected=!0)}}function JE(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(me(91));return gn({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function PT(n,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(me(92));if(Hm(o)){if(1<o.length)throw Error(me(93));o=o[0]}r=o}r==null&&(r=""),o=r}n._wrapperState={initialValue:Tu(o)}}function NS(n,r){var o=Tu(r.value),l=Tu(r.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),r.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),l!=null&&(n.defaultValue=""+l)}function FT(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function LS(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qE(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?LS(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var pb,MS=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,l,s){MSApp.execUnsafeLocalFunction(function(){return n(r,o,l,s)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(pb=pb||document.createElement("div"),pb.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=pb.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function i_(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var jm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HO=["Webkit","ms","Moz","O"];Object.keys(jm).forEach(function(n){HO.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),jm[r]=jm[n]})});function BS(n,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||jm.hasOwnProperty(n)&&jm[n]?(""+r).trim():r+"px"}function PS(n,r){n=n.style;for(var o in r)if(r.hasOwnProperty(o)){var l=o.indexOf("--")===0,s=BS(o,r[o],l);o==="float"&&(o="cssFloat"),l?n.setProperty(o,s):n[o]=s}}var VO=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZE(n,r){if(r){if(VO[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(me(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(me(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(me(61))}if(r.style!=null&&typeof r.style!="object")throw Error(me(62))}}function QE(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ew=null;function uk(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var tw=null,Bp=null,Pp=null;function GT(n){if(n=R_(n)){if(typeof tw!="function")throw Error(me(280));var r=n.stateNode;r&&(r=H$(r),tw(n.stateNode,n.type,r))}}function FS(n){Bp?Pp?Pp.push(n):Pp=[n]:Bp=n}function GS(){if(Bp){var n=Bp,r=Pp;if(Pp=Bp=null,GT(n),r)for(n=0;n<r.length;n++)GT(r[n])}}function US(n,r){return n(r)}function HS(){}var Hy=!1;function VS(n,r,o){if(Hy)return n(r,o);Hy=!0;try{return US(n,r,o)}finally{Hy=!1,(Bp!==null||Pp!==null)&&(HS(),GS())}}function s_(n,r){var o=n.stateNode;if(o===null)return null;var l=H$(o);if(l===null)return null;o=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(me(231,r,typeof o));return o}var nw=!1;if(Jl)try{var Dm={};Object.defineProperty(Dm,"passive",{get:function(){nw=!0}}),window.addEventListener("test",Dm,Dm),window.removeEventListener("test",Dm,Dm)}catch{nw=!1}function WO(n,r,o,l,s,c,f,d,g){var _=Array.prototype.slice.call(arguments,3);try{r.apply(o,_)}catch(b){this.onError(b)}}var Xm=!1,t$=null,n$=!1,rw=null,zO={onError:function(n){Xm=!0,t$=n}};function jO(n,r,o,l,s,c,f,d,g){Xm=!1,t$=null,WO.apply(zO,arguments)}function XO(n,r,o,l,s,c,f,d,g){if(jO.apply(this,arguments),Xm){if(Xm){var _=t$;Xm=!1,t$=null}else throw Error(me(198));n$||(n$=!0,rw=_)}}function _h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function WS(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function UT(n){if(_h(n)!==n)throw Error(me(188))}function YO(n){var r=n.alternate;if(!r){if(r=_h(n),r===null)throw Error(me(188));return r!==n?null:n}for(var o=n,l=r;;){var s=o.return;if(s===null)break;var c=s.alternate;if(c===null){if(l=s.return,l!==null){o=l;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===o)return UT(s),n;if(c===l)return UT(s),r;c=c.sibling}throw Error(me(188))}if(o.return!==l.return)o=s,l=c;else{for(var f=!1,d=s.child;d;){if(d===o){f=!0,o=s,l=c;break}if(d===l){f=!0,l=s,o=c;break}d=d.sibling}if(!f){for(d=c.child;d;){if(d===o){f=!0,o=c,l=s;break}if(d===l){f=!0,l=c,o=s;break}d=d.sibling}if(!f)throw Error(me(189))}}if(o.alternate!==l)throw Error(me(190))}if(o.tag!==3)throw Error(me(188));return o.stateNode.current===o?n:r}function zS(n){return n=YO(n),n!==null?jS(n):null}function jS(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=jS(n);if(r!==null)return r;n=n.sibling}return null}var XS=Zo.unstable_scheduleCallback,HT=Zo.unstable_cancelCallback,KO=Zo.unstable_shouldYield,JO=Zo.unstable_requestPaint,xn=Zo.unstable_now,qO=Zo.unstable_getCurrentPriorityLevel,ck=Zo.unstable_ImmediatePriority,YS=Zo.unstable_UserBlockingPriority,r$=Zo.unstable_NormalPriority,ZO=Zo.unstable_LowPriority,KS=Zo.unstable_IdlePriority,P$=null,tl=null;function QO(n){if(tl&&typeof tl.onCommitFiberRoot=="function")try{tl.onCommitFiberRoot(P$,n,void 0,(n.current.flags&128)===128)}catch{}}var vs=Math.clz32?Math.clz32:nN,eN=Math.log,tN=Math.LN2;function nN(n){return n>>>=0,n===0?32:31-(eN(n)/tN|0)|0}var fb=64,gb=4194304;function Vm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function o$(n,r){var o=n.pendingLanes;if(o===0)return 0;var l=0,s=n.suspendedLanes,c=n.pingedLanes,f=o&268435455;if(f!==0){var d=f&~s;d!==0?l=Vm(d):(c&=f,c!==0&&(l=Vm(c)))}else f=o&~s,f!==0?l=Vm(f):c!==0&&(l=Vm(c));if(l===0)return 0;if(r!==0&&r!==l&&!(r&s)&&(s=l&-l,c=r&-r,s>=c||s===16&&(c&4194240)!==0))return r;if(l&4&&(l|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=l;0<r;)o=31-vs(r),s=1<<o,l|=n[o],r&=~s;return l}function rN(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oN(n,r){for(var o=n.suspendedLanes,l=n.pingedLanes,s=n.expirationTimes,c=n.pendingLanes;0<c;){var f=31-vs(c),d=1<<f,g=s[f];g===-1?(!(d&o)||d&l)&&(s[f]=rN(d,r)):g<=r&&(n.expiredLanes|=d),c&=~d}}function ow(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function JS(){var n=fb;return fb<<=1,!(fb&4194240)&&(fb=64),n}function Vy(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function S_(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-vs(r),n[r]=o}function iN(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var l=n.eventTimes;for(n=n.expirationTimes;0<o;){var s=31-vs(o),c=1<<s;r[s]=0,l[s]=-1,n[s]=-1,o&=~c}}function hk(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var l=31-vs(o),s=1<<l;s&r|n[l]&r&&(n[l]|=r),o&=~s}}var Bt=0;function qS(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var ZS,dk,QS,eI,tI,iw=!1,mb=[],gu=null,mu=null,_u=null,l_=new Map,a_=new Map,hu=[],sN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VT(n,r){switch(n){case"focusin":case"focusout":gu=null;break;case"dragenter":case"dragleave":mu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":l_.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":a_.delete(r.pointerId)}}function Om(n,r,o,l,s,c){return n===null||n.nativeEvent!==c?(n={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:c,targetContainers:[s]},r!==null&&(r=R_(r),r!==null&&dk(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,s!==null&&r.indexOf(s)===-1&&r.push(s),n)}function lN(n,r,o,l,s){switch(r){case"focusin":return gu=Om(gu,n,r,o,l,s),!0;case"dragenter":return mu=Om(mu,n,r,o,l,s),!0;case"mouseover":return _u=Om(_u,n,r,o,l,s),!0;case"pointerover":var c=s.pointerId;return l_.set(c,Om(l_.get(c)||null,n,r,o,l,s)),!0;case"gotpointercapture":return c=s.pointerId,a_.set(c,Om(a_.get(c)||null,n,r,o,l,s)),!0}return!1}function nI(n){var r=Zc(n.target);if(r!==null){var o=_h(r);if(o!==null){if(r=o.tag,r===13){if(r=WS(o),r!==null){n.blockedOn=r,tI(n.priority,function(){QS(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mb(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=sw(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var l=new o.constructor(o.type,o);ew=l,o.target.dispatchEvent(l),ew=null}else return r=R_(o),r!==null&&dk(r),n.blockedOn=o,!1;r.shift()}return!0}function WT(n,r,o){Mb(n)&&o.delete(r)}function aN(){iw=!1,gu!==null&&Mb(gu)&&(gu=null),mu!==null&&Mb(mu)&&(mu=null),_u!==null&&Mb(_u)&&(_u=null),l_.forEach(WT),a_.forEach(WT)}function Nm(n,r){n.blockedOn===r&&(n.blockedOn=null,iw||(iw=!0,Zo.unstable_scheduleCallback(Zo.unstable_NormalPriority,aN)))}function u_(n){function r(s){return Nm(s,n)}if(0<mb.length){Nm(mb[0],n);for(var o=1;o<mb.length;o++){var l=mb[o];l.blockedOn===n&&(l.blockedOn=null)}}for(gu!==null&&Nm(gu,n),mu!==null&&Nm(mu,n),_u!==null&&Nm(_u,n),l_.forEach(r),a_.forEach(r),o=0;o<hu.length;o++)l=hu[o],l.blockedOn===n&&(l.blockedOn=null);for(;0<hu.length&&(o=hu[0],o.blockedOn===null);)nI(o),o.blockedOn===null&&hu.shift()}var Fp=ea.ReactCurrentBatchConfig,i$=!0;function uN(n,r,o,l){var s=Bt,c=Fp.transition;Fp.transition=null;try{Bt=1,pk(n,r,o,l)}finally{Bt=s,Fp.transition=c}}function cN(n,r,o,l){var s=Bt,c=Fp.transition;Fp.transition=null;try{Bt=4,pk(n,r,o,l)}finally{Bt=s,Fp.transition=c}}function pk(n,r,o,l){if(i$){var s=sw(n,r,o,l);if(s===null)Qy(n,r,l,s$,o),VT(n,l);else if(lN(s,n,r,o,l))l.stopPropagation();else if(VT(n,l),r&4&&-1<sN.indexOf(n)){for(;s!==null;){var c=R_(s);if(c!==null&&ZS(c),c=sw(n,r,o,l),c===null&&Qy(n,r,l,s$,o),c===s)break;s=c}s!==null&&l.stopPropagation()}else Qy(n,r,l,null,o)}}var s$=null;function sw(n,r,o,l){if(s$=null,n=uk(l),n=Zc(n),n!==null)if(r=_h(n),r===null)n=null;else if(o=r.tag,o===13){if(n=WS(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return s$=n,null}function rI(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qO()){case ck:return 1;case YS:return 4;case r$:case ZO:return 16;case KS:return 536870912;default:return 16}default:return 16}}var pu=null,fk=null,Bb=null;function oI(){if(Bb)return Bb;var n,r=fk,o=r.length,l,s="value"in pu?pu.value:pu.textContent,c=s.length;for(n=0;n<o&&r[n]===s[n];n++);var f=o-n;for(l=1;l<=f&&r[o-l]===s[c-l];l++);return Bb=s.slice(n,1<l?1-l:void 0)}function Pb(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function _b(){return!0}function zT(){return!1}function ei(n){function r(o,l,s,c,f){this._reactName=o,this._targetInst=s,this.type=l,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var d in n)n.hasOwnProperty(d)&&(o=n[d],this[d]=o?o(c):c[d]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?_b:zT,this.isPropagationStopped=zT,this}return gn(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_b)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_b)},persist:function(){},isPersistent:_b}),r}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gk=ei(tf),I_=gn({},tf,{view:0,detail:0}),hN=ei(I_),Wy,zy,Lm,F$=gn({},I_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mk,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lm&&(Lm&&n.type==="mousemove"?(Wy=n.screenX-Lm.screenX,zy=n.screenY-Lm.screenY):zy=Wy=0,Lm=n),Wy)},movementY:function(n){return"movementY"in n?n.movementY:zy}}),jT=ei(F$),dN=gn({},F$,{dataTransfer:0}),pN=ei(dN),fN=gn({},I_,{relatedTarget:0}),jy=ei(fN),gN=gn({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),mN=ei(gN),_N=gn({},tf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vN=ei(_N),bN=gn({},tf,{data:0}),XT=ei(bN),$N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wN(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=EN[n])?!!r[n]:!1}function mk(){return wN}var kN=gn({},I_,{key:function(n){if(n.key){var r=$N[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Pb(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mk,charCode:function(n){return n.type==="keypress"?Pb(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pb(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TN=ei(kN),CN=gn({},F$,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YT=ei(CN),SN=gn({},I_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mk}),IN=ei(SN),RN=gn({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),xN=ei(RN),AN=gn({},F$,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),DN=ei(AN),ON=[9,13,27,32],_k=Jl&&"CompositionEvent"in window,Ym=null;Jl&&"documentMode"in document&&(Ym=document.documentMode);var NN=Jl&&"TextEvent"in window&&!Ym,iI=Jl&&(!_k||Ym&&8<Ym&&11>=Ym),KT=String.fromCharCode(32),JT=!1;function sI(n,r){switch(n){case"keyup":return ON.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lI(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Tp=!1;function LN(n,r){switch(n){case"compositionend":return lI(r);case"keypress":return r.which!==32?null:(JT=!0,KT);case"textInput":return n=r.data,n===KT&&JT?null:n;default:return null}}function MN(n,r){if(Tp)return n==="compositionend"||!_k&&sI(n,r)?(n=oI(),Bb=fk=pu=null,Tp=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return iI&&r.locale!=="ko"?null:r.data;default:return null}}var BN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qT(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!BN[n.type]:r==="textarea"}function aI(n,r,o,l){FS(l),r=l$(r,"onChange"),0<r.length&&(o=new gk("onChange","change",null,o,l),n.push({event:o,listeners:r}))}var Km=null,c_=null;function PN(n){bI(n,0)}function G$(n){var r=Ip(n);if(DS(r))return n}function FN(n,r){if(n==="change")return r}var uI=!1;if(Jl){var Xy;if(Jl){var Yy="oninput"in document;if(!Yy){var ZT=document.createElement("div");ZT.setAttribute("oninput","return;"),Yy=typeof ZT.oninput=="function"}Xy=Yy}else Xy=!1;uI=Xy&&(!document.documentMode||9<document.documentMode)}function QT(){Km&&(Km.detachEvent("onpropertychange",cI),c_=Km=null)}function cI(n){if(n.propertyName==="value"&&G$(c_)){var r=[];aI(r,c_,n,uk(n)),VS(PN,r)}}function GN(n,r,o){n==="focusin"?(QT(),Km=r,c_=o,Km.attachEvent("onpropertychange",cI)):n==="focusout"&&QT()}function UN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return G$(c_)}function HN(n,r){if(n==="click")return G$(r)}function VN(n,r){if(n==="input"||n==="change")return G$(r)}function WN(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var ys=typeof Object.is=="function"?Object.is:WN;function h_(n,r){if(ys(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var s=o[l];if(!HE.call(r,s)||!ys(n[s],r[s]))return!1}return!0}function eC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tC(n,r){var o=eC(n);n=0;for(var l;o;){if(o.nodeType===3){if(l=n+o.textContent.length,n<=r&&l>=r)return{node:o,offset:r-n};n=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=eC(o)}}function hI(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?hI(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function dI(){for(var n=window,r=e$();r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=e$(n.document)}return r}function vk(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function zN(n){var r=dI(),o=n.focusedElem,l=n.selectionRange;if(r!==o&&o&&o.ownerDocument&&hI(o.ownerDocument.documentElement,o)){if(l!==null&&vk(o)){if(r=l.start,n=l.end,n===void 0&&(n=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(n,o.value.length);else if(n=(r=o.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var s=o.textContent.length,c=Math.min(l.start,s);l=l.end===void 0?c:Math.min(l.end,s),!n.extend&&c>l&&(s=l,l=c,c=s),s=tC(o,c);var f=tC(o,l);s&&f&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==f.node||n.focusOffset!==f.offset)&&(r=r.createRange(),r.setStart(s.node,s.offset),n.removeAllRanges(),c>l?(n.addRange(r),n.extend(f.node,f.offset)):(r.setEnd(f.node,f.offset),n.addRange(r)))}}for(r=[],n=o;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)n=r[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var jN=Jl&&"documentMode"in document&&11>=document.documentMode,Cp=null,lw=null,Jm=null,aw=!1;function nC(n,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;aw||Cp==null||Cp!==e$(l)||(l=Cp,"selectionStart"in l&&vk(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jm&&h_(Jm,l)||(Jm=l,l=l$(lw,"onSelect"),0<l.length&&(r=new gk("onSelect","select",null,r,o),n.push({event:r,listeners:l}),r.target=Cp)))}function vb(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Sp={animationend:vb("Animation","AnimationEnd"),animationiteration:vb("Animation","AnimationIteration"),animationstart:vb("Animation","AnimationStart"),transitionend:vb("Transition","TransitionEnd")},Ky={},pI={};Jl&&(pI=document.createElement("div").style,"AnimationEvent"in window||(delete Sp.animationend.animation,delete Sp.animationiteration.animation,delete Sp.animationstart.animation),"TransitionEvent"in window||delete Sp.transitionend.transition);function U$(n){if(Ky[n])return Ky[n];if(!Sp[n])return n;var r=Sp[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in pI)return Ky[n]=r[o];return n}var fI=U$("animationend"),gI=U$("animationiteration"),mI=U$("animationstart"),_I=U$("transitionend"),vI=new Map,rC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ru(n,r){vI.set(n,r),mh(r,[n])}for(var Jy=0;Jy<rC.length;Jy++){var qy=rC[Jy],XN=qy.toLowerCase(),YN=qy[0].toUpperCase()+qy.slice(1);Ru(XN,"on"+YN)}Ru(fI,"onAnimationEnd");Ru(gI,"onAnimationIteration");Ru(mI,"onAnimationStart");Ru("dblclick","onDoubleClick");Ru("focusin","onFocus");Ru("focusout","onBlur");Ru(_I,"onTransitionEnd");Wp("onMouseEnter",["mouseout","mouseover"]);Wp("onMouseLeave",["mouseout","mouseover"]);Wp("onPointerEnter",["pointerout","pointerover"]);Wp("onPointerLeave",["pointerout","pointerover"]);mh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mh("onBeforeInput",["compositionend","keypress","textInput","paste"]);mh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wm));function oC(n,r,o){var l=n.type||"unknown-event";n.currentTarget=o,XO(l,r,void 0,n),n.currentTarget=null}function bI(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var l=n[o],s=l.event;l=l.listeners;e:{var c=void 0;if(r)for(var f=l.length-1;0<=f;f--){var d=l[f],g=d.instance,_=d.currentTarget;if(d=d.listener,g!==c&&s.isPropagationStopped())break e;oC(s,d,_),c=g}else for(f=0;f<l.length;f++){if(d=l[f],g=d.instance,_=d.currentTarget,d=d.listener,g!==c&&s.isPropagationStopped())break e;oC(s,d,_),c=g}}}if(n$)throw n=rw,n$=!1,rw=null,n}function qt(n,r){var o=r[pw];o===void 0&&(o=r[pw]=new Set);var l=n+"__bubble";o.has(l)||($I(r,n,2,!1),o.add(l))}function Zy(n,r,o){var l=0;r&&(l|=4),$I(o,n,l,r)}var bb="_reactListening"+Math.random().toString(36).slice(2);function d_(n){if(!n[bb]){n[bb]=!0,SS.forEach(function(o){o!=="selectionchange"&&(KN.has(o)||Zy(o,!1,n),Zy(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[bb]||(r[bb]=!0,Zy("selectionchange",!1,r))}}function $I(n,r,o,l){switch(rI(r)){case 1:var s=uN;break;case 4:s=cN;break;default:s=pk}o=s.bind(null,r,o,n),s=void 0,!nw||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(s=!0),l?s!==void 0?n.addEventListener(r,o,{capture:!0,passive:s}):n.addEventListener(r,o,!0):s!==void 0?n.addEventListener(r,o,{passive:s}):n.addEventListener(r,o,!1)}function Qy(n,r,o,l,s){var c=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var f=l.tag;if(f===3||f===4){var d=l.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(f===4)for(f=l.return;f!==null;){var g=f.tag;if((g===3||g===4)&&(g=f.stateNode.containerInfo,g===s||g.nodeType===8&&g.parentNode===s))return;f=f.return}for(;d!==null;){if(f=Zc(d),f===null)return;if(g=f.tag,g===5||g===6){l=c=f;continue e}d=d.parentNode}}l=l.return}VS(function(){var _=c,b=uk(o),y=[];e:{var E=vI.get(n);if(E!==void 0){var S=gk,D=n;switch(n){case"keypress":if(Pb(o)===0)break e;case"keydown":case"keyup":S=TN;break;case"focusin":D="focus",S=jy;break;case"focusout":D="blur",S=jy;break;case"beforeblur":case"afterblur":S=jy;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=jT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=pN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=IN;break;case fI:case gI:case mI:S=mN;break;case _I:S=xN;break;case"scroll":S=hN;break;case"wheel":S=DN;break;case"copy":case"cut":case"paste":S=vN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=YT}var L=(r&4)!==0,N=!L&&n==="scroll",w=L?E!==null?E+"Capture":null:E;L=[];for(var k=_,I;k!==null;){I=k;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,w!==null&&(P=s_(k,w),P!=null&&L.push(p_(k,P,I)))),N)break;k=k.return}0<L.length&&(E=new S(E,D,null,o,b),y.push({event:E,listeners:L}))}}if(!(r&7)){e:{if(E=n==="mouseover"||n==="pointerover",S=n==="mouseout"||n==="pointerout",E&&o!==ew&&(D=o.relatedTarget||o.fromElement)&&(Zc(D)||D[ql]))break e;if((S||E)&&(E=b.window===b?b:(E=b.ownerDocument)?E.defaultView||E.parentWindow:window,S?(D=o.relatedTarget||o.toElement,S=_,D=D?Zc(D):null,D!==null&&(N=_h(D),D!==N||D.tag!==5&&D.tag!==6)&&(D=null)):(S=null,D=_),S!==D)){if(L=jT,P="onMouseLeave",w="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(L=YT,P="onPointerLeave",w="onPointerEnter",k="pointer"),N=S==null?E:Ip(S),I=D==null?E:Ip(D),E=new L(P,k+"leave",S,o,b),E.target=N,E.relatedTarget=I,P=null,Zc(b)===_&&(L=new L(w,k+"enter",D,o,b),L.target=I,L.relatedTarget=N,P=L),N=P,S&&D)t:{for(L=S,w=D,k=0,I=L;I;I=_p(I))k++;for(I=0,P=w;P;P=_p(P))I++;for(;0<k-I;)L=_p(L),k--;for(;0<I-k;)w=_p(w),I--;for(;k--;){if(L===w||w!==null&&L===w.alternate)break t;L=_p(L),w=_p(w)}L=null}else L=null;S!==null&&iC(y,E,S,L,!1),D!==null&&N!==null&&iC(y,N,D,L,!0)}}e:{if(E=_?Ip(_):window,S=E.nodeName&&E.nodeName.toLowerCase(),S==="select"||S==="input"&&E.type==="file")var W=FN;else if(qT(E))if(uI)W=VN;else{W=UN;var j=GN}else(S=E.nodeName)&&S.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(W=HN);if(W&&(W=W(n,_))){aI(y,W,o,b);break e}j&&j(n,E,_),n==="focusout"&&(j=E._wrapperState)&&j.controlled&&E.type==="number"&&KE(E,"number",E.value)}switch(j=_?Ip(_):window,n){case"focusin":(qT(j)||j.contentEditable==="true")&&(Cp=j,lw=_,Jm=null);break;case"focusout":Jm=lw=Cp=null;break;case"mousedown":aw=!0;break;case"contextmenu":case"mouseup":case"dragend":aw=!1,nC(y,o,b);break;case"selectionchange":if(jN)break;case"keydown":case"keyup":nC(y,o,b)}var H;if(_k)e:{switch(n){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Tp?sI(n,o)&&(K="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(K="onCompositionStart");K&&(iI&&o.locale!=="ko"&&(Tp||K!=="onCompositionStart"?K==="onCompositionEnd"&&Tp&&(H=oI()):(pu=b,fk="value"in pu?pu.value:pu.textContent,Tp=!0)),j=l$(_,K),0<j.length&&(K=new XT(K,n,null,o,b),y.push({event:K,listeners:j}),H?K.data=H:(H=lI(o),H!==null&&(K.data=H)))),(H=NN?LN(n,o):MN(n,o))&&(_=l$(_,"onBeforeInput"),0<_.length&&(b=new XT("onBeforeInput","beforeinput",null,o,b),y.push({event:b,listeners:_}),b.data=H))}bI(y,r)})}function p_(n,r,o){return{instance:n,listener:r,currentTarget:o}}function l$(n,r){for(var o=r+"Capture",l=[];n!==null;){var s=n,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=s_(n,o),c!=null&&l.unshift(p_(n,c,s)),c=s_(n,r),c!=null&&l.push(p_(n,c,s))),n=n.return}return l}function _p(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function iC(n,r,o,l,s){for(var c=r._reactName,f=[];o!==null&&o!==l;){var d=o,g=d.alternate,_=d.stateNode;if(g!==null&&g===l)break;d.tag===5&&_!==null&&(d=_,s?(g=s_(o,c),g!=null&&f.unshift(p_(o,g,d))):s||(g=s_(o,c),g!=null&&f.push(p_(o,g,d)))),o=o.return}f.length!==0&&n.push({event:r,listeners:f})}var JN=/\r\n?/g,qN=/\u0000|\uFFFD/g;function sC(n){return(typeof n=="string"?n:""+n).replace(JN,`
`).replace(qN,"")}function $b(n,r,o){if(r=sC(r),sC(n)!==r&&o)throw Error(me(425))}function a$(){}var uw=null,cw=null;function hw(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dw=typeof setTimeout=="function"?setTimeout:void 0,ZN=typeof clearTimeout=="function"?clearTimeout:void 0,lC=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof lC<"u"?function(n){return lC.resolve(null).then(n).catch(eL)}:dw;function eL(n){setTimeout(function(){throw n})}function eE(n,r){var o=r,l=0;do{var s=o.nextSibling;if(n.removeChild(o),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(l===0){n.removeChild(s),u_(r);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=s}while(o);u_(r)}function vu(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function aC(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}var nf=Math.random().toString(36).slice(2),Qs="__reactFiber$"+nf,f_="__reactProps$"+nf,ql="__reactContainer$"+nf,pw="__reactEvents$"+nf,tL="__reactListeners$"+nf,nL="__reactHandles$"+nf;function Zc(n){var r=n[Qs];if(r)return r;for(var o=n.parentNode;o;){if(r=o[ql]||o[Qs]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=aC(n);n!==null;){if(o=n[Qs])return o;n=aC(n)}return r}n=o,o=n.parentNode}return null}function R_(n){return n=n[Qs]||n[ql],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ip(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(me(33))}function H$(n){return n[f_]||null}var fw=[],Rp=-1;function xu(n){return{current:n}}function Qt(n){0>Rp||(n.current=fw[Rp],fw[Rp]=null,Rp--)}function jt(n,r){Rp++,fw[Rp]=n.current,n.current=r}var Cu={},jr=xu(Cu),Co=xu(!1),ah=Cu;function zp(n,r){var o=n.type.contextTypes;if(!o)return Cu;var l=n.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in o)s[c]=r[c];return l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),s}function So(n){return n=n.childContextTypes,n!=null}function u$(){Qt(Co),Qt(jr)}function uC(n,r,o){if(jr.current!==Cu)throw Error(me(168));jt(jr,r),jt(Co,o)}function yI(n,r,o){var l=n.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var s in l)if(!(s in r))throw Error(me(108,GO(n)||"Unknown",s));return gn({},o,l)}function c$(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Cu,ah=jr.current,jt(jr,n),jt(Co,Co.current),!0}function cC(n,r,o){var l=n.stateNode;if(!l)throw Error(me(169));o?(n=yI(n,r,ah),l.__reactInternalMemoizedMergedChildContext=n,Qt(Co),Qt(jr),jt(jr,n)):Qt(Co),jt(Co,o)}var Hl=null,V$=!1,tE=!1;function EI(n){Hl===null?Hl=[n]:Hl.push(n)}function rL(n){V$=!0,EI(n)}function Au(){if(!tE&&Hl!==null){tE=!0;var n=0,r=Bt;try{var o=Hl;for(Bt=1;n<o.length;n++){var l=o[n];do l=l(!0);while(l!==null)}Hl=null,V$=!1}catch(s){throw Hl!==null&&(Hl=Hl.slice(n+1)),XS(ck,Au),s}finally{Bt=r,tE=!1}}return null}var xp=[],Ap=0,h$=null,d$=0,Oi=[],Ni=0,uh=null,Wl=1,zl="";function Kc(n,r){xp[Ap++]=d$,xp[Ap++]=h$,h$=n,d$=r}function wI(n,r,o){Oi[Ni++]=Wl,Oi[Ni++]=zl,Oi[Ni++]=uh,uh=n;var l=Wl;n=zl;var s=32-vs(l)-1;l&=~(1<<s),o+=1;var c=32-vs(r)+s;if(30<c){var f=s-s%5;c=(l&(1<<f)-1).toString(32),l>>=f,s-=f,Wl=1<<32-vs(r)+s|o<<s|l,zl=c+n}else Wl=1<<c|o<<s|l,zl=n}function bk(n){n.return!==null&&(Kc(n,1),wI(n,1,0))}function $k(n){for(;n===h$;)h$=xp[--Ap],xp[Ap]=null,d$=xp[--Ap],xp[Ap]=null;for(;n===uh;)uh=Oi[--Ni],Oi[Ni]=null,zl=Oi[--Ni],Oi[Ni]=null,Wl=Oi[--Ni],Oi[Ni]=null}var Ko=null,Xo=null,an=!1,_s=null;function kI(n,r){var o=Mi(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function hC(n,r){switch(n.tag){case 5:var o=n.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,Ko=n,Xo=vu(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,Ko=n,Xo=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=uh!==null?{id:Wl,overflow:zl}:null,n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Mi(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,Ko=n,Xo=null,!0):!1;default:return!1}}function gw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function mw(n){if(an){var r=Xo;if(r){var o=r;if(!hC(n,r)){if(gw(n))throw Error(me(418));r=vu(o.nextSibling);var l=Ko;r&&hC(n,r)?kI(l,o):(n.flags=n.flags&-4097|2,an=!1,Ko=n)}}else{if(gw(n))throw Error(me(418));n.flags=n.flags&-4097|2,an=!1,Ko=n}}}function dC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ko=n}function yb(n){if(n!==Ko)return!1;if(!an)return dC(n),an=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!hw(n.type,n.memoizedProps)),r&&(r=Xo)){if(gw(n))throw TI(),Error(me(418));for(;r;)kI(n,r),r=vu(r.nextSibling)}if(dC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(me(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(r===0){Xo=vu(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}n=n.nextSibling}Xo=null}}else Xo=Ko?vu(n.stateNode.nextSibling):null;return!0}function TI(){for(var n=Xo;n;)n=vu(n.nextSibling)}function jp(){Xo=Ko=null,an=!1}function yk(n){_s===null?_s=[n]:_s.push(n)}var oL=ea.ReactCurrentBatchConfig;function gs(n,r){if(n&&n.defaultProps){r=gn({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}var p$=xu(null),f$=null,Dp=null,Ek=null;function wk(){Ek=Dp=f$=null}function kk(n){var r=p$.current;Qt(p$),n._currentValue=r}function _w(n,r,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===o)break;n=n.return}}function Gp(n,r){f$=n,Ek=Dp=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&r&&(ko=!0),n.firstContext=null)}function Fi(n){var r=n._currentValue;if(Ek!==n)if(n={context:n,memoizedValue:r,next:null},Dp===null){if(f$===null)throw Error(me(308));Dp=n,f$.dependencies={lanes:0,firstContext:n}}else Dp=Dp.next=n;return r}var Qc=null;function Tk(n){Qc===null?Qc=[n]:Qc.push(n)}function CI(n,r,o,l){var s=r.interleaved;return s===null?(o.next=o,Tk(r)):(o.next=s.next,s.next=o),r.interleaved=o,Zl(n,l)}function Zl(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var cu=!1;function Ck(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SI(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function jl(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function bu(n,r,o){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,St&2){var s=l.pending;return s===null?r.next=r:(r.next=s.next,s.next=r),l.pending=r,Zl(n,o)}return s=l.interleaved,s===null?(r.next=r,Tk(l)):(r.next=s.next,s.next=r),l.interleaved=r,Zl(n,o)}function Fb(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,hk(n,o)}}function pC(n,r){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var s=null,c=null;if(o=o.firstBaseUpdate,o!==null){do{var f={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};c===null?s=c=f:c=c.next=f,o=o.next}while(o!==null);c===null?s=c=r:c=c.next=r}else s=c=r;o={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:l.shared,effects:l.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function g$(n,r,o,l){var s=n.updateQueue;cu=!1;var c=s.firstBaseUpdate,f=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var g=d,_=g.next;g.next=null,f===null?c=_:f.next=_,f=g;var b=n.alternate;b!==null&&(b=b.updateQueue,d=b.lastBaseUpdate,d!==f&&(d===null?b.firstBaseUpdate=_:d.next=_,b.lastBaseUpdate=g))}if(c!==null){var y=s.baseState;f=0,b=_=g=null,d=c;do{var E=d.lane,S=d.eventTime;if((l&E)===E){b!==null&&(b=b.next={eventTime:S,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var D=n,L=d;switch(E=r,S=o,L.tag){case 1:if(D=L.payload,typeof D=="function"){y=D.call(S,y,E);break e}y=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=L.payload,E=typeof D=="function"?D.call(S,y,E):D,E==null)break e;y=gn({},y,E);break e;case 2:cu=!0}}d.callback!==null&&d.lane!==0&&(n.flags|=64,E=s.effects,E===null?s.effects=[d]:E.push(d))}else S={eventTime:S,lane:E,tag:d.tag,payload:d.payload,callback:d.callback,next:null},b===null?(_=b=S,g=y):b=b.next=S,f|=E;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;E=d,d=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(1);if(b===null&&(g=y),s.baseState=g,s.firstBaseUpdate=_,s.lastBaseUpdate=b,r=s.shared.interleaved,r!==null){s=r;do f|=s.lane,s=s.next;while(s!==r)}else c===null&&(s.shared.lanes=0);hh|=f,n.lanes=f,n.memoizedState=y}}function fC(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var l=n[r],s=l.callback;if(s!==null){if(l.callback=null,l=o,typeof s!="function")throw Error(me(191,s));s.call(l)}}}var II=new CS.Component().refs;function vw(n,r,o,l){r=n.memoizedState,o=o(l,r),o=o==null?r:gn({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var W$={isMounted:function(n){return(n=n._reactInternals)?_h(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var l=io(),s=yu(n),c=jl(l,s);c.payload=r,o!=null&&(c.callback=o),r=bu(n,c,s),r!==null&&(bs(r,n,s,l),Fb(r,n,s))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var l=io(),s=yu(n),c=jl(l,s);c.tag=1,c.payload=r,o!=null&&(c.callback=o),r=bu(n,c,s),r!==null&&(bs(r,n,s,l),Fb(r,n,s))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=io(),l=yu(n),s=jl(o,l);s.tag=2,r!=null&&(s.callback=r),r=bu(n,s,l),r!==null&&(bs(r,n,l,o),Fb(r,n,l))}};function gC(n,r,o,l,s,c,f){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,c,f):r.prototype&&r.prototype.isPureReactComponent?!h_(o,l)||!h_(s,c):!0}function RI(n,r,o){var l=!1,s=Cu,c=r.contextType;return typeof c=="object"&&c!==null?c=Fi(c):(s=So(r)?ah:jr.current,l=r.contextTypes,c=(l=l!=null)?zp(n,s):Cu),r=new r(o,c),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=W$,n.stateNode=r,r._reactInternals=n,l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=c),r}function mC(n,r,o,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==n&&W$.enqueueReplaceState(r,r.state,null)}function bw(n,r,o,l){var s=n.stateNode;s.props=o,s.state=n.memoizedState,s.refs=II,Ck(n);var c=r.contextType;typeof c=="object"&&c!==null?s.context=Fi(c):(c=So(r)?ah:jr.current,s.context=zp(n,c)),s.state=n.memoizedState,c=r.getDerivedStateFromProps,typeof c=="function"&&(vw(n,r,c,o),s.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&W$.enqueueReplaceState(s,s.state,null),g$(n,o,s,l),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Mm(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(me(309));var l=o.stateNode}if(!l)throw Error(me(147,n));var s=l,c=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===c?r.ref:(r=function(f){var d=s.refs;d===II&&(d=s.refs={}),f===null?delete d[c]:d[c]=f},r._stringRef=c,r)}if(typeof n!="string")throw Error(me(284));if(!o._owner)throw Error(me(290,n))}return n}function Eb(n,r){throw n=Object.prototype.toString.call(r),Error(me(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function _C(n){var r=n._init;return r(n._payload)}function xI(n){function r(w,k){if(n){var I=w.deletions;I===null?(w.deletions=[k],w.flags|=16):I.push(k)}}function o(w,k){if(!n)return null;for(;k!==null;)r(w,k),k=k.sibling;return null}function l(w,k){for(w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function s(w,k){return w=Eu(w,k),w.index=0,w.sibling=null,w}function c(w,k,I){return w.index=I,n?(I=w.alternate,I!==null?(I=I.index,I<k?(w.flags|=2,k):I):(w.flags|=2,k)):(w.flags|=1048576,k)}function f(w){return n&&w.alternate===null&&(w.flags|=2),w}function d(w,k,I,P){return k===null||k.tag!==6?(k=aE(I,w.mode,P),k.return=w,k):(k=s(k,I),k.return=w,k)}function g(w,k,I,P){var W=I.type;return W===kp?b(w,k,I.props.children,P,I.key):k!==null&&(k.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===uu&&_C(W)===k.type)?(P=s(k,I.props),P.ref=Mm(w,k,I),P.return=w,P):(P=zb(I.type,I.key,I.props,null,w.mode,P),P.ref=Mm(w,k,I),P.return=w,P)}function _(w,k,I,P){return k===null||k.tag!==4||k.stateNode.containerInfo!==I.containerInfo||k.stateNode.implementation!==I.implementation?(k=uE(I,w.mode,P),k.return=w,k):(k=s(k,I.children||[]),k.return=w,k)}function b(w,k,I,P,W){return k===null||k.tag!==7?(k=rh(I,w.mode,P,W),k.return=w,k):(k=s(k,I),k.return=w,k)}function y(w,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return k=aE(""+k,w.mode,I),k.return=w,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case hb:return I=zb(k.type,k.key,k.props,null,w.mode,I),I.ref=Mm(w,null,k),I.return=w,I;case wp:return k=uE(k,w.mode,I),k.return=w,k;case uu:var P=k._init;return y(w,P(k._payload),I)}if(Hm(k)||Am(k))return k=rh(k,w.mode,I,null),k.return=w,k;Eb(w,k)}return null}function E(w,k,I,P){var W=k!==null?k.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return W!==null?null:d(w,k,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case hb:return I.key===W?g(w,k,I,P):null;case wp:return I.key===W?_(w,k,I,P):null;case uu:return W=I._init,E(w,k,W(I._payload),P)}if(Hm(I)||Am(I))return W!==null?null:b(w,k,I,P,null);Eb(w,I)}return null}function S(w,k,I,P,W){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(I)||null,d(k,w,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case hb:return w=w.get(P.key===null?I:P.key)||null,g(k,w,P,W);case wp:return w=w.get(P.key===null?I:P.key)||null,_(k,w,P,W);case uu:var j=P._init;return S(w,k,I,j(P._payload),W)}if(Hm(P)||Am(P))return w=w.get(I)||null,b(k,w,P,W,null);Eb(k,P)}return null}function D(w,k,I,P){for(var W=null,j=null,H=k,K=k=0,$e=null;H!==null&&K<I.length;K++){H.index>K?($e=H,H=null):$e=H.sibling;var re=E(w,H,I[K],P);if(re===null){H===null&&(H=$e);break}n&&H&&re.alternate===null&&r(w,H),k=c(re,k,K),j===null?W=re:j.sibling=re,j=re,H=$e}if(K===I.length)return o(w,H),an&&Kc(w,K),W;if(H===null){for(;K<I.length;K++)H=y(w,I[K],P),H!==null&&(k=c(H,k,K),j===null?W=H:j.sibling=H,j=H);return an&&Kc(w,K),W}for(H=l(w,H);K<I.length;K++)$e=S(H,w,K,I[K],P),$e!==null&&(n&&$e.alternate!==null&&H.delete($e.key===null?K:$e.key),k=c($e,k,K),j===null?W=$e:j.sibling=$e,j=$e);return n&&H.forEach(function(pe){return r(w,pe)}),an&&Kc(w,K),W}function L(w,k,I,P){var W=Am(I);if(typeof W!="function")throw Error(me(150));if(I=W.call(I),I==null)throw Error(me(151));for(var j=W=null,H=k,K=k=0,$e=null,re=I.next();H!==null&&!re.done;K++,re=I.next()){H.index>K?($e=H,H=null):$e=H.sibling;var pe=E(w,H,re.value,P);if(pe===null){H===null&&(H=$e);break}n&&H&&pe.alternate===null&&r(w,H),k=c(pe,k,K),j===null?W=pe:j.sibling=pe,j=pe,H=$e}if(re.done)return o(w,H),an&&Kc(w,K),W;if(H===null){for(;!re.done;K++,re=I.next())re=y(w,re.value,P),re!==null&&(k=c(re,k,K),j===null?W=re:j.sibling=re,j=re);return an&&Kc(w,K),W}for(H=l(w,H);!re.done;K++,re=I.next())re=S(H,w,K,re.value,P),re!==null&&(n&&re.alternate!==null&&H.delete(re.key===null?K:re.key),k=c(re,k,K),j===null?W=re:j.sibling=re,j=re);return n&&H.forEach(function(ne){return r(w,ne)}),an&&Kc(w,K),W}function N(w,k,I,P){if(typeof I=="object"&&I!==null&&I.type===kp&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case hb:e:{for(var W=I.key,j=k;j!==null;){if(j.key===W){if(W=I.type,W===kp){if(j.tag===7){o(w,j.sibling),k=s(j,I.props.children),k.return=w,w=k;break e}}else if(j.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===uu&&_C(W)===j.type){o(w,j.sibling),k=s(j,I.props),k.ref=Mm(w,j,I),k.return=w,w=k;break e}o(w,j);break}else r(w,j);j=j.sibling}I.type===kp?(k=rh(I.props.children,w.mode,P,I.key),k.return=w,w=k):(P=zb(I.type,I.key,I.props,null,w.mode,P),P.ref=Mm(w,k,I),P.return=w,w=P)}return f(w);case wp:e:{for(j=I.key;k!==null;){if(k.key===j)if(k.tag===4&&k.stateNode.containerInfo===I.containerInfo&&k.stateNode.implementation===I.implementation){o(w,k.sibling),k=s(k,I.children||[]),k.return=w,w=k;break e}else{o(w,k);break}else r(w,k);k=k.sibling}k=uE(I,w.mode,P),k.return=w,w=k}return f(w);case uu:return j=I._init,N(w,k,j(I._payload),P)}if(Hm(I))return D(w,k,I,P);if(Am(I))return L(w,k,I,P);Eb(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,k!==null&&k.tag===6?(o(w,k.sibling),k=s(k,I),k.return=w,w=k):(o(w,k),k=aE(I,w.mode,P),k.return=w,w=k),f(w)):o(w,k)}return N}var Xp=xI(!0),AI=xI(!1),x_={},nl=xu(x_),g_=xu(x_),m_=xu(x_);function eh(n){if(n===x_)throw Error(me(174));return n}function Sk(n,r){switch(jt(m_,r),jt(g_,n),jt(nl,x_),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:qE(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=qE(r,n)}Qt(nl),jt(nl,r)}function Yp(){Qt(nl),Qt(g_),Qt(m_)}function DI(n){eh(m_.current);var r=eh(nl.current),o=qE(r,n.type);r!==o&&(jt(g_,n),jt(nl,o))}function Ik(n){g_.current===n&&(Qt(nl),Qt(g_))}var pn=xu(0);function m$(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nE=[];function Rk(){for(var n=0;n<nE.length;n++)nE[n]._workInProgressVersionPrimary=null;nE.length=0}var Gb=ea.ReactCurrentDispatcher,rE=ea.ReactCurrentBatchConfig,ch=0,fn=null,Wn=null,Qn=null,_$=!1,qm=!1,__=0,iL=0;function Ur(){throw Error(me(321))}function xk(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!ys(n[o],r[o]))return!1;return!0}function Ak(n,r,o,l,s,c){if(ch=c,fn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Gb.current=n===null||n.memoizedState===null?uL:cL,n=o(l,s),qm){c=0;do{if(qm=!1,__=0,25<=c)throw Error(me(301));c+=1,Qn=Wn=null,r.updateQueue=null,Gb.current=hL,n=o(l,s)}while(qm)}if(Gb.current=v$,r=Wn!==null&&Wn.next!==null,ch=0,Qn=Wn=fn=null,_$=!1,r)throw Error(me(300));return n}function Dk(){var n=__!==0;return __=0,n}function Ks(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?fn.memoizedState=Qn=n:Qn=Qn.next=n,Qn}function Gi(){if(Wn===null){var n=fn.alternate;n=n!==null?n.memoizedState:null}else n=Wn.next;var r=Qn===null?fn.memoizedState:Qn.next;if(r!==null)Qn=r,Wn=n;else{if(n===null)throw Error(me(310));Wn=n,n={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Qn===null?fn.memoizedState=Qn=n:Qn=Qn.next=n}return Qn}function v_(n,r){return typeof r=="function"?r(n):r}function oE(n){var r=Gi(),o=r.queue;if(o===null)throw Error(me(311));o.lastRenderedReducer=n;var l=Wn,s=l.baseQueue,c=o.pending;if(c!==null){if(s!==null){var f=s.next;s.next=c.next,c.next=f}l.baseQueue=s=c,o.pending=null}if(s!==null){c=s.next,l=l.baseState;var d=f=null,g=null,_=c;do{var b=_.lane;if((ch&b)===b)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),l=_.hasEagerState?_.eagerState:n(l,_.action);else{var y={lane:b,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(d=g=y,f=l):g=g.next=y,fn.lanes|=b,hh|=b}_=_.next}while(_!==null&&_!==c);g===null?f=l:g.next=d,ys(l,r.memoizedState)||(ko=!0),r.memoizedState=l,r.baseState=f,r.baseQueue=g,o.lastRenderedState=l}if(n=o.interleaved,n!==null){s=n;do c=s.lane,fn.lanes|=c,hh|=c,s=s.next;while(s!==n)}else s===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function iE(n){var r=Gi(),o=r.queue;if(o===null)throw Error(me(311));o.lastRenderedReducer=n;var l=o.dispatch,s=o.pending,c=r.memoizedState;if(s!==null){o.pending=null;var f=s=s.next;do c=n(c,f.action),f=f.next;while(f!==s);ys(c,r.memoizedState)||(ko=!0),r.memoizedState=c,r.baseQueue===null&&(r.baseState=c),o.lastRenderedState=c}return[c,l]}function OI(){}function NI(n,r){var o=fn,l=Gi(),s=r(),c=!ys(l.memoizedState,s);if(c&&(l.memoizedState=s,ko=!0),l=l.queue,Ok(BI.bind(null,o,l,n),[n]),l.getSnapshot!==r||c||Qn!==null&&Qn.memoizedState.tag&1){if(o.flags|=2048,b_(9,MI.bind(null,o,l,s,r),void 0,null),tr===null)throw Error(me(349));ch&30||LI(o,r,s)}return s}function LI(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=fn.updateQueue,r===null?(r={lastEffect:null,stores:null},fn.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function MI(n,r,o,l){r.value=o,r.getSnapshot=l,PI(r)&&FI(n)}function BI(n,r,o){return o(function(){PI(r)&&FI(n)})}function PI(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!ys(n,o)}catch{return!0}}function FI(n){var r=Zl(n,1);r!==null&&bs(r,n,1,-1)}function vC(n){var r=Ks();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:v_,lastRenderedState:n},r.queue=n,n=n.dispatch=aL.bind(null,fn,n),[r.memoizedState,n]}function b_(n,r,o,l){return n={tag:n,create:r,destroy:o,deps:l,next:null},r=fn.updateQueue,r===null?(r={lastEffect:null,stores:null},fn.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,r.lastEffect=n)),n}function GI(){return Gi().memoizedState}function Ub(n,r,o,l){var s=Ks();fn.flags|=n,s.memoizedState=b_(1|r,o,void 0,l===void 0?null:l)}function z$(n,r,o,l){var s=Gi();l=l===void 0?null:l;var c=void 0;if(Wn!==null){var f=Wn.memoizedState;if(c=f.destroy,l!==null&&xk(l,f.deps)){s.memoizedState=b_(r,o,c,l);return}}fn.flags|=n,s.memoizedState=b_(1|r,o,c,l)}function bC(n,r){return Ub(8390656,8,n,r)}function Ok(n,r){return z$(2048,8,n,r)}function UI(n,r){return z$(4,2,n,r)}function HI(n,r){return z$(4,4,n,r)}function VI(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function WI(n,r,o){return o=o!=null?o.concat([n]):null,z$(4,4,VI.bind(null,r,n),o)}function Nk(){}function zI(n,r){var o=Gi();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&xk(r,l[1])?l[0]:(o.memoizedState=[n,r],n)}function jI(n,r){var o=Gi();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&xk(r,l[1])?l[0]:(n=n(),o.memoizedState=[n,r],n)}function XI(n,r,o){return ch&21?(ys(o,r)||(o=JS(),fn.lanes|=o,hh|=o,n.baseState=!0),r):(n.baseState&&(n.baseState=!1,ko=!0),n.memoizedState=o)}function sL(n,r){var o=Bt;Bt=o!==0&&4>o?o:4,n(!0);var l=rE.transition;rE.transition={};try{n(!1),r()}finally{Bt=o,rE.transition=l}}function YI(){return Gi().memoizedState}function lL(n,r,o){var l=yu(n);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},KI(n))JI(r,o);else if(o=CI(n,r,o,l),o!==null){var s=io();bs(o,n,l,s),qI(o,r,l)}}function aL(n,r,o){var l=yu(n),s={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(KI(n))JI(r,s);else{var c=n.alternate;if(n.lanes===0&&(c===null||c.lanes===0)&&(c=r.lastRenderedReducer,c!==null))try{var f=r.lastRenderedState,d=c(f,o);if(s.hasEagerState=!0,s.eagerState=d,ys(d,f)){var g=r.interleaved;g===null?(s.next=s,Tk(r)):(s.next=g.next,g.next=s),r.interleaved=s;return}}catch{}finally{}o=CI(n,r,s,l),o!==null&&(s=io(),bs(o,n,l,s),qI(o,r,l))}}function KI(n){var r=n.alternate;return n===fn||r!==null&&r===fn}function JI(n,r){qm=_$=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function qI(n,r,o){if(o&4194240){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,hk(n,o)}}var v$={readContext:Fi,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},uL={readContext:Fi,useCallback:function(n,r){return Ks().memoizedState=[n,r===void 0?null:r],n},useContext:Fi,useEffect:bC,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,Ub(4194308,4,VI.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Ub(4194308,4,n,r)},useInsertionEffect:function(n,r){return Ub(4,2,n,r)},useMemo:function(n,r){var o=Ks();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var l=Ks();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},l.queue=n,n=n.dispatch=lL.bind(null,fn,n),[l.memoizedState,n]},useRef:function(n){var r=Ks();return n={current:n},r.memoizedState=n},useState:vC,useDebugValue:Nk,useDeferredValue:function(n){return Ks().memoizedState=n},useTransition:function(){var n=vC(!1),r=n[0];return n=sL.bind(null,n[1]),Ks().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var l=fn,s=Ks();if(an){if(o===void 0)throw Error(me(407));o=o()}else{if(o=r(),tr===null)throw Error(me(349));ch&30||LI(l,r,o)}s.memoizedState=o;var c={value:o,getSnapshot:r};return s.queue=c,bC(BI.bind(null,l,c,n),[n]),l.flags|=2048,b_(9,MI.bind(null,l,c,o,r),void 0,null),o},useId:function(){var n=Ks(),r=tr.identifierPrefix;if(an){var o=zl,l=Wl;o=(l&~(1<<32-vs(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=__++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=iL++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},cL={readContext:Fi,useCallback:zI,useContext:Fi,useEffect:Ok,useImperativeHandle:WI,useInsertionEffect:UI,useLayoutEffect:HI,useMemo:jI,useReducer:oE,useRef:GI,useState:function(){return oE(v_)},useDebugValue:Nk,useDeferredValue:function(n){var r=Gi();return XI(r,Wn.memoizedState,n)},useTransition:function(){var n=oE(v_)[0],r=Gi().memoizedState;return[n,r]},useMutableSource:OI,useSyncExternalStore:NI,useId:YI,unstable_isNewReconciler:!1},hL={readContext:Fi,useCallback:zI,useContext:Fi,useEffect:Ok,useImperativeHandle:WI,useInsertionEffect:UI,useLayoutEffect:HI,useMemo:jI,useReducer:iE,useRef:GI,useState:function(){return iE(v_)},useDebugValue:Nk,useDeferredValue:function(n){var r=Gi();return Wn===null?r.memoizedState=n:XI(r,Wn.memoizedState,n)},useTransition:function(){var n=iE(v_)[0],r=Gi().memoizedState;return[n,r]},useMutableSource:OI,useSyncExternalStore:NI,useId:YI,unstable_isNewReconciler:!1};function Kp(n,r){try{var o="",l=r;do o+=FO(l),l=l.return;while(l);var s=o}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:n,source:r,stack:s,digest:null}}function sE(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function $w(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var dL=typeof WeakMap=="function"?WeakMap:Map;function ZI(n,r,o){o=jl(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){$$||($$=!0,xw=l),$w(n,r)},o}function QI(n,r,o){o=jl(-1,o),o.tag=3;var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=r.value;o.payload=function(){return l(s)},o.callback=function(){$w(n,r)}}var c=n.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(o.callback=function(){$w(n,r),typeof l!="function"&&($u===null?$u=new Set([this]):$u.add(this));var f=r.stack;this.componentDidCatch(r.value,{componentStack:f!==null?f:""})}),o}function $C(n,r,o){var l=n.pingCache;if(l===null){l=n.pingCache=new dL;var s=new Set;l.set(r,s)}else s=l.get(r),s===void 0&&(s=new Set,l.set(r,s));s.has(o)||(s.add(o),n=CL.bind(null,n,r,o),r.then(n,n))}function yC(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function EC(n,r,o,l,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=jl(-1,1),r.tag=2,bu(o,r,1))),o.lanes|=1),n)}var pL=ea.ReactCurrentOwner,ko=!1;function oo(n,r,o,l){r.child=n===null?AI(r,null,o,l):Xp(r,n.child,o,l)}function wC(n,r,o,l,s){o=o.render;var c=r.ref;return Gp(r,s),l=Ak(n,r,o,l,c,s),o=Dk(),n!==null&&!ko?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s,Ql(n,r,s)):(an&&o&&bk(r),r.flags|=1,oo(n,r,l,s),r.child)}function kC(n,r,o,l,s){if(n===null){var c=o.type;return typeof c=="function"&&!Hk(c)&&c.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=c,eR(n,r,c,l,s)):(n=zb(o.type,null,l,r,r.mode,s),n.ref=r.ref,n.return=r,r.child=n)}if(c=n.child,!(n.lanes&s)){var f=c.memoizedProps;if(o=o.compare,o=o!==null?o:h_,o(f,l)&&n.ref===r.ref)return Ql(n,r,s)}return r.flags|=1,n=Eu(c,l),n.ref=r.ref,n.return=r,r.child=n}function eR(n,r,o,l,s){if(n!==null){var c=n.memoizedProps;if(h_(c,l)&&n.ref===r.ref)if(ko=!1,r.pendingProps=l=c,(n.lanes&s)!==0)n.flags&131072&&(ko=!0);else return r.lanes=n.lanes,Ql(n,r,s)}return yw(n,r,o,l,s)}function tR(n,r,o){var l=r.pendingProps,s=l.children,c=n!==null?n.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Np,jo),jo|=o;else{if(!(o&1073741824))return n=c!==null?c.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,jt(Np,jo),jo|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=c!==null?c.baseLanes:o,jt(Np,jo),jo|=l}else c!==null?(l=c.baseLanes|o,r.memoizedState=null):l=o,jt(Np,jo),jo|=l;return oo(n,r,s,o),r.child}function nR(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function yw(n,r,o,l,s){var c=So(o)?ah:jr.current;return c=zp(r,c),Gp(r,s),o=Ak(n,r,o,l,c,s),l=Dk(),n!==null&&!ko?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s,Ql(n,r,s)):(an&&l&&bk(r),r.flags|=1,oo(n,r,o,s),r.child)}function TC(n,r,o,l,s){if(So(o)){var c=!0;c$(r)}else c=!1;if(Gp(r,s),r.stateNode===null)Hb(n,r),RI(r,o,l),bw(r,o,l,s),l=!0;else if(n===null){var f=r.stateNode,d=r.memoizedProps;f.props=d;var g=f.context,_=o.contextType;typeof _=="object"&&_!==null?_=Fi(_):(_=So(o)?ah:jr.current,_=zp(r,_));var b=o.getDerivedStateFromProps,y=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function";y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==l||g!==_)&&mC(r,f,l,_),cu=!1;var E=r.memoizedState;f.state=E,g$(r,l,f,s),g=r.memoizedState,d!==l||E!==g||Co.current||cu?(typeof b=="function"&&(vw(r,o,b,l),g=r.memoizedState),(d=cu||gC(r,o,d,l,E,g,_))?(y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=g),f.props=l,f.state=g,f.context=_,l=d):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,SI(n,r),d=r.memoizedProps,_=r.type===r.elementType?d:gs(r.type,d),f.props=_,y=r.pendingProps,E=f.context,g=o.contextType,typeof g=="object"&&g!==null?g=Fi(g):(g=So(o)?ah:jr.current,g=zp(r,g));var S=o.getDerivedStateFromProps;(b=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==y||E!==g)&&mC(r,f,l,g),cu=!1,E=r.memoizedState,f.state=E,g$(r,l,f,s);var D=r.memoizedState;d!==y||E!==D||Co.current||cu?(typeof S=="function"&&(vw(r,o,S,l),D=r.memoizedState),(_=cu||gC(r,o,_,l,E,D,g)||!1)?(b||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,g),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,g)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||d===n.memoizedProps&&E===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===n.memoizedProps&&E===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=D),f.props=l,f.state=D,f.context=g,l=_):(typeof f.componentDidUpdate!="function"||d===n.memoizedProps&&E===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===n.memoizedProps&&E===n.memoizedState||(r.flags|=1024),l=!1)}return Ew(n,r,o,l,c,s)}function Ew(n,r,o,l,s,c){nR(n,r);var f=(r.flags&128)!==0;if(!l&&!f)return s&&cC(r,o,!1),Ql(n,r,c);l=r.stateNode,pL.current=r;var d=f&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,n!==null&&f?(r.child=Xp(r,n.child,null,c),r.child=Xp(r,null,d,c)):oo(n,r,d,c),r.memoizedState=l.state,s&&cC(r,o,!0),r.child}function rR(n){var r=n.stateNode;r.pendingContext?uC(n,r.pendingContext,r.pendingContext!==r.context):r.context&&uC(n,r.context,!1),Sk(n,r.containerInfo)}function CC(n,r,o,l,s){return jp(),yk(s),r.flags|=256,oo(n,r,o,l),r.child}var ww={dehydrated:null,treeContext:null,retryLane:0};function kw(n){return{baseLanes:n,cachePool:null,transitions:null}}function oR(n,r,o){var l=r.pendingProps,s=pn.current,c=!1,f=(r.flags&128)!==0,d;if((d=f)||(d=n!==null&&n.memoizedState===null?!1:(s&2)!==0),d?(c=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),jt(pn,s&1),n===null)return mw(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(r.mode&1?n.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(f=l.children,n=l.fallback,c?(l=r.mode,c=r.child,f={mode:"hidden",children:f},!(l&1)&&c!==null?(c.childLanes=0,c.pendingProps=f):c=Y$(f,l,0,null),n=rh(n,l,o,null),c.return=r,n.return=r,c.sibling=n,r.child=c,r.child.memoizedState=kw(o),r.memoizedState=ww,n):Lk(r,f));if(s=n.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return fL(n,r,f,l,d,s,o);if(c){c=l.fallback,f=r.mode,s=n.child,d=s.sibling;var g={mode:"hidden",children:l.children};return!(f&1)&&r.child!==s?(l=r.child,l.childLanes=0,l.pendingProps=g,r.deletions=null):(l=Eu(s,g),l.subtreeFlags=s.subtreeFlags&14680064),d!==null?c=Eu(d,c):(c=rh(c,f,o,null),c.flags|=2),c.return=r,l.return=r,l.sibling=c,r.child=l,l=c,c=r.child,f=n.child.memoizedState,f=f===null?kw(o):{baseLanes:f.baseLanes|o,cachePool:null,transitions:f.transitions},c.memoizedState=f,c.childLanes=n.childLanes&~o,r.memoizedState=ww,l}return c=n.child,n=c.sibling,l=Eu(c,{mode:"visible",children:l.children}),!(r.mode&1)&&(l.lanes=o),l.return=r,l.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=l,r.memoizedState=null,l}function Lk(n,r){return r=Y$({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function wb(n,r,o,l){return l!==null&&yk(l),Xp(r,n.child,null,o),n=Lk(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function fL(n,r,o,l,s,c,f){if(o)return r.flags&256?(r.flags&=-257,l=sE(Error(me(422))),wb(n,r,f,l)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(c=l.fallback,s=r.mode,l=Y$({mode:"visible",children:l.children},s,0,null),c=rh(c,s,f,null),c.flags|=2,l.return=r,c.return=r,l.sibling=c,r.child=l,r.mode&1&&Xp(r,n.child,null,f),r.child.memoizedState=kw(f),r.memoizedState=ww,c);if(!(r.mode&1))return wb(n,r,f,null);if(s.data==="$!"){if(l=s.nextSibling&&s.nextSibling.dataset,l)var d=l.dgst;return l=d,c=Error(me(419)),l=sE(c,l,void 0),wb(n,r,f,l)}if(d=(f&n.childLanes)!==0,ko||d){if(l=tr,l!==null){switch(f&-f){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(l.suspendedLanes|f)?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,Zl(n,s),bs(l,n,s,-1))}return Uk(),l=sE(Error(me(421))),wb(n,r,f,l)}return s.data==="$?"?(r.flags|=128,r.child=n.child,r=SL.bind(null,n),s._reactRetry=r,null):(n=c.treeContext,Xo=vu(s.nextSibling),Ko=r,an=!0,_s=null,n!==null&&(Oi[Ni++]=Wl,Oi[Ni++]=zl,Oi[Ni++]=uh,Wl=n.id,zl=n.overflow,uh=r),r=Lk(r,l.children),r.flags|=4096,r)}function SC(n,r,o){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),_w(n.return,r,o)}function lE(n,r,o,l,s){var c=n.memoizedState;c===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:s}:(c.isBackwards=r,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=o,c.tailMode=s)}function iR(n,r,o){var l=r.pendingProps,s=l.revealOrder,c=l.tail;if(oo(n,r,l.children,o),l=pn.current,l&2)l=l&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&SC(n,o,r);else if(n.tag===19)SC(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}if(jt(pn,l),!(r.mode&1))r.memoizedState=null;else switch(s){case"forwards":for(o=r.child,s=null;o!==null;)n=o.alternate,n!==null&&m$(n)===null&&(s=o),o=o.sibling;o=s,o===null?(s=r.child,r.child=null):(s=o.sibling,o.sibling=null),lE(r,!1,s,o,c);break;case"backwards":for(o=null,s=r.child,r.child=null;s!==null;){if(n=s.alternate,n!==null&&m$(n)===null){r.child=s;break}n=s.sibling,s.sibling=o,o=s,s=n}lE(r,!0,o,null,c);break;case"together":lE(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hb(n,r){!(r.mode&1)&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Ql(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),hh|=r.lanes,!(o&r.childLanes))return null;if(n!==null&&r.child!==n.child)throw Error(me(153));if(r.child!==null){for(n=r.child,o=Eu(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Eu(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function gL(n,r,o){switch(r.tag){case 3:rR(r),jp();break;case 5:DI(r);break;case 1:So(r.type)&&c$(r);break;case 4:Sk(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,s=r.memoizedProps.value;jt(p$,l._currentValue),l._currentValue=s;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(jt(pn,pn.current&1),r.flags|=128,null):o&r.child.childLanes?oR(n,r,o):(jt(pn,pn.current&1),n=Ql(n,r,o),n!==null?n.sibling:null);jt(pn,pn.current&1);break;case 19:if(l=(o&r.childLanes)!==0,n.flags&128){if(l)return iR(n,r,o);r.flags|=128}if(s=r.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),jt(pn,pn.current),l)break;return null;case 22:case 23:return r.lanes=0,tR(n,r,o)}return Ql(n,r,o)}var sR,Tw,lR,aR;sR=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Tw=function(){};lR=function(n,r,o,l){var s=n.memoizedProps;if(s!==l){n=r.stateNode,eh(nl.current);var c=null;switch(o){case"input":s=XE(n,s),l=XE(n,l),c=[];break;case"select":s=gn({},s,{value:void 0}),l=gn({},l,{value:void 0}),c=[];break;case"textarea":s=JE(n,s),l=JE(n,l),c=[];break;default:typeof s.onClick!="function"&&typeof l.onClick=="function"&&(n.onclick=a$)}ZE(o,l);var f;o=null;for(_ in s)if(!l.hasOwnProperty(_)&&s.hasOwnProperty(_)&&s[_]!=null)if(_==="style"){var d=s[_];for(f in d)d.hasOwnProperty(f)&&(o||(o={}),o[f]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o_.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in l){var g=l[_];if(d=s!=null?s[_]:void 0,l.hasOwnProperty(_)&&g!==d&&(g!=null||d!=null))if(_==="style")if(d){for(f in d)!d.hasOwnProperty(f)||g&&g.hasOwnProperty(f)||(o||(o={}),o[f]="");for(f in g)g.hasOwnProperty(f)&&d[f]!==g[f]&&(o||(o={}),o[f]=g[f])}else o||(c||(c=[]),c.push(_,o)),o=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,d=d?d.__html:void 0,g!=null&&d!==g&&(c=c||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(o_.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&qt("scroll",n),c||d===g||(c=[])):(c=c||[]).push(_,g))}o&&(c=c||[]).push("style",o);var _=c;(r.updateQueue=_)&&(r.flags|=4)}};aR=function(n,r,o,l){o!==l&&(r.flags|=4)};function Bm(n,r){if(!an)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Hr(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(r)for(var s=n.child;s!==null;)o|=s.lanes|s.childLanes,l|=s.subtreeFlags&14680064,l|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)o|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=l,n.childLanes=o,r}function mL(n,r,o){var l=r.pendingProps;switch($k(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(r),null;case 1:return So(r.type)&&u$(),Hr(r),null;case 3:return l=r.stateNode,Yp(),Qt(Co),Qt(jr),Rk(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(yb(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,_s!==null&&(Ow(_s),_s=null))),Tw(n,r),Hr(r),null;case 5:Ik(r);var s=eh(m_.current);if(o=r.type,n!==null&&r.stateNode!=null)lR(n,r,o,l,s),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(me(166));return Hr(r),null}if(n=eh(nl.current),yb(r)){l=r.stateNode,o=r.type;var c=r.memoizedProps;switch(l[Qs]=r,l[f_]=c,n=(r.mode&1)!==0,o){case"dialog":qt("cancel",l),qt("close",l);break;case"iframe":case"object":case"embed":qt("load",l);break;case"video":case"audio":for(s=0;s<Wm.length;s++)qt(Wm[s],l);break;case"source":qt("error",l);break;case"img":case"image":case"link":qt("error",l),qt("load",l);break;case"details":qt("toggle",l);break;case"input":MT(l,c),qt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!c.multiple},qt("invalid",l);break;case"textarea":PT(l,c),qt("invalid",l)}ZE(o,c),s=null;for(var f in c)if(c.hasOwnProperty(f)){var d=c[f];f==="children"?typeof d=="string"?l.textContent!==d&&(c.suppressHydrationWarning!==!0&&$b(l.textContent,d,n),s=["children",d]):typeof d=="number"&&l.textContent!==""+d&&(c.suppressHydrationWarning!==!0&&$b(l.textContent,d,n),s=["children",""+d]):o_.hasOwnProperty(f)&&d!=null&&f==="onScroll"&&qt("scroll",l)}switch(o){case"input":db(l),BT(l,c,!0);break;case"textarea":db(l),FT(l);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(l.onclick=a$)}l=s,r.updateQueue=l,l!==null&&(r.flags|=4)}else{f=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=LS(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof l.is=="string"?n=f.createElement(o,{is:l.is}):(n=f.createElement(o),o==="select"&&(f=n,l.multiple?f.multiple=!0:l.size&&(f.size=l.size))):n=f.createElementNS(n,o),n[Qs]=r,n[f_]=l,sR(n,r,!1,!1),r.stateNode=n;e:{switch(f=QE(o,l),o){case"dialog":qt("cancel",n),qt("close",n),s=l;break;case"iframe":case"object":case"embed":qt("load",n),s=l;break;case"video":case"audio":for(s=0;s<Wm.length;s++)qt(Wm[s],n);s=l;break;case"source":qt("error",n),s=l;break;case"img":case"image":case"link":qt("error",n),qt("load",n),s=l;break;case"details":qt("toggle",n),s=l;break;case"input":MT(n,l),s=XE(n,l),qt("invalid",n);break;case"option":s=l;break;case"select":n._wrapperState={wasMultiple:!!l.multiple},s=gn({},l,{value:void 0}),qt("invalid",n);break;case"textarea":PT(n,l),s=JE(n,l),qt("invalid",n);break;default:s=l}ZE(o,s),d=s;for(c in d)if(d.hasOwnProperty(c)){var g=d[c];c==="style"?PS(n,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&MS(n,g)):c==="children"?typeof g=="string"?(o!=="textarea"||g!=="")&&i_(n,g):typeof g=="number"&&i_(n,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(o_.hasOwnProperty(c)?g!=null&&c==="onScroll"&&qt("scroll",n):g!=null&&ik(n,c,g,f))}switch(o){case"input":db(n),BT(n,l,!1);break;case"textarea":db(n),FT(n);break;case"option":l.value!=null&&n.setAttribute("value",""+Tu(l.value));break;case"select":n.multiple=!!l.multiple,c=l.value,c!=null?Mp(n,!!l.multiple,c,!1):l.defaultValue!=null&&Mp(n,!!l.multiple,l.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=a$)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Hr(r),null;case 6:if(n&&r.stateNode!=null)aR(n,r,n.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(me(166));if(o=eh(m_.current),eh(nl.current),yb(r)){if(l=r.stateNode,o=r.memoizedProps,l[Qs]=r,(c=l.nodeValue!==o)&&(n=Ko,n!==null))switch(n.tag){case 3:$b(l.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&$b(l.nodeValue,o,(n.mode&1)!==0)}c&&(r.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[Qs]=r,r.stateNode=l}return Hr(r),null;case 13:if(Qt(pn),l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(an&&Xo!==null&&r.mode&1&&!(r.flags&128))TI(),jp(),r.flags|=98560,c=!1;else if(c=yb(r),l!==null&&l.dehydrated!==null){if(n===null){if(!c)throw Error(me(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(me(317));c[Qs]=r}else jp(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Hr(r),c=!1}else _s!==null&&(Ow(_s),_s=null),c=!0;if(!c)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(l=l!==null,l!==(n!==null&&n.memoizedState!==null)&&l&&(r.child.flags|=8192,r.mode&1&&(n===null||pn.current&1?zn===0&&(zn=3):Uk())),r.updateQueue!==null&&(r.flags|=4),Hr(r),null);case 4:return Yp(),Tw(n,r),n===null&&d_(r.stateNode.containerInfo),Hr(r),null;case 10:return kk(r.type._context),Hr(r),null;case 17:return So(r.type)&&u$(),Hr(r),null;case 19:if(Qt(pn),c=r.memoizedState,c===null)return Hr(r),null;if(l=(r.flags&128)!==0,f=c.rendering,f===null)if(l)Bm(c,!1);else{if(zn!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(f=m$(n),f!==null){for(r.flags|=128,Bm(c,!1),l=f.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=o,o=r.child;o!==null;)c=o,n=l,c.flags&=14680066,f=c.alternate,f===null?(c.childLanes=0,c.lanes=n,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,n=f.dependencies,c.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return jt(pn,pn.current&1|2),r.child}n=n.sibling}c.tail!==null&&xn()>Jp&&(r.flags|=128,l=!0,Bm(c,!1),r.lanes=4194304)}else{if(!l)if(n=m$(f),n!==null){if(r.flags|=128,l=!0,o=n.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Bm(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!an)return Hr(r),null}else 2*xn()-c.renderingStartTime>Jp&&o!==1073741824&&(r.flags|=128,l=!0,Bm(c,!1),r.lanes=4194304);c.isBackwards?(f.sibling=r.child,r.child=f):(o=c.last,o!==null?o.sibling=f:r.child=f,c.last=f)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=xn(),r.sibling=null,o=pn.current,jt(pn,l?o&1|2:o&1),r):(Hr(r),null);case 22:case 23:return Gk(),l=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==l&&(r.flags|=8192),l&&r.mode&1?jo&1073741824&&(Hr(r),r.subtreeFlags&6&&(r.flags|=8192)):Hr(r),null;case 24:return null;case 25:return null}throw Error(me(156,r.tag))}function _L(n,r){switch($k(r),r.tag){case 1:return So(r.type)&&u$(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Yp(),Qt(Co),Qt(jr),Rk(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 5:return Ik(r),null;case 13:if(Qt(pn),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(me(340));jp()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Qt(pn),null;case 4:return Yp(),null;case 10:return kk(r.type._context),null;case 22:case 23:return Gk(),null;case 24:return null;default:return null}}var kb=!1,zr=!1,vL=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Op(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){kn(n,r,l)}else o.current=null}function Cw(n,r,o){try{o()}catch(l){kn(n,r,l)}}var IC=!1;function bL(n,r){if(uw=i$,n=dI(),vk(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var s=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break e}var f=0,d=-1,g=-1,_=0,b=0,y=n,E=null;t:for(;;){for(var S;y!==o||s!==0&&y.nodeType!==3||(d=f+s),y!==c||l!==0&&y.nodeType!==3||(g=f+l),y.nodeType===3&&(f+=y.nodeValue.length),(S=y.firstChild)!==null;)E=y,y=S;for(;;){if(y===n)break t;if(E===o&&++_===s&&(d=f),E===c&&++b===l&&(g=f),(S=y.nextSibling)!==null)break;y=E,E=y.parentNode}y=S}o=d===-1||g===-1?null:{start:d,end:g}}else o=null}o=o||{start:0,end:0}}else o=null;for(cw={focusedElem:n,selectionRange:o},i$=!1,Me=r;Me!==null;)if(r=Me,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Me=n;else for(;Me!==null;){r=Me;try{var D=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var L=D.memoizedProps,N=D.memoizedState,w=r.stateNode,k=w.getSnapshotBeforeUpdate(r.elementType===r.type?L:gs(r.type,L),N);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var I=r.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(P){kn(r,r.return,P)}if(n=r.sibling,n!==null){n.return=r.return,Me=n;break}Me=r.return}return D=IC,IC=!1,D}function Zm(n,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var s=l=l.next;do{if((s.tag&n)===n){var c=s.destroy;s.destroy=void 0,c!==void 0&&Cw(r,o,c)}s=s.next}while(s!==l)}}function j$(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function Sw(n){var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof r=="function"?r(n):r.current=n}}function uR(n){var r=n.alternate;r!==null&&(n.alternate=null,uR(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Qs],delete r[f_],delete r[pw],delete r[tL],delete r[nL])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cR(n){return n.tag===5||n.tag===3||n.tag===4}function RC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Iw(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(n,r):o.insertBefore(n,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(n,o)):(r=o,r.appendChild(n)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=a$));else if(l!==4&&(n=n.child,n!==null))for(Iw(n,r,o),n=n.sibling;n!==null;)Iw(n,r,o),n=n.sibling}function Rw(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(l!==4&&(n=n.child,n!==null))for(Rw(n,r,o),n=n.sibling;n!==null;)Rw(n,r,o),n=n.sibling}var mr=null,ms=!1;function au(n,r,o){for(o=o.child;o!==null;)hR(n,r,o),o=o.sibling}function hR(n,r,o){if(tl&&typeof tl.onCommitFiberUnmount=="function")try{tl.onCommitFiberUnmount(P$,o)}catch{}switch(o.tag){case 5:zr||Op(o,r);case 6:var l=mr,s=ms;mr=null,au(n,r,o),mr=l,ms=s,mr!==null&&(ms?(n=mr,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):mr.removeChild(o.stateNode));break;case 18:mr!==null&&(ms?(n=mr,o=o.stateNode,n.nodeType===8?eE(n.parentNode,o):n.nodeType===1&&eE(n,o),u_(n)):eE(mr,o.stateNode));break;case 4:l=mr,s=ms,mr=o.stateNode.containerInfo,ms=!0,au(n,r,o),mr=l,ms=s;break;case 0:case 11:case 14:case 15:if(!zr&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){s=l=l.next;do{var c=s,f=c.destroy;c=c.tag,f!==void 0&&(c&2||c&4)&&Cw(o,r,f),s=s.next}while(s!==l)}au(n,r,o);break;case 1:if(!zr&&(Op(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(d){kn(o,r,d)}au(n,r,o);break;case 21:au(n,r,o);break;case 22:o.mode&1?(zr=(l=zr)||o.memoizedState!==null,au(n,r,o),zr=l):au(n,r,o);break;default:au(n,r,o)}}function xC(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new vL),r.forEach(function(l){var s=IL.bind(null,n,l);o.has(l)||(o.add(l),l.then(s,s))})}}function fs(n,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var s=o[l];try{var c=n,f=r,d=f;e:for(;d!==null;){switch(d.tag){case 5:mr=d.stateNode,ms=!1;break e;case 3:mr=d.stateNode.containerInfo,ms=!0;break e;case 4:mr=d.stateNode.containerInfo,ms=!0;break e}d=d.return}if(mr===null)throw Error(me(160));hR(c,f,s),mr=null,ms=!1;var g=s.alternate;g!==null&&(g.return=null),s.return=null}catch(_){kn(s,r,_)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)dR(r,n),r=r.sibling}function dR(n,r){var o=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fs(r,n),Ys(n),l&4){try{Zm(3,n,n.return),j$(3,n)}catch(L){kn(n,n.return,L)}try{Zm(5,n,n.return)}catch(L){kn(n,n.return,L)}}break;case 1:fs(r,n),Ys(n),l&512&&o!==null&&Op(o,o.return);break;case 5:if(fs(r,n),Ys(n),l&512&&o!==null&&Op(o,o.return),n.flags&32){var s=n.stateNode;try{i_(s,"")}catch(L){kn(n,n.return,L)}}if(l&4&&(s=n.stateNode,s!=null)){var c=n.memoizedProps,f=o!==null?o.memoizedProps:c,d=n.type,g=n.updateQueue;if(n.updateQueue=null,g!==null)try{d==="input"&&c.type==="radio"&&c.name!=null&&OS(s,c),QE(d,f);var _=QE(d,c);for(f=0;f<g.length;f+=2){var b=g[f],y=g[f+1];b==="style"?PS(s,y):b==="dangerouslySetInnerHTML"?MS(s,y):b==="children"?i_(s,y):ik(s,b,y,_)}switch(d){case"input":YE(s,c);break;case"textarea":NS(s,c);break;case"select":var E=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var S=c.value;S!=null?Mp(s,!!c.multiple,S,!1):E!==!!c.multiple&&(c.defaultValue!=null?Mp(s,!!c.multiple,c.defaultValue,!0):Mp(s,!!c.multiple,c.multiple?[]:"",!1))}s[f_]=c}catch(L){kn(n,n.return,L)}}break;case 6:if(fs(r,n),Ys(n),l&4){if(n.stateNode===null)throw Error(me(162));s=n.stateNode,c=n.memoizedProps;try{s.nodeValue=c}catch(L){kn(n,n.return,L)}}break;case 3:if(fs(r,n),Ys(n),l&4&&o!==null&&o.memoizedState.isDehydrated)try{u_(r.containerInfo)}catch(L){kn(n,n.return,L)}break;case 4:fs(r,n),Ys(n);break;case 13:fs(r,n),Ys(n),s=n.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(Pk=xn())),l&4&&xC(n);break;case 22:if(b=o!==null&&o.memoizedState!==null,n.mode&1?(zr=(_=zr)||b,fs(r,n),zr=_):fs(r,n),Ys(n),l&8192){if(_=n.memoizedState!==null,(n.stateNode.isHidden=_)&&!b&&n.mode&1)for(Me=n,b=n.child;b!==null;){for(y=Me=b;Me!==null;){switch(E=Me,S=E.child,E.tag){case 0:case 11:case 14:case 15:Zm(4,E,E.return);break;case 1:Op(E,E.return);var D=E.stateNode;if(typeof D.componentWillUnmount=="function"){l=E,o=E.return;try{r=l,D.props=r.memoizedProps,D.state=r.memoizedState,D.componentWillUnmount()}catch(L){kn(l,o,L)}}break;case 5:Op(E,E.return);break;case 22:if(E.memoizedState!==null){DC(y);continue}}S!==null?(S.return=E,Me=S):DC(y)}b=b.sibling}e:for(b=null,y=n;;){if(y.tag===5){if(b===null){b=y;try{s=y.stateNode,_?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(d=y.stateNode,g=y.memoizedProps.style,f=g!=null&&g.hasOwnProperty("display")?g.display:null,d.style.display=BS("display",f))}catch(L){kn(n,n.return,L)}}}else if(y.tag===6){if(b===null)try{y.stateNode.nodeValue=_?"":y.memoizedProps}catch(L){kn(n,n.return,L)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;b===y&&(b=null),y=y.return}b===y&&(b=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:fs(r,n),Ys(n),l&4&&xC(n);break;case 21:break;default:fs(r,n),Ys(n)}}function Ys(n){var r=n.flags;if(r&2){try{e:{for(var o=n.return;o!==null;){if(cR(o)){var l=o;break e}o=o.return}throw Error(me(160))}switch(l.tag){case 5:var s=l.stateNode;l.flags&32&&(i_(s,""),l.flags&=-33);var c=RC(n);Rw(n,c,s);break;case 3:case 4:var f=l.stateNode.containerInfo,d=RC(n);Iw(n,d,f);break;default:throw Error(me(161))}}catch(g){kn(n,n.return,g)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function $L(n,r,o){Me=n,pR(n)}function pR(n,r,o){for(var l=(n.mode&1)!==0;Me!==null;){var s=Me,c=s.child;if(s.tag===22&&l){var f=s.memoizedState!==null||kb;if(!f){var d=s.alternate,g=d!==null&&d.memoizedState!==null||zr;d=kb;var _=zr;if(kb=f,(zr=g)&&!_)for(Me=s;Me!==null;)f=Me,g=f.child,f.tag===22&&f.memoizedState!==null?OC(s):g!==null?(g.return=f,Me=g):OC(s);for(;c!==null;)Me=c,pR(c),c=c.sibling;Me=s,kb=d,zr=_}AC(n)}else s.subtreeFlags&8772&&c!==null?(c.return=s,Me=c):AC(n)}}function AC(n){for(;Me!==null;){var r=Me;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:zr||j$(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!zr)if(o===null)l.componentDidMount();else{var s=r.elementType===r.type?o.memoizedProps:gs(r.type,o.memoizedProps);l.componentDidUpdate(s,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var c=r.updateQueue;c!==null&&fC(r,c,l);break;case 3:var f=r.updateQueue;if(f!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}fC(r,f,o)}break;case 5:var d=r.stateNode;if(o===null&&r.flags&4){o=d;var g=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&o.focus();break;case"img":g.src&&(o.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var _=r.alternate;if(_!==null){var b=_.memoizedState;if(b!==null){var y=b.dehydrated;y!==null&&u_(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}zr||r.flags&512&&Sw(r)}catch(E){kn(r,r.return,E)}}if(r===n){Me=null;break}if(o=r.sibling,o!==null){o.return=r.return,Me=o;break}Me=r.return}}function DC(n){for(;Me!==null;){var r=Me;if(r===n){Me=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Me=o;break}Me=r.return}}function OC(n){for(;Me!==null;){var r=Me;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{j$(4,r)}catch(g){kn(r,o,g)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var s=r.return;try{l.componentDidMount()}catch(g){kn(r,s,g)}}var c=r.return;try{Sw(r)}catch(g){kn(r,c,g)}break;case 5:var f=r.return;try{Sw(r)}catch(g){kn(r,f,g)}}}catch(g){kn(r,r.return,g)}if(r===n){Me=null;break}var d=r.sibling;if(d!==null){d.return=r.return,Me=d;break}Me=r.return}}var yL=Math.ceil,b$=ea.ReactCurrentDispatcher,Mk=ea.ReactCurrentOwner,Bi=ea.ReactCurrentBatchConfig,St=0,tr=null,Bn=null,br=0,jo=0,Np=xu(0),zn=0,$_=null,hh=0,X$=0,Bk=0,Qm=null,wo=null,Pk=0,Jp=1/0,Ul=null,$$=!1,xw=null,$u=null,Tb=!1,fu=null,y$=0,e_=0,Aw=null,Vb=-1,Wb=0;function io(){return St&6?xn():Vb!==-1?Vb:Vb=xn()}function yu(n){return n.mode&1?St&2&&br!==0?br&-br:oL.transition!==null?(Wb===0&&(Wb=JS()),Wb):(n=Bt,n!==0||(n=window.event,n=n===void 0?16:rI(n.type)),n):1}function bs(n,r,o,l){if(50<e_)throw e_=0,Aw=null,Error(me(185));S_(n,o,l),(!(St&2)||n!==tr)&&(n===tr&&(!(St&2)&&(X$|=o),zn===4&&du(n,br)),Io(n,l),o===1&&St===0&&!(r.mode&1)&&(Jp=xn()+500,V$&&Au()))}function Io(n,r){var o=n.callbackNode;oN(n,r);var l=o$(n,n===tr?br:0);if(l===0)o!==null&&HT(o),n.callbackNode=null,n.callbackPriority=0;else if(r=l&-l,n.callbackPriority!==r){if(o!=null&&HT(o),r===1)n.tag===0?rL(NC.bind(null,n)):EI(NC.bind(null,n)),QN(function(){!(St&6)&&Au()}),o=null;else{switch(qS(l)){case 1:o=ck;break;case 4:o=YS;break;case 16:o=r$;break;case 536870912:o=KS;break;default:o=r$}o=yR(o,fR.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function fR(n,r){if(Vb=-1,Wb=0,St&6)throw Error(me(327));var o=n.callbackNode;if(Up()&&n.callbackNode!==o)return null;var l=o$(n,n===tr?br:0);if(l===0)return null;if(l&30||l&n.expiredLanes||r)r=E$(n,l);else{r=l;var s=St;St|=2;var c=mR();(tr!==n||br!==r)&&(Ul=null,Jp=xn()+500,nh(n,r));do try{kL();break}catch(d){gR(n,d)}while(1);wk(),b$.current=c,St=s,Bn!==null?r=0:(tr=null,br=0,r=zn)}if(r!==0){if(r===2&&(s=ow(n),s!==0&&(l=s,r=Dw(n,s))),r===1)throw o=$_,nh(n,0),du(n,l),Io(n,xn()),o;if(r===6)du(n,l);else{if(s=n.current.alternate,!(l&30)&&!EL(s)&&(r=E$(n,l),r===2&&(c=ow(n),c!==0&&(l=c,r=Dw(n,c))),r===1))throw o=$_,nh(n,0),du(n,l),Io(n,xn()),o;switch(n.finishedWork=s,n.finishedLanes=l,r){case 0:case 1:throw Error(me(345));case 2:Jc(n,wo,Ul);break;case 3:if(du(n,l),(l&130023424)===l&&(r=Pk+500-xn(),10<r)){if(o$(n,0)!==0)break;if(s=n.suspendedLanes,(s&l)!==l){io(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=dw(Jc.bind(null,n,wo,Ul),r);break}Jc(n,wo,Ul);break;case 4:if(du(n,l),(l&4194240)===l)break;for(r=n.eventTimes,s=-1;0<l;){var f=31-vs(l);c=1<<f,f=r[f],f>s&&(s=f),l&=~c}if(l=s,l=xn()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*yL(l/1960))-l,10<l){n.timeoutHandle=dw(Jc.bind(null,n,wo,Ul),l);break}Jc(n,wo,Ul);break;case 5:Jc(n,wo,Ul);break;default:throw Error(me(329))}}}return Io(n,xn()),n.callbackNode===o?fR.bind(null,n):null}function Dw(n,r){var o=Qm;return n.current.memoizedState.isDehydrated&&(nh(n,r).flags|=256),n=E$(n,r),n!==2&&(r=wo,wo=o,r!==null&&Ow(r)),n}function Ow(n){wo===null?wo=n:wo.push.apply(wo,n)}function EL(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var s=o[l],c=s.getSnapshot;s=s.value;try{if(!ys(c(),s))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function du(n,r){for(r&=~Bk,r&=~X$,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-vs(r),l=1<<o;n[o]=-1,r&=~l}}function NC(n){if(St&6)throw Error(me(327));Up();var r=o$(n,0);if(!(r&1))return Io(n,xn()),null;var o=E$(n,r);if(n.tag!==0&&o===2){var l=ow(n);l!==0&&(r=l,o=Dw(n,l))}if(o===1)throw o=$_,nh(n,0),du(n,r),Io(n,xn()),o;if(o===6)throw Error(me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Jc(n,wo,Ul),Io(n,xn()),null}function Fk(n,r){var o=St;St|=1;try{return n(r)}finally{St=o,St===0&&(Jp=xn()+500,V$&&Au())}}function dh(n){fu!==null&&fu.tag===0&&!(St&6)&&Up();var r=St;St|=1;var o=Bi.transition,l=Bt;try{if(Bi.transition=null,Bt=1,n)return n()}finally{Bt=l,Bi.transition=o,St=r,!(St&6)&&Au()}}function Gk(){jo=Np.current,Qt(Np)}function nh(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,ZN(o)),Bn!==null)for(o=Bn.return;o!==null;){var l=o;switch($k(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&u$();break;case 3:Yp(),Qt(Co),Qt(jr),Rk();break;case 5:Ik(l);break;case 4:Yp();break;case 13:Qt(pn);break;case 19:Qt(pn);break;case 10:kk(l.type._context);break;case 22:case 23:Gk()}o=o.return}if(tr=n,Bn=n=Eu(n.current,null),br=jo=r,zn=0,$_=null,Bk=X$=hh=0,wo=Qm=null,Qc!==null){for(r=0;r<Qc.length;r++)if(o=Qc[r],l=o.interleaved,l!==null){o.interleaved=null;var s=l.next,c=o.pending;if(c!==null){var f=c.next;c.next=s,l.next=f}o.pending=l}Qc=null}return n}function gR(n,r){do{var o=Bn;try{if(wk(),Gb.current=v$,_$){for(var l=fn.memoizedState;l!==null;){var s=l.queue;s!==null&&(s.pending=null),l=l.next}_$=!1}if(ch=0,Qn=Wn=fn=null,qm=!1,__=0,Mk.current=null,o===null||o.return===null){zn=1,$_=r,Bn=null;break}e:{var c=n,f=o.return,d=o,g=r;if(r=br,d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,b=d,y=b.tag;if(!(b.mode&1)&&(y===0||y===11||y===15)){var E=b.alternate;E?(b.updateQueue=E.updateQueue,b.memoizedState=E.memoizedState,b.lanes=E.lanes):(b.updateQueue=null,b.memoizedState=null)}var S=yC(f);if(S!==null){S.flags&=-257,EC(S,f,d,c,r),S.mode&1&&$C(c,_,r),r=S,g=_;var D=r.updateQueue;if(D===null){var L=new Set;L.add(g),r.updateQueue=L}else D.add(g);break e}else{if(!(r&1)){$C(c,_,r),Uk();break e}g=Error(me(426))}}else if(an&&d.mode&1){var N=yC(f);if(N!==null){!(N.flags&65536)&&(N.flags|=256),EC(N,f,d,c,r),yk(Kp(g,d));break e}}c=g=Kp(g,d),zn!==4&&(zn=2),Qm===null?Qm=[c]:Qm.push(c),c=f;do{switch(c.tag){case 3:c.flags|=65536,r&=-r,c.lanes|=r;var w=ZI(c,g,r);pC(c,w);break e;case 1:d=g;var k=c.type,I=c.stateNode;if(!(c.flags&128)&&(typeof k.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&($u===null||!$u.has(I)))){c.flags|=65536,r&=-r,c.lanes|=r;var P=QI(c,d,r);pC(c,P);break e}}c=c.return}while(c!==null)}vR(o)}catch(W){r=W,Bn===o&&o!==null&&(Bn=o=o.return);continue}break}while(1)}function mR(){var n=b$.current;return b$.current=v$,n===null?v$:n}function Uk(){(zn===0||zn===3||zn===2)&&(zn=4),tr===null||!(hh&268435455)&&!(X$&268435455)||du(tr,br)}function E$(n,r){var o=St;St|=2;var l=mR();(tr!==n||br!==r)&&(Ul=null,nh(n,r));do try{wL();break}catch(s){gR(n,s)}while(1);if(wk(),St=o,b$.current=l,Bn!==null)throw Error(me(261));return tr=null,br=0,zn}function wL(){for(;Bn!==null;)_R(Bn)}function kL(){for(;Bn!==null&&!KO();)_R(Bn)}function _R(n){var r=$R(n.alternate,n,jo);n.memoizedProps=n.pendingProps,r===null?vR(n):Bn=r,Mk.current=null}function vR(n){var r=n;do{var o=r.alternate;if(n=r.return,r.flags&32768){if(o=_L(o,r),o!==null){o.flags&=32767,Bn=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zn=6,Bn=null;return}}else if(o=mL(o,r,jo),o!==null){Bn=o;return}if(r=r.sibling,r!==null){Bn=r;return}Bn=r=n}while(r!==null);zn===0&&(zn=5)}function Jc(n,r,o){var l=Bt,s=Bi.transition;try{Bi.transition=null,Bt=1,TL(n,r,o,l)}finally{Bi.transition=s,Bt=l}return null}function TL(n,r,o,l){do Up();while(fu!==null);if(St&6)throw Error(me(327));o=n.finishedWork;var s=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(me(177));n.callbackNode=null,n.callbackPriority=0;var c=o.lanes|o.childLanes;if(iN(n,c),n===tr&&(Bn=tr=null,br=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Tb||(Tb=!0,yR(r$,function(){return Up(),null})),c=(o.flags&15990)!==0,o.subtreeFlags&15990||c){c=Bi.transition,Bi.transition=null;var f=Bt;Bt=1;var d=St;St|=4,Mk.current=null,bL(n,o),dR(o,n),zN(cw),i$=!!uw,cw=uw=null,n.current=o,$L(o),JO(),St=d,Bt=f,Bi.transition=c}else n.current=o;if(Tb&&(Tb=!1,fu=n,y$=s),c=n.pendingLanes,c===0&&($u=null),QO(o.stateNode),Io(n,xn()),r!==null)for(l=n.onRecoverableError,o=0;o<r.length;o++)s=r[o],l(s.value,{componentStack:s.stack,digest:s.digest});if($$)throw $$=!1,n=xw,xw=null,n;return y$&1&&n.tag!==0&&Up(),c=n.pendingLanes,c&1?n===Aw?e_++:(e_=0,Aw=n):e_=0,Au(),null}function Up(){if(fu!==null){var n=qS(y$),r=Bi.transition,o=Bt;try{if(Bi.transition=null,Bt=16>n?16:n,fu===null)var l=!1;else{if(n=fu,fu=null,y$=0,St&6)throw Error(me(331));var s=St;for(St|=4,Me=n.current;Me!==null;){var c=Me,f=c.child;if(Me.flags&16){var d=c.deletions;if(d!==null){for(var g=0;g<d.length;g++){var _=d[g];for(Me=_;Me!==null;){var b=Me;switch(b.tag){case 0:case 11:case 15:Zm(8,b,c)}var y=b.child;if(y!==null)y.return=b,Me=y;else for(;Me!==null;){b=Me;var E=b.sibling,S=b.return;if(uR(b),b===_){Me=null;break}if(E!==null){E.return=S,Me=E;break}Me=S}}}var D=c.alternate;if(D!==null){var L=D.child;if(L!==null){D.child=null;do{var N=L.sibling;L.sibling=null,L=N}while(L!==null)}}Me=c}}if(c.subtreeFlags&2064&&f!==null)f.return=c,Me=f;else e:for(;Me!==null;){if(c=Me,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Zm(9,c,c.return)}var w=c.sibling;if(w!==null){w.return=c.return,Me=w;break e}Me=c.return}}var k=n.current;for(Me=k;Me!==null;){f=Me;var I=f.child;if(f.subtreeFlags&2064&&I!==null)I.return=f,Me=I;else e:for(f=k;Me!==null;){if(d=Me,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:j$(9,d)}}catch(W){kn(d,d.return,W)}if(d===f){Me=null;break e}var P=d.sibling;if(P!==null){P.return=d.return,Me=P;break e}Me=d.return}}if(St=s,Au(),tl&&typeof tl.onPostCommitFiberRoot=="function")try{tl.onPostCommitFiberRoot(P$,n)}catch{}l=!0}return l}finally{Bt=o,Bi.transition=r}}return!1}function LC(n,r,o){r=Kp(o,r),r=ZI(n,r,1),n=bu(n,r,1),r=io(),n!==null&&(S_(n,1,r),Io(n,r))}function kn(n,r,o){if(n.tag===3)LC(n,n,o);else for(;r!==null;){if(r.tag===3){LC(r,n,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($u===null||!$u.has(l))){n=Kp(o,n),n=QI(r,n,1),r=bu(r,n,1),n=io(),r!==null&&(S_(r,1,n),Io(r,n));break}}r=r.return}}function CL(n,r,o){var l=n.pingCache;l!==null&&l.delete(r),r=io(),n.pingedLanes|=n.suspendedLanes&o,tr===n&&(br&o)===o&&(zn===4||zn===3&&(br&130023424)===br&&500>xn()-Pk?nh(n,0):Bk|=o),Io(n,r)}function bR(n,r){r===0&&(n.mode&1?(r=gb,gb<<=1,!(gb&130023424)&&(gb=4194304)):r=1);var o=io();n=Zl(n,r),n!==null&&(S_(n,r,o),Io(n,o))}function SL(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),bR(n,o)}function IL(n,r){var o=0;switch(n.tag){case 13:var l=n.stateNode,s=n.memoizedState;s!==null&&(o=s.retryLane);break;case 19:l=n.stateNode;break;default:throw Error(me(314))}l!==null&&l.delete(r),bR(n,o)}var $R;$R=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Co.current)ko=!0;else{if(!(n.lanes&o)&&!(r.flags&128))return ko=!1,gL(n,r,o);ko=!!(n.flags&131072)}else ko=!1,an&&r.flags&1048576&&wI(r,d$,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Hb(n,r),n=r.pendingProps;var s=zp(r,jr.current);Gp(r,o),s=Ak(null,r,l,n,s,o);var c=Dk();return r.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,So(l)?(c=!0,c$(r)):c=!1,r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ck(r),s.updater=W$,r.stateNode=s,s._reactInternals=r,bw(r,l,n,o),r=Ew(null,r,l,!0,c,o)):(r.tag=0,an&&c&&bk(r),oo(null,r,s,o),r=r.child),r;case 16:l=r.elementType;e:{switch(Hb(n,r),n=r.pendingProps,s=l._init,l=s(l._payload),r.type=l,s=r.tag=xL(l),n=gs(l,n),s){case 0:r=yw(null,r,l,n,o);break e;case 1:r=TC(null,r,l,n,o);break e;case 11:r=wC(null,r,l,n,o);break e;case 14:r=kC(null,r,l,gs(l.type,n),o);break e}throw Error(me(306,l,""))}return r;case 0:return l=r.type,s=r.pendingProps,s=r.elementType===l?s:gs(l,s),yw(n,r,l,s,o);case 1:return l=r.type,s=r.pendingProps,s=r.elementType===l?s:gs(l,s),TC(n,r,l,s,o);case 3:e:{if(rR(r),n===null)throw Error(me(387));l=r.pendingProps,c=r.memoizedState,s=c.element,SI(n,r),g$(r,l,null,o);var f=r.memoizedState;if(l=f.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},r.updateQueue.baseState=c,r.memoizedState=c,r.flags&256){s=Kp(Error(me(423)),r),r=CC(n,r,l,o,s);break e}else if(l!==s){s=Kp(Error(me(424)),r),r=CC(n,r,l,o,s);break e}else for(Xo=vu(r.stateNode.containerInfo.firstChild),Ko=r,an=!0,_s=null,o=AI(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(jp(),l===s){r=Ql(n,r,o);break e}oo(n,r,l,o)}r=r.child}return r;case 5:return DI(r),n===null&&mw(r),l=r.type,s=r.pendingProps,c=n!==null?n.memoizedProps:null,f=s.children,hw(l,s)?f=null:c!==null&&hw(l,c)&&(r.flags|=32),nR(n,r),oo(n,r,f,o),r.child;case 6:return n===null&&mw(r),null;case 13:return oR(n,r,o);case 4:return Sk(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Xp(r,null,l,o):oo(n,r,l,o),r.child;case 11:return l=r.type,s=r.pendingProps,s=r.elementType===l?s:gs(l,s),wC(n,r,l,s,o);case 7:return oo(n,r,r.pendingProps,o),r.child;case 8:return oo(n,r,r.pendingProps.children,o),r.child;case 12:return oo(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,s=r.pendingProps,c=r.memoizedProps,f=s.value,jt(p$,l._currentValue),l._currentValue=f,c!==null)if(ys(c.value,f)){if(c.children===s.children&&!Co.current){r=Ql(n,r,o);break e}}else for(c=r.child,c!==null&&(c.return=r);c!==null;){var d=c.dependencies;if(d!==null){f=c.child;for(var g=d.firstContext;g!==null;){if(g.context===l){if(c.tag===1){g=jl(-1,o&-o),g.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var b=_.pending;b===null?g.next=g:(g.next=b.next,b.next=g),_.pending=g}}c.lanes|=o,g=c.alternate,g!==null&&(g.lanes|=o),_w(c.return,o,r),d.lanes|=o;break}g=g.next}}else if(c.tag===10)f=c.type===r.type?null:c.child;else if(c.tag===18){if(f=c.return,f===null)throw Error(me(341));f.lanes|=o,d=f.alternate,d!==null&&(d.lanes|=o),_w(f,o,r),f=c.sibling}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===r){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}oo(n,r,s.children,o),r=r.child}return r;case 9:return s=r.type,l=r.pendingProps.children,Gp(r,o),s=Fi(s),l=l(s),r.flags|=1,oo(n,r,l,o),r.child;case 14:return l=r.type,s=gs(l,r.pendingProps),s=gs(l.type,s),kC(n,r,l,s,o);case 15:return eR(n,r,r.type,r.pendingProps,o);case 17:return l=r.type,s=r.pendingProps,s=r.elementType===l?s:gs(l,s),Hb(n,r),r.tag=1,So(l)?(n=!0,c$(r)):n=!1,Gp(r,o),RI(r,l,s),bw(r,l,s,o),Ew(null,r,l,!0,n,o);case 19:return iR(n,r,o);case 22:return tR(n,r,o)}throw Error(me(156,r.tag))};function yR(n,r){return XS(n,r)}function RL(n,r,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(n,r,o,l){return new RL(n,r,o,l)}function Hk(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xL(n){if(typeof n=="function")return Hk(n)?1:0;if(n!=null){if(n=n.$$typeof,n===lk)return 11;if(n===ak)return 14}return 2}function Eu(n,r){var o=n.alternate;return o===null?(o=Mi(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function zb(n,r,o,l,s,c){var f=2;if(l=n,typeof n=="function")Hk(n)&&(f=1);else if(typeof n=="string")f=5;else e:switch(n){case kp:return rh(o.children,s,c,r);case sk:f=8,s|=8;break;case VE:return n=Mi(12,o,r,s|2),n.elementType=VE,n.lanes=c,n;case WE:return n=Mi(13,o,r,s),n.elementType=WE,n.lanes=c,n;case zE:return n=Mi(19,o,r,s),n.elementType=zE,n.lanes=c,n;case xS:return Y$(o,s,c,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case IS:f=10;break e;case RS:f=9;break e;case lk:f=11;break e;case ak:f=14;break e;case uu:f=16,l=null;break e}throw Error(me(130,n==null?n:typeof n,""))}return r=Mi(f,o,r,s),r.elementType=n,r.type=l,r.lanes=c,r}function rh(n,r,o,l){return n=Mi(7,n,l,r),n.lanes=o,n}function Y$(n,r,o,l){return n=Mi(22,n,l,r),n.elementType=xS,n.lanes=o,n.stateNode={isHidden:!1},n}function aE(n,r,o){return n=Mi(6,n,null,r),n.lanes=o,n}function uE(n,r,o){return r=Mi(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function AL(n,r,o,l,s){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vy(0),this.expirationTimes=Vy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vy(0),this.identifierPrefix=l,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vk(n,r,o,l,s,c,f,d,g){return n=new AL(n,r,o,d,g),r===1?(r=1,c===!0&&(r|=8)):r=0,c=Mi(3,null,null,r),n.current=c,c.stateNode=n,c.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ck(c),n}function DL(n,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wp,key:l==null?null:""+l,children:n,containerInfo:r,implementation:o}}function ER(n){if(!n)return Cu;n=n._reactInternals;e:{if(_h(n)!==n||n.tag!==1)throw Error(me(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(So(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(me(171))}if(n.tag===1){var o=n.type;if(So(o))return yI(n,o,r)}return r}function wR(n,r,o,l,s,c,f,d,g){return n=Vk(o,l,!0,n,s,c,f,d,g),n.context=ER(null),o=n.current,l=io(),s=yu(o),c=jl(l,s),c.callback=r??null,bu(o,c,s),n.current.lanes=s,S_(n,s,l),Io(n,l),n}function K$(n,r,o,l){var s=r.current,c=io(),f=yu(s);return o=ER(o),r.context===null?r.context=o:r.pendingContext=o,r=jl(c,f),r.payload={element:n},l=l===void 0?null:l,l!==null&&(r.callback=l),n=bu(s,r,f),n!==null&&(bs(n,s,f,c),Fb(n,s,f)),f}function w$(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function MC(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Wk(n,r){MC(n,r),(n=n.alternate)&&MC(n,r)}function OL(){return null}var kR=typeof reportError=="function"?reportError:function(n){console.error(n)};function zk(n){this._internalRoot=n}J$.prototype.render=zk.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(me(409));K$(n,r,null,null)};J$.prototype.unmount=zk.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;dh(function(){K$(null,n,null,null)}),r[ql]=null}};function J$(n){this._internalRoot=n}J$.prototype.unstable_scheduleHydration=function(n){if(n){var r=eI();n={blockedOn:null,target:n,priority:r};for(var o=0;o<hu.length&&r!==0&&r<hu[o].priority;o++);hu.splice(o,0,n),o===0&&nI(n)}};function jk(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function q$(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function BC(){}function NL(n,r,o,l,s){if(s){if(typeof l=="function"){var c=l;l=function(){var _=w$(f);c.call(_)}}var f=wR(r,l,n,0,null,!1,!1,"",BC);return n._reactRootContainer=f,n[ql]=f.current,d_(n.nodeType===8?n.parentNode:n),dh(),f}for(;s=n.lastChild;)n.removeChild(s);if(typeof l=="function"){var d=l;l=function(){var _=w$(g);d.call(_)}}var g=Vk(n,0,!1,null,null,!1,!1,"",BC);return n._reactRootContainer=g,n[ql]=g.current,d_(n.nodeType===8?n.parentNode:n),dh(function(){K$(r,g,o,l)}),g}function Z$(n,r,o,l,s){var c=o._reactRootContainer;if(c){var f=c;if(typeof s=="function"){var d=s;s=function(){var g=w$(f);d.call(g)}}K$(r,f,n,s)}else f=NL(o,r,n,s,l);return w$(f)}ZS=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=Vm(r.pendingLanes);o!==0&&(hk(r,o|1),Io(r,xn()),!(St&6)&&(Jp=xn()+500,Au()))}break;case 13:dh(function(){var l=Zl(n,1);if(l!==null){var s=io();bs(l,n,1,s)}}),Wk(n,1)}};dk=function(n){if(n.tag===13){var r=Zl(n,134217728);if(r!==null){var o=io();bs(r,n,134217728,o)}Wk(n,134217728)}};QS=function(n){if(n.tag===13){var r=yu(n),o=Zl(n,r);if(o!==null){var l=io();bs(o,n,r,l)}Wk(n,r)}};eI=function(){return Bt};tI=function(n,r){var o=Bt;try{return Bt=n,r()}finally{Bt=o}};tw=function(n,r,o){switch(r){case"input":if(YE(n,o),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==n&&l.form===n.form){var s=H$(l);if(!s)throw Error(me(90));DS(l),YE(l,s)}}}break;case"textarea":NS(n,o);break;case"select":r=o.value,r!=null&&Mp(n,!!o.multiple,r,!1)}};US=Fk;HS=dh;var LL={usingClientEntryPoint:!1,Events:[R_,Ip,H$,FS,GS,Fk]},Pm={findFiberByHostInstance:Zc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ML={bundleType:Pm.bundleType,version:Pm.version,rendererPackageName:Pm.rendererPackageName,rendererConfig:Pm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=zS(n),n===null?null:n.stateNode},findFiberByHostInstance:Pm.findFiberByHostInstance||OL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cb.isDisabled&&Cb.supportsFiber)try{P$=Cb.inject(ML),tl=Cb}catch{}}Qo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LL;Qo.createPortal=function(n,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jk(r))throw Error(me(200));return DL(n,r,null,o)};Qo.createRoot=function(n,r){if(!jk(n))throw Error(me(299));var o=!1,l="",s=kR;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),r=Vk(n,1,!1,null,null,o,!1,l,s),n[ql]=r.current,d_(n.nodeType===8?n.parentNode:n),new zk(r)};Qo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(me(188)):(n=Object.keys(n).join(","),Error(me(268,n)));return n=zS(r),n=n===null?null:n.stateNode,n};Qo.flushSync=function(n){return dh(n)};Qo.hydrate=function(n,r,o){if(!q$(r))throw Error(me(200));return Z$(null,n,r,!0,o)};Qo.hydrateRoot=function(n,r,o){if(!jk(n))throw Error(me(405));var l=o!=null&&o.hydratedSources||null,s=!1,c="",f=kR;if(o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),r=wR(r,null,n,1,o??null,s,!1,c,f),n[ql]=r.current,d_(n),l)for(n=0;n<l.length;n++)o=l[n],s=o._getVersion,s=s(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,s]:r.mutableSourceEagerHydrationData.push(o,s);return new J$(r)};Qo.render=function(n,r,o){if(!q$(r))throw Error(me(200));return Z$(null,n,r,!1,o)};Qo.unmountComponentAtNode=function(n){if(!q$(n))throw Error(me(40));return n._reactRootContainer?(dh(function(){Z$(null,null,n,!1,function(){n._reactRootContainer=null,n[ql]=null})}),!0):!1};Qo.unstable_batchedUpdates=Fk;Qo.unstable_renderSubtreeIntoContainer=function(n,r,o,l){if(!q$(o))throw Error(me(200));if(n==null||n._reactInternals===void 0)throw Error(me(38));return Z$(n,r,o,!1,l)};Qo.version="18.2.0-next-9e3b772b8-20220608";function TR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TR)}catch(n){console.error(n)}}TR(),wS.exports=Qo;var Q$=wS.exports,PC=Q$;UE.createRoot=PC.createRoot,UE.hydrateRoot=PC.hydrateRoot;var CR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var r={}.hasOwnProperty;function o(){for(var l=[],s=0;s<arguments.length;s++){var c=arguments[s];if(c){var f=typeof c;if(f==="string"||f==="number")l.push(c);else if(Array.isArray(c)){if(c.length){var d=o.apply(null,c);d&&l.push(d)}}else if(f==="object"){if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]")){l.push(c.toString());continue}for(var g in c)r.call(c,g)&&c[g]&&l.push(g)}}}return l.join(" ")}n.exports?(o.default=o,n.exports=o):window.classNames=o})()})(CR);var BL=CR.exports;const fe=Iu(BL);var SR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FC=To.createContext&&To.createContext(SR),wu=globalThis&&globalThis.__assign||function(){return wu=Object.assign||function(n){for(var r,o=1,l=arguments.length;o<l;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},wu.apply(this,arguments)},PL=globalThis&&globalThis.__rest||function(n,r){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&r.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(n);s<l.length;s++)r.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(n,l[s])&&(o[l[s]]=n[l[s]]);return o};function IR(n){return n&&n.map(function(r,o){return To.createElement(r.tag,wu({key:o},r.attr),IR(r.child))})}function ta(n){return function(r){return To.createElement(FL,wu({attr:wu({},n.attr)},r),IR(n.child))}}function FL(n){var r=function(o){var l=n.attr,s=n.size,c=n.title,f=PL(n,["attr","size","title"]),d=s||o.size||"1em",g;return o.className&&(g=o.className),n.className&&(g=(g?g+" ":"")+n.className),To.createElement("svg",wu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,l,f,{className:g,style:wu(wu({color:n.color||o.color},o.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&To.createElement("title",null,c),n.children)};return FC!==void 0?To.createElement(FC.Consumer,null,function(o){return r(o)}):r(SR)}function RR(n){return ta({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(n)}function GL(n){return ta({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}}]})(n)}function xR(n){return ta({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(n)}function AR(n){return ta({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}}]})(n)}function UL(n){return ta({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"}}]})(n)}function DR(n){return ta({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}}]})(n)}function HL(n){return ta({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}}]})(n)}function VL(n){return ta({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}}]})(n)}function qc(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function Nw(n){if(!qc(n))return n;const r={...n};return Object.keys(n).forEach(o=>{r[o]=Nw(n[o])}),r}function Cn(n,r){if(qc(r)&&Object.keys(r).length===0)return Nw({...n,...r});let o={...n,...r};return qc(r)&&qc(n)&&Object.keys(r).forEach(l=>{qc(r[l])&&l in n&&qc(n[l])?o[l]=Cn(n[l],r[l]):o[l]=qc(r[l])?Nw(r[l]):r[l]}),o}const WL={accordion:{root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"py-5 px-5 last:rounded-b-lg dark:bg-gray-900 first:rounded-t-lg"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between first:rounded-t-lg last:rounded-b-lg py-5 px-5 text-left font-medium text-gray-500 dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"!bg-transparent dark:!bg-transparent"},heading:"",open:{off:"",on:"text-gray-900 bg-gray-100 dark:bg-gray-800 dark:text-white"}}},alert:{root:{base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",wrapper:"flex items-center",color:{info:"text-blue-700 bg-blue-100 border-blue-500 dark:bg-blue-200 dark:text-blue-800",gray:"text-gray-700 bg-gray-100 border-gray-500 dark:bg-gray-700 dark:text-gray-300",failure:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",success:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",warning:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg"},closeButton:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",icon:"w-5 h-5",color:{info:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300"}}},avatar:{root:{base:"flex justify-center items-center space-x-4",bordered:"p-1 ring-2",rounded:"!rounded-full",color:{dark:"ring-gray-800 dark:ring-gray-800",failure:"ring-red-500 dark:ring-red-700",gray:"ring-gray-500 dark:ring-gray-400",info:"ring-blue-400 dark:ring-blue-800",light:"ring-gray-300 dark:ring-gray-500",purple:"ring-purple-500 dark:ring-purple-600",success:"ring-green-500 dark:ring-green-500",warning:"ring-yellow-300 dark:ring-yellow-500",pink:"ring-pink-500 dark:ring-pink-500"},size:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-botton-1 center","bottom-right":"-bottom-1 -right-1","top-left":"-top-1 -left-1","top-center":"-top-1 center","top-right":"-top-1 -right-1","center-right":"center -right-1",center:"center center","center-left":"center -left-1"}},img:{off:"rounded relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"rounded",placeholder:"absolute w-auto h-auto text-gray-400 -bottom-1"},status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},initials:{text:"font-medium text-gray-600 dark:text-gray-300",base:"inline-flex overflow-hidden relative justify-center items-center w-10 h-10 bg-gray-100 dark:bg-gray-600"}},avatarGroupCounter:{root:{base:"relative flex items-center justify-center w-10 h-10 text-xs font-medium text-white bg-gray-700 rounded-full ring-2 ring-gray-300 hover:bg-gray-600 dark:ring-gray-500"}},avatarGroup:{root:{base:"flex -space-x-4"}},badge:{root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-blue-100 text-blue-800 dark:bg-blue-200 dark:text-blue-800 group-hover:bg-blue-200 dark:group-hover:bg-blue-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 group-hover:bg-gray-200 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-200 dark:text-indigo-900 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-200 dark:text-purple-900 group-hover:bg-purple-200 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-200 dark:text-pink-900 group-hover:bg-pink-200 dark:group-hover:bg-pink-300"},href:"group",size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"w-3 h-3",sm:"w-3.5 h-3.5"}}},breadcrumb:{root:{base:"",list:"flex items-center"},item:{base:"group flex items-center",chevron:"mx-1 h-6 w-6 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"}},button:{base:"group flex h-min items-center justify-center p-0.5 text-center font-medium focus:z-10",fullSized:"w-full",color:{dark:"text-white bg-gray-800 border border-transparent hover:bg-gray-900 focus:ring-4 focus:ring-gray-300 disabled:hover:bg-gray-800 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-800 dark:border-gray-700 dark:disabled:hover:bg-gray-800",failure:"text-white bg-red-700 border border-transparent hover:bg-red-800 focus:ring-4 focus:ring-red-300 disabled:hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900 dark:disabled:hover:bg-red-600",gray:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-blue-700 disabled:hover:bg-white focus:ring-blue-700 focus:text-blue-700 dark:bg-transparent dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-2 dark:disabled:hover:bg-gray-800",info:"text-white bg-blue-700 border border-transparent hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 dark:disabled:hover:bg-blue-600",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-white dark:bg-gray-600 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-700 dark:focus:ring-gray-700",purple:"text-white bg-purple-700 border border-transparent hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 disabled:hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900 dark:disabled:hover:bg-purple-600",success:"text-white bg-green-700 border border-transparent hover:bg-green-800 focus:ring-4 focus:ring-green-300 disabled:hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 dark:disabled:hover:bg-green-600",warning:"text-white bg-yellow-400 border border-transparent hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 disabled:hover:bg-yellow-400 dark:focus:ring-yellow-900 dark:disabled:hover:bg-yellow-400"},disabled:"cursor-not-allowed opacity-50",gradient:{cyan:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",failure:"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-red-300 dark:focus:ring-red-800",info:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800 ",lime:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-4 focus:ring-lime-300 dark:focus:ring-lime-800",pink:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-pink-300 dark:focus:ring-pink-800",purple:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-purple-300 dark:focus:ring-purple-800",success:"text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-green-300 dark:focus:ring-green-800",teal:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-teal-300 dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",greenToBlue:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:ring-green-200 dark:focus:ring-green-800",pinkToOrange:"text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:ring-pink-200 dark:focus:ring-pink-800",purpleToBlue:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800",purpleToPink:"text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l focus:ring-4 focus:ring-purple-200 dark:focus:ring-purple-800",redToYellow:"text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-gradient-to-bl focus:ring-4 focus:ring-red-100 dark:focus:ring-red-400",tealToLime:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 hover:!text-gray-900 focus:ring-4 focus:ring-lime-200 dark:focus:ring-teal-700"},inner:{base:"flex items-center",position:{none:"",start:"rounded-r-none",middle:"!rounded-none",end:"rounded-l-none"},outline:"border border-transparent"},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-blue-200 text-xs font-semibold text-blue-800",outline:{color:{gray:"border border-gray-900 dark:border-white",default:"border-0",light:""},off:"",on:"!block bg-white text-gray-900 transition-all duration-75 ease-in group-hover:bg-opacity-0 group-hover:text-inherit dark:bg-gray-900 dark:text-white w-full",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"text-xs px-2 py-1",sm:"text-sm px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-5 py-2.5",xl:"text-base px-6 py-3"}},buttonGroup:{base:"inline-flex",position:{none:"focus:!ring-2",start:"rounded-r-none",middle:"!rounded-none border-l-0 pl-0",end:"rounded-l-none border-l-0 pl-0"}},card:{root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},carousel:{base:"relative h-full w-full",indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute top-1/2 left-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:"w-full flex-shrink-0 transform cursor-grab snap-center"},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},leftControl:"absolute top-0 left-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute top-0 right-0 flex h-full items-center justify-center px-4 focus:outline-none",scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},darkThemeToggle:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"},dropdown:{floating:{target:"w-fit",base:"z-10 w-fit rounded divide-y divide-gray-100 shadow",animation:"transition-opacity",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},header:"block py-2 px-4 text-sm text-gray-700 dark:text-gray-200",content:"py-1 text-sm text-gray-700 dark:text-gray-200",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},item:{base:"flex items-center justify-start py-2 px-4 text-sm text-gray-700 cursor-pointer hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white",icon:"mr-2 h-4 w-4"},divider:"my-1 h-px bg-gray-100 dark:bg-gray-600"},arrowIcon:"ml-2 h-4 w-4",inlineWrapper:"flex items-center",content:"py-1"},footer:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800",groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"last:mr-0 md:mr-6",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"w-full my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},checkbox:{root:{base:"h-4 w-4 rounded border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}},fileInput:{base:"flex",field:{base:"relative w-full",input:{base:"rounded-lg overflow-hidden block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-md"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},label:{base:"text-sm font-medium",colors:{default:"text-gray-900 dark:text-gray-300",info:"text-blue-500 dark:text-blue-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"},disabled:"opacity-50"},radio:{root:{base:"h-4 w-4 border border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-blue-600 dark:focus:ring-blue-600"}},rangeSlider:{base:"flex",field:{base:"relative w-full",input:{base:"w-full bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",sizes:{sm:"h-1 range-sm",md:"h-2",lg:"h-3 range-lg"}}}},select:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},textInput:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},textarea:{base:"block w-full rounded-lg border disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},toggleSwitch:{root:{base:"group relative flex items-center rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},label:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},toggle:{base:"toggle-bg h-6 w-11 rounded-full border group-focus:ring-4 group-focus:ring-blue-500/25",checked:{on:"after:translate-x-full after:border-white",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700",color:{blue:" bg-blue-700 border-blue-700",dark:"bg-dark-700 border-dark-900",failure:"bg-red-700 border-red-900",gray:"bg-gray-500 border-gray-600",green:"bg-green-600 border-green-700",light:"bg-light-700 border-light-900",red:"bg-red-700 border-red-900",purple:"bg-purple-700 border-purple-900",success:"bg-green-500 border-green-500",yellow:"bg-yellow-400 border-yellow-400",warning:"bg-yellow-600 border-yellow-600",cyan:"bg-cyan-500 border-cyan-500",lime:"bg-lime-400 border-lime-400",indigo:"bg-indigo-400 border-indigo-400",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4",info:"bg-blue-600 border-blue-600",pink:"bg-pink-600 border-pink-600"}}}},helperText:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-blue-700 dark:text-blue-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}},listGroup:{base:"list-none rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white",item:{active:{off:"hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-blue-700 text-white dark:bg-gray-800"},base:"flex w-full cursor-pointer border-b border-gray-200 py-2 px-4 first:rounded-t-lg last:rounded-b-lg last:border-b-0 dark:border-gray-600",href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}},modal:{base:"fixed top-0 right-0 left-0 z-50 h-modal overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t dark:border-gray-600 border-b p-5",popup:"!p-2 !border-b-0",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},navbar:{root:{base:"border-gray-200 bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pr-4 pl-3 md:p-0",active:{on:"bg-blue-700 text-white dark:text-white md:bg-transparent md:text-blue-700",off:"border-b border-gray-100  text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},rating:{base:"flex items-center",star:{sizes:{sm:"w-5 h-5",md:"w-7 h-7",lg:"w-10 h-10"},filled:"text-yellow-400",empty:"text-gray-300 dark:text-gray-500"},advanced:{base:"flex items-center",label:"text-sm font-medium text-blue-600 dark:text-blue-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-blue-600 dark:text-blue-500"}}},pagination:{base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",active:"bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"}}},sidebar:{base:"h-full",inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-white py-4 px-3 dark:bg-gray-800",collapsed:{on:"w-16",off:"w-64"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:"h-6 w-6"},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg p-4",color:{blue:"bg-blue-50 dark:bg-blue-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"px-3 flex-1 whitespace-nowrap"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"},label:""},items:"",itemGroup:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700",logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},progress:{base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"flex items-center justify-center rounded-full text-center font-medium leading-none text-blue-100",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},spinner:{base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-blue-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"}},tab:{base:"flex flex-col gap-2",tablist:{base:"flex text-center",styles:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"flex-wrap -mb-px border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap font-medium text-sm text-gray-500 dark:text-gray-400",fullWidth:"hidden text-sm font-medium rounded-lg divide-x divide-gray-200 shadow sm:flex dark:divide-gray-700 dark:text-gray-400"},tabitem:{base:"flex items-center justify-center p-4 text-sm font-medium first:ml-0 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500",styles:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-blue-600 dark:bg-gray-800 dark:text-blue-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800  dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"text-blue-600 rounded-t-lg border-b-2 border-blue-600 active dark:text-blue-500 dark:border-blue-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-blue-600 text-white",off:"rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-2 first:ml-0 w-full first:rounded-l-lg last:rounded-r-lg",active:{on:"inline-block p-4 w-full text-gray-900 bg-gray-100 focus:ring-4 focus:ring-blue-300 active focus:outline-none dark:bg-gray-700 dark:text-white",off:"bg-white hover:text-gray-700 hover:bg-gray-50 focus:ring-4 focus:ring-blue-300 focus:outline-none dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"}}},icon:"mr-2 h-5 w-5"}},tabpanel:"p-4"},toast:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out",removed:"hidden",toggle:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},tooltip:{target:"w-fit",base:"absolute inline-block z-10 rounded-lg py-2 px-3 text-sm font-medium shadow-sm",animation:"transition-opacity",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"}},table:{wrapper:"relative overflow-x-auto shadow-md sm:rounded-lg",base:"w-full text-left text-sm text-gray-500 dark:text-gray-400",head:{base:"bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400",cell:{base:"px-6 py-3"}},row:{hovered:"hover:bg-gray-50 dark:hover:bg-gray-600",striped:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"},cell:{base:"px-6 py-4"}},timeline:{direction:{horizontal:"items-base sm:flex",vertical:"relative border-l border-gray-200 dark:border-gray-700"},item:{base:{horizontal:"relative mb-6 sm:mb-0",vertical:"mb-10 ml-6"},point:{base:{horizontal:"flex items-center",vertical:""},marker:{base:{horizontal:"absolute -left-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700",vertical:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"},icon:{wrapper:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-blue-200 ring-8 ring-white dark:bg-blue-900 dark:ring-gray-900",base:"h-3 w-3 text-blue-600 dark:text-blue-300"}},line:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex"},content:{base:"mt-3 sm:pr-8",time:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",title:"text-lg font-semibold text-gray-900 dark:text-white",body:"mb-4 text-base font-normal text-gray-500 dark:text-gray-400"}}}},zL=O.createContext({theme:WL});function Re(){return O.useContext(zL)}const OR=O.createContext(void 0);function NR(){const n=O.useContext(OR);if(!n)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return n}const LR=({children:n,className:r,theme:o={},...l})=>{const{isOpen:s}=NR(),c=Cn(Re().theme.accordion.content,o);return R("div",{className:fe(c.base,r),"data-testid":"flowbite-accordion-content",hidden:!s,...l,children:n})},MR=({children:n,...r})=>{const{alwaysOpen:o}=r,[l,s]=O.useState(r.isOpen),c=o?{...r,isOpen:l,setOpen:()=>s(!l)}:r;return R(OR.Provider,{value:c,children:n})},BR=({as:n="h2",children:r,className:o,theme:l={},...s})=>{const{arrowIcon:c,flush:f,isOpen:d,setOpen:g}=NR(),_=()=>typeof g<"u"&&g(),b=Cn(Re().theme.accordion.title,l);return de("button",{className:fe(b.base,b.flush[f?"on":"off"],b.open[d?"on":"off"],o),onClick:_,type:"button",...s,children:[R(n,{className:b.heading,"data-testid":"flowbite-accordion-heading",children:r}),c&&R(c,{"aria-hidden":!0,className:fe(b.arrow.base,b.arrow.open[d?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})},PR=({alwaysOpen:n=!1,arrowIcon:r=RR,children:o,flush:l=!1,collapseAll:s=!1,className:c,theme:f={},...d})=>{const[g,_]=O.useState(s?-1:0),b=O.useMemo(()=>O.Children.map(o,(E,S)=>O.cloneElement(E,{alwaysOpen:n,arrowIcon:r,flush:l,isOpen:g===S,setOpen:()=>_(S)})),[n,r,o,l,g]),y=Cn(Re().theme.accordion.root,f);return R("div",{className:fe(y.base,y.flush[l?"on":"off"],c),"data-testid":"flowbite-accordion",...d,children:b})};PR.displayName="Accordion";MR.displayName="Accordion.Panel";BR.displayName="Accordion.Title";LR.displayName="Accordion.Content";Object.assign(PR,{Panel:MR,Title:BR,Content:LR});const jL=({additionalContent:n,children:r,color:o="info",icon:l,onDismiss:s,rounded:c=!0,withBorderAccent:f,className:d,theme:g={}})=>{const _=Cn(Re().theme.alert,g);return de("div",{className:fe(_.root.base,_.root.color[o],c&&_.root.rounded,f&&_.root.borderAccent,d),role:"alert",children:[de("div",{className:_.root.wrapper,"data-testid":"flowbite-alert-wrapper",children:[l&&R(l,{className:_.root.icon,"data-testid":"flowbite-alert-icon"}),R("div",{children:r}),typeof s=="function"&&R("button",{"aria-label":"Dismiss",className:fe(_.closeButton.base,_.closeButton.color[o]),onClick:s,type:"button",children:R(xR,{"aria-hidden":!0,className:_.closeButton.icon})})]}),n&&R("div",{children:n})]})},FR=({children:n,className:r,theme:o={},...l})=>{const s=Cn(Re().theme.avatarGroup.root,o);return R("div",{"data-testid":"avatar-group-element",className:fe(s.base,r),...l,children:n})};FR.displayName="Avatar.Group";const GR=({total:n,href:r,className:o,theme:l={}})=>{const s=Cn(Re().theme.avatarGroupCounter.root,l);return de("a",{className:fe(s.base,o),href:r,children:["+",n]})};GR.displayName="Avatar.GroupCounter";const UR=({alt:n="",bordered:r=!1,children:o,img:l,color:s="light",rounded:c=!1,size:f="md",stacked:d=!1,status:g,statusPosition:_="top-left",placeholderInitials:b="",className:y,theme:E={},...S})=>{const D=Cn(Re().theme.avatar,E),L=fe(r&&D.root.bordered,r&&D.root.color[s],c&&D.root.rounded,d&&D.root.stacked,D.img.on,D.root.size[f]),N={alt:n,className:fe(L,D.img.on),"data-testid":"flowbite-avatar-img"};return de("div",{className:fe(D.root.base,y),"data-testid":"flowbite-avatar",...S,children:[de("div",{className:"relative",children:[l?typeof l=="string"?R("img",{...N,src:l}):l(N):b?R("div",{className:fe(D.img.off,D.initials.base,c&&D.root.rounded,d&&D.root.stacked,r&&D.root.bordered,r&&D.root.color[s]),"data-testid":"flowbite-avatar-initials-placeholder",children:R("span",{className:fe(D.initials.text),"data-testid":"flowbite-avatar-initials-placeholder-text",children:b})}):R("div",{className:fe(L,D.img.off),"data-testid":"flowbite-avatar-img",children:R("svg",{className:D.img.placeholder,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:R("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),g&&R("span",{"data-testid":"flowbite-avatar-status",className:fe(D.status.base,D.status[g],D.root.statusPosition[_])})]}),o&&R("div",{children:o})]})};UR.displayName="Avatar";Object.assign(UR,{Group:FR,Counter:GR});const XL=({children:n,color:r="info",href:o,icon:l,size:s="xs",className:c,theme:f={},...d})=>{const g=Cn(Re().theme.badge,f),_=()=>de("span",{className:fe(g.root.base,g.root.color[r],g.icon[l?"on":"off"],g.root.size[s],c),"data-testid":"flowbite-badge",...d,children:[l&&R(l,{"aria-hidden":!0,className:g.icon.size[s],"data-testid":"flowbite-badge-icon"}),n&&R("span",{children:n})]});return o?R("a",{className:g.root.href,href:o,children:R(_,{})}):R(_,{})},HR=O.forwardRef(({children:n,className:r,href:o,icon:l,theme:s={},...c},f)=>{const d=typeof o<"u",g=d?"a":"span",_=Cn(Re().theme.breadcrumb.item,s);return de("li",{className:fe(_.base,r),...c,children:[R(DR,{"aria-hidden":!0,className:_.chevron,"data-testid":"flowbite-breadcrumb-separator"}),de(g,{ref:f,className:_.href[d?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:o,children:[l&&R(l,{"aria-hidden":!0,className:_.icon}),n]})]})});HR.displayName="Breadcrumb.Item";const VR=({children:n,className:r,theme:o={},...l})=>{const s=Cn(Re().theme.breadcrumb.root,o);return R("nav",{"aria-label":"Breadcrumb",className:fe(s.base,r),...l,children:R("ol",{className:s.list,children:n})})};VR.displayName="Breadcrumb";Object.assign(VR,{Item:HR});const WR=({children:n,outline:r,pill:o,className:l,...s})=>{const c=O.useMemo(()=>O.Children.map(n,(d,g)=>O.cloneElement(d,{outline:r,pill:o,positionInGroup:g===0?"start":g===n.length-1?"end":"middle"})),[n,r,o]),f=Re().theme.buttonGroup;return R("div",{className:fe(f.base,l),role:"group",...s,children:c})};WR.displayName="Button.Group";const zR=O.forwardRef(({children:n,color:r="info",disabled:o=!1,gradientDuoTone:l,gradientMonochrome:s,href:c,label:f,outline:d=!1,pill:g=!1,fullSized:_,positionInGroup:b="none",size:y="md",className:E,...S},D)=>{const L=typeof c<"u",{buttonGroup:N,button:w}=Re().theme,k=L?"a":"button",I=S;return R(k,{className:fe(o&&w.disabled,!l&&!s&&w.color[r],l&&!s&&w.gradientDuoTone[l],!l&&s&&w.gradient[s],N.position[b],d&&(w.outline.color[r]??w.outline.color.default),w.base,w.pill[g?"on":"off"],_&&w.fullSized,E),disabled:o,href:c,type:L?void 0:"button",ref:D,...I,children:R("span",{className:fe(w.inner.base,w.inner.position[b],w.outline[d?"on":"off"],w.outline.pill[d&&g?"on":"off"],w.size[y],d&&!w.outline.color[r]&&w.inner.outline),children:de(Pn,{children:[typeof n<"u"&&n,typeof f<"u"&&R("span",{className:w.label,"data-testid":"flowbite-button-label",children:f})]})})})});zR.displayName="Button";const Jo=Object.assign(zR,{Group:WR}),jR=({children:n,className:r,horizontal:o,href:l,imgAlt:s,imgSrc:c,theme:f={},...d})=>{const g=typeof l>"u"?"div":"a",_=d,b=Cn(Re().theme.card,f);return de(g,{className:fe(b.root.base,b.root.horizontal[o?"on":"off"],l&&b.root.href,r),"data-testid":"flowbite-card",href:l,..._,children:[c&&R("img",{alt:s??"",className:fe(b.img.base,b.img.horizontal[o?"on":"off"]),src:c}),R("div",{className:b.root.children,children:n})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XR=function(n,r){return(XR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var s in l)l.hasOwnProperty(s)&&(o[s]=l[s])})(n,r)},YL,Sb,KL=(function(n){/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var r={}.hasOwnProperty;function o(){for(var l=[],s=0;s<arguments.length;s++){var c=arguments[s];if(c){var f=typeof c;if(f==="string"||f==="number")l.push(c);else if(Array.isArray(c)&&c.length){var d=o.apply(null,c);d&&l.push(d)}else if(f==="object")for(var g in c)r.call(c,g)&&c[g]&&l.push(g)}}return l.join(" ")}n.exports?(o.default=o,n.exports=o):window.classNames=o})()}(Sb={path:YL,exports:{},require:function(n,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(r==null&&Sb.path)}},Sb.exports),Sb.exports);function Lw(n,r,o){var l,s,c,f,d;function g(){var b=Date.now()-f;b<r&&b>=0?l=setTimeout(g,r-b):(l=null,o||(d=n.apply(c,s),c=s=null))}r==null&&(r=100);var _=function(){c=this,s=arguments,f=Date.now();var b=o&&!l;return l||(l=setTimeout(g,r)),b&&(d=n.apply(c,s),c=s=null),d};return _.clear=function(){l&&(clearTimeout(l),l=null)},_.flush=function(){l&&(d=n.apply(c,s),c=s=null,clearTimeout(l),l=null)},_}Lw.debounce=Lw;var JL=Lw;(function(n,r){r===void 0&&(r={});var o=r.insertAt;if(n&&typeof document<"u"){var l=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",o==="top"&&l.firstChild?l.insertBefore(s,l.firstChild):l.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}})(`.indiana-scroll-container {
  overflow: auto; }
  .indiana-scroll-container--dragging {
    scroll-behavior: auto !important; }
    .indiana-scroll-container--dragging > * {
      pointer-events: none;
      cursor: -webkit-grab;
      cursor: grab; }
  .indiana-scroll-container--hide-scrollbars {
    overflow: hidden;
    overflow: -moz-scrollbars-none;
    -ms-overflow-style: none;
    scrollbar-width: none; }
    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {
      display: none !important;
      height: 0 !important;
      width: 0 !important;
      background: transparent !important;
      -webkit-appearance: none !important; }
  .indiana-scroll-container--native-scroll {
    overflow: auto; }

.indiana-dragging {
  cursor: -webkit-grab;
  cursor: grab; }
`);var cE,qL=(cE="indiana-scroll-container",function(n,r){if(!n)return cE;var o;typeof n=="string"?o=n:r=n;var l=cE;return o&&(l+="__"+o),l+(r?Object.keys(r).reduce(function(s,c){var f=r[c];return f&&(s+=" "+(typeof f=="boolean"?l+"--"+c:l+"--"+c+"_"+f)),s},""):"")});(function(n){function r(o){var l=n.call(this,o)||this;return l.onEndScroll=function(){l.scrolling=!1,!l.pressed&&l.started&&l.processEnd()},l.onScroll=function(s){var c=l.container.current;c.scrollLeft===l.scrollLeft&&c.scrollTop===l.scrollTop||(l.scrolling=!0,l.processScroll(s),l.onEndScroll())},l.onTouchStart=function(s){var c=l.props.nativeMobileScroll;if(l.isDraggable(s.target))if(l.internal=!0,c&&l.scrolling)l.pressed=!0;else{var f=s.touches[0];l.processClick(s,f.clientX,f.clientY),!c&&l.props.stopPropagation&&s.stopPropagation()}},l.onTouchEnd=function(s){var c=l.props.nativeMobileScroll;l.pressed&&(!l.started||l.scrolling&&c?l.pressed=!1:l.processEnd(),l.forceUpdate())},l.onTouchMove=function(s){var c=l.props.nativeMobileScroll;if(l.pressed&&(!c||!l.isMobile)){var f=s.touches[0];f&&l.processMove(s,f.clientX,f.clientY),s.preventDefault(),l.props.stopPropagation&&s.stopPropagation()}},l.onMouseDown=function(s){l.isDraggable(s.target)&&l.isScrollable()&&(l.internal=!0,l.props.buttons.indexOf(s.button)!==-1&&(l.processClick(s,s.clientX,s.clientY),s.preventDefault(),l.props.stopPropagation&&s.stopPropagation()))},l.onMouseMove=function(s){l.pressed&&(l.processMove(s,s.clientX,s.clientY),s.preventDefault(),l.props.stopPropagation&&s.stopPropagation())},l.onMouseUp=function(s){l.pressed&&(l.started?l.processEnd():(l.internal=!1,l.pressed=!1,l.forceUpdate(),l.props.onClick&&l.props.onClick(s)),s.preventDefault(),l.props.stopPropagation&&s.stopPropagation())},l.container=To.createRef(),l.onEndScroll=JL(l.onEndScroll,300),l.scrolling=!1,l.started=!1,l.pressed=!1,l.internal=!1,l.getRef=l.getRef.bind(l),l}return function(o,l){function s(){this.constructor=o}XR(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}(r,n),r.prototype.componentDidMount=function(){var o=this.props.nativeMobileScroll,l=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),l.addEventListener("touchstart",this.onTouchStart,{passive:!1}),l.addEventListener("mousedown",this.onMouseDown,{passive:!1}),o&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},r.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},r.prototype.getElement=function(){return this.container.current},r.prototype.isMobileDevice=function(){return window.orientation!==void 0||navigator.userAgent.indexOf("IEMobile")!==-1},r.prototype.isDraggable=function(o){var l=this.props.ignoreElements;if(l){var s=o.closest(l);return s===null||s.contains(this.getElement())}return!0},r.prototype.isScrollable=function(){var o=this.container.current;return o&&(o.scrollWidth>o.clientWidth||o.scrollHeight>o.clientHeight)},r.prototype.processClick=function(o,l,s){var c=this.container.current;this.scrollLeft=c.scrollLeft,this.scrollTop=c.scrollTop,this.clientX=l,this.clientY=s,this.pressed=!0},r.prototype.processStart=function(o){o===void 0&&(o=!0);var l=this.props.onStartScroll;this.started=!0,o&&document.body.classList.add("indiana-dragging"),l&&l({external:!this.internal}),this.forceUpdate()},r.prototype.processScroll=function(o){if(this.started){var l=this.props.onScroll;l&&l({external:!this.internal})}else this.processStart(!1)},r.prototype.processMove=function(o,l,s){var c=this.props,f=c.horizontal,d=c.vertical,g=c.activationDistance,_=c.onScroll,b=this.container.current;this.started?(f&&(b.scrollLeft-=l-this.clientX),d&&(b.scrollTop-=s-this.clientY),_&&_({external:!this.internal}),this.clientX=l,this.clientY=s,this.scrollLeft=b.scrollLeft,this.scrollTop=b.scrollTop):(f&&Math.abs(l-this.clientX)>g||d&&Math.abs(s-this.clientY)>g)&&(this.clientX=l,this.clientY=s,this.processStart())},r.prototype.processEnd=function(){var o=this.props.onEndScroll;this.container.current&&o&&o({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},r.prototype.getRef=function(o){[this.container,this.props.innerRef].forEach(function(l){l&&(typeof l=="function"?l(o):l.current=o)})},r.prototype.render=function(){var o=this.props,l=o.children,s=o.draggingClassName,c=o.className,f=o.style,d=o.hideScrollbars,g=o.component;return To.createElement(g,{className:KL(c,this.pressed&&s,qL({dragging:this.pressed,"hide-scrollbars":d,"native-scroll":this.isMobile})),style:f,ref:this.getRef,onScroll:this.onScroll},l)},r.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},r})(O.PureComponent);const ZL=O.forwardRef(({theme:n={},className:r,...o},l)=>{const s=Cn(Re().theme.checkbox,n);return R("input",{ref:l,className:fe(s.root.base,r),type:"checkbox",...o})});ZL.displayName="Checkbox";function QL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const r=Math.random()*16|0;return(n=="x"?r:r&3|8).toString(16)})}function el(n){return n.split("-")[1]}function Xk(n){return n==="y"?"height":"width"}function Xl(n){return n.split("-")[0]}function A_(n){return["top","bottom"].includes(Xl(n))?"x":"y"}function GC(n,r,o){let{reference:l,floating:s}=n;const c=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2,d=A_(r),g=Xk(d),_=l[g]/2-s[g]/2,b=d==="x";let y;switch(Xl(r)){case"top":y={x:c,y:l.y-s.height};break;case"bottom":y={x:c,y:l.y+l.height};break;case"right":y={x:l.x+l.width,y:f};break;case"left":y={x:l.x-s.width,y:f};break;default:y={x:l.x,y:l.y}}switch(el(r)){case"start":y[d]-=_*(o&&b?-1:1);break;case"end":y[d]+=_*(o&&b?-1:1)}return y}const eM=async(n,r,o)=>{const{placement:l="bottom",strategy:s="absolute",middleware:c=[],platform:f}=o,d=c.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(r));let _=await f.getElementRects({reference:n,floating:r,strategy:s}),{x:b,y}=GC(_,l,g),E=l,S={},D=0;for(let L=0;L<d.length;L++){const{name:N,fn:w}=d[L],{x:k,y:I,data:P,reset:W}=await w({x:b,y,initialPlacement:l,placement:E,strategy:s,middlewareData:S,rects:_,platform:f,elements:{reference:n,floating:r}});b=k??b,y=I??y,S={...S,[N]:{...S[N],...P}},W&&D<=50&&(D++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(_=W.rects===!0?await f.getElementRects({reference:n,floating:r,strategy:s}):W.rects),{x:b,y}=GC(_,E,g)),L=-1)}return{x:b,y,placement:E,strategy:s,middlewareData:S}};function YR(n){return typeof n!="number"?function(r){return{top:0,right:0,bottom:0,left:0,...r}}(n):{top:n,right:n,bottom:n,left:n}}function k$(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function Yk(n,r){var o;r===void 0&&(r={});const{x:l,y:s,platform:c,rects:f,elements:d,strategy:g}=n,{boundary:_="clippingAncestors",rootBoundary:b="viewport",elementContext:y="floating",altBoundary:E=!1,padding:S=0}=r,D=YR(S),L=d[E?y==="floating"?"reference":"floating":y],N=k$(await c.getClippingRect({element:(o=await(c.isElement==null?void 0:c.isElement(L)))==null||o?L:L.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(d.floating)),boundary:_,rootBoundary:b,strategy:g})),w=y==="floating"?{...f.floating,x:l,y:s}:f.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d.floating)),I=await(c.isElement==null?void 0:c.isElement(k))&&await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1},P=k$(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:k,strategy:g}):w);return{top:(N.top-P.top+D.top)/I.y,bottom:(P.bottom-N.bottom+D.bottom)/I.y,left:(N.left-P.left+D.left)/I.x,right:(P.right-N.right+D.right)/I.x}}const tM=Math.min,nM=Math.max;function Mw(n,r,o){return nM(n,tM(r,o))}const UC=n=>({name:"arrow",options:n,async fn(r){const{element:o,padding:l=0}=n||{},{x:s,y:c,placement:f,rects:d,platform:g,elements:_}=r;if(o==null)return{};const b=YR(l),y={x:s,y:c},E=A_(f),S=Xk(E),D=await g.getDimensions(o),L=E==="y",N=L?"top":"left",w=L?"bottom":"right",k=L?"clientHeight":"clientWidth",I=d.reference[S]+d.reference[E]-y[E]-d.floating[S],P=y[E]-d.reference[E],W=await(g.getOffsetParent==null?void 0:g.getOffsetParent(o));let j=W?W[k]:0;j&&await(g.isElement==null?void 0:g.isElement(W))||(j=_.floating[k]||d.floating[S]);const H=I/2-P/2,K=b[N],$e=j-D[S]-b[w],re=j/2-D[S]/2+H,pe=Mw(K,re,$e),ne=el(f)!=null&&re!=pe&&d.reference[S]/2-(re<K?b[N]:b[w])-D[S]/2<0;return{[E]:y[E]-(ne?re<K?K-re:$e-re:0),data:{[E]:pe,centerOffset:re-pe}}}}),rM=["top","right","bottom","left"],HC=rM.reduce((n,r)=>n.concat(r,r+"-start",r+"-end"),[]),oM={left:"right",right:"left",bottom:"top",top:"bottom"};function T$(n){return n.replace(/left|right|bottom|top/g,r=>oM[r])}function KR(n,r,o){o===void 0&&(o=!1);const l=el(n),s=A_(n),c=Xk(s);let f=s==="x"?l===(o?"end":"start")?"right":"left":l==="start"?"bottom":"top";return r.reference[c]>r.floating[c]&&(f=T$(f)),{main:f,cross:T$(f)}}const iM={start:"end",end:"start"};function jb(n){return n.replace(/start|end/g,r=>iM[r])}const sM=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(r){var o,l,s;const{rects:c,middlewareData:f,placement:d,platform:g,elements:_}=r,{crossAxis:b=!1,alignment:y,allowedPlacements:E=HC,autoAlignment:S=!0,...D}=n,L=y!==void 0||E===HC?function(re,pe,ne){return(re?[...ne.filter(xe=>el(xe)===re),...ne.filter(xe=>el(xe)!==re)]:ne.filter(xe=>Xl(xe)===xe)).filter(xe=>!re||el(xe)===re||!!pe&&jb(xe)!==xe)}(y||null,S,E):E,N=await Yk(r,D),w=((o=f.autoPlacement)==null?void 0:o.index)||0,k=L[w];if(k==null)return{};const{main:I,cross:P}=KR(k,c,await(g.isRTL==null?void 0:g.isRTL(_.floating)));if(d!==k)return{reset:{placement:L[0]}};const W=[N[Xl(k)],N[I],N[P]],j=[...((l=f.autoPlacement)==null?void 0:l.overflows)||[],{placement:k,overflows:W}],H=L[w+1];if(H)return{data:{index:w+1,overflows:j},reset:{placement:H}};const K=j.map(re=>{const pe=el(re.placement);return[re.placement,pe&&b?re.overflows.slice(0,2).reduce((ne,xe)=>ne+xe,0):re.overflows[0],re.overflows]}).sort((re,pe)=>re[1]-pe[1]),$e=((s=K.filter(re=>re[2].slice(0,el(re[0])?2:3).every(pe=>pe<=0))[0])==null?void 0:s[0])||K[0][0];return $e!==d?{data:{index:w+1,overflows:j},reset:{placement:$e}}:{}}}},lM=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var o;const{placement:l,middlewareData:s,rects:c,initialPlacement:f,platform:d,elements:g}=r,{mainAxis:_=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:D=!0,...L}=n,N=Xl(l),w=Xl(f)===f,k=await(d.isRTL==null?void 0:d.isRTL(g.floating)),I=y||(w||!D?[T$(f)]:function(pe){const ne=T$(pe);return[jb(pe),ne,jb(ne)]}(f));y||S==="none"||I.push(...function(pe,ne,xe,Se){const Ie=el(pe);let ce=function(qe,z,Y){const Q=["left","right"],ee=["right","left"],Z=["top","bottom"],_e=["bottom","top"];switch(qe){case"top":case"bottom":return Y?z?ee:Q:z?Q:ee;case"left":case"right":return z?Z:_e;default:return[]}}(Xl(pe),xe==="start",Se);return Ie&&(ce=ce.map(qe=>qe+"-"+Ie),ne&&(ce=ce.concat(ce.map(jb)))),ce}(f,D,S,k));const P=[f,...I],W=await Yk(r,L),j=[];let H=((o=s.flip)==null?void 0:o.overflows)||[];if(_&&j.push(W[N]),b){const{main:pe,cross:ne}=KR(l,c,k);j.push(W[pe],W[ne])}if(H=[...H,{placement:l,overflows:j}],!j.every(pe=>pe<=0)){var K,$e;const pe=(((K=s.flip)==null?void 0:K.index)||0)+1,ne=P[pe];if(ne)return{data:{index:pe,overflows:H},reset:{placement:ne}};let xe=($e=H.filter(Se=>Se.overflows[0]<=0).sort((Se,Ie)=>Se.overflows[1]-Ie.overflows[1])[0])==null?void 0:$e.placement;if(!xe)switch(E){case"bestFit":{var re;const Se=(re=H.map(Ie=>[Ie.placement,Ie.overflows.filter(ce=>ce>0).reduce((ce,qe)=>ce+qe,0)]).sort((Ie,ce)=>Ie[1]-ce[1])[0])==null?void 0:re[0];Se&&(xe=Se);break}case"initialPlacement":xe=f}if(l!==xe)return{reset:{placement:xe}}}return{}}}},aM=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){const{x:o,y:l}=r,s=await async function(c,f){const{placement:d,platform:g,elements:_}=c,b=await(g.isRTL==null?void 0:g.isRTL(_.floating)),y=Xl(d),E=el(d),S=A_(d)==="x",D=["left","top"].includes(y)?-1:1,L=b&&S?-1:1,N=typeof f=="function"?f(c):f;let{mainAxis:w,crossAxis:k,alignmentAxis:I}=typeof N=="number"?{mainAxis:N,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...N};return E&&typeof I=="number"&&(k=E==="end"?-1*I:I),S?{x:k*L,y:w*D}:{x:w*D,y:k*L}}(r,n);return{x:o+s.x,y:l+s.y,data:s}}}};function uM(n){return n==="x"?"y":"x"}const cM=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(r){const{x:o,y:l,placement:s}=r,{mainAxis:c=!0,crossAxis:f=!1,limiter:d={fn:N=>{let{x:w,y:k}=N;return{x:w,y:k}}},...g}=n,_={x:o,y:l},b=await Yk(r,g),y=A_(Xl(s)),E=uM(y);let S=_[y],D=_[E];if(c){const N=y==="y"?"bottom":"right";S=Mw(S+b[y==="y"?"top":"left"],S,S-b[N])}if(f){const N=E==="y"?"bottom":"right";D=Mw(D+b[E==="y"?"top":"left"],D,D-b[N])}const L=d.fn({...r,[y]:S,[E]:D});return{...L,data:{x:L.x-o,y:L.y-l}}}}};function Pi(n){var r;return((r=n.ownerDocument)==null?void 0:r.defaultView)||window}function $s(n){return Pi(n).getComputedStyle(n)}function JR(n){return n instanceof Pi(n).Node}function Su(n){return JR(n)?(n.nodeName||"").toLowerCase():""}function Es(n){return n instanceof Pi(n).HTMLElement}function Yo(n){return n instanceof Pi(n).Element}function VC(n){return typeof ShadowRoot>"u"?!1:n instanceof Pi(n).ShadowRoot||n instanceof ShadowRoot}function y_(n){const{overflow:r,overflowX:o,overflowY:l,display:s}=$s(n);return/auto|scroll|overlay|hidden|clip/.test(r+l+o)&&!["inline","contents"].includes(s)}function hM(n){return["table","td","th"].includes(Su(n))}function Bw(n){const r=Kk(),o=$s(n);return o.transform!=="none"||o.perspective!=="none"||!r&&!!o.backdropFilter&&o.backdropFilter!=="none"||!r&&!!o.filter&&o.filter!=="none"||["transform","perspective","filter"].some(l=>(o.willChange||"").includes(l))||["paint","layout","strict","content"].some(l=>(o.contain||"").includes(l))}function Kk(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ey(n){return["html","body","#document"].includes(Su(n))}const WC=Math.min,t_=Math.max,C$=Math.round;function qR(n){const r=$s(n);let o=parseFloat(r.width)||0,l=parseFloat(r.height)||0;const s=Es(n),c=s?n.offsetWidth:o,f=s?n.offsetHeight:l,d=C$(o)!==c||C$(l)!==f;return d&&(o=c,l=f),{width:o,height:l,fallback:d}}function ZR(n){return Yo(n)?n:n.contextElement}const QR={x:1,y:1};function Hp(n){const r=ZR(n);if(!Es(r))return QR;const o=r.getBoundingClientRect(),{width:l,height:s,fallback:c}=qR(r);let f=(c?C$(o.width):o.width)/l,d=(c?C$(o.height):o.height)/s;return f&&Number.isFinite(f)||(f=1),d&&Number.isFinite(d)||(d=1),{x:f,y:d}}const zC={x:0,y:0};function ex(n,r,o){var l,s;if(r===void 0&&(r=!0),!Kk())return zC;const c=n?Pi(n):window;return!o||r&&o!==c?zC:{x:((l=c.visualViewport)==null?void 0:l.offsetLeft)||0,y:((s=c.visualViewport)==null?void 0:s.offsetTop)||0}}function ph(n,r,o,l){r===void 0&&(r=!1),o===void 0&&(o=!1);const s=n.getBoundingClientRect(),c=ZR(n);let f=QR;r&&(l?Yo(l)&&(f=Hp(l)):f=Hp(n));const d=ex(c,o,l);let g=(s.left+d.x)/f.x,_=(s.top+d.y)/f.y,b=s.width/f.x,y=s.height/f.y;if(c){const E=Pi(c),S=l&&Yo(l)?Pi(l):l;let D=E.frameElement;for(;D&&l&&S!==E;){const L=Hp(D),N=D.getBoundingClientRect(),w=getComputedStyle(D);N.x+=(D.clientLeft+parseFloat(w.paddingLeft))*L.x,N.y+=(D.clientTop+parseFloat(w.paddingTop))*L.y,g*=L.x,_*=L.y,b*=L.x,y*=L.y,g+=N.x,_+=N.y,D=Pi(D).frameElement}}return k$({width:b,height:y,x:g,y:_})}function ku(n){return((JR(n)?n.ownerDocument:n.document)||window.document).documentElement}function ty(n){return Yo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function tx(n){return ph(ku(n)).left+ty(n).scrollLeft}function qp(n){if(Su(n)==="html")return n;const r=n.assignedSlot||n.parentNode||VC(n)&&n.host||ku(n);return VC(r)?r.host:r}function nx(n){const r=qp(n);return ey(r)?r.ownerDocument.body:Es(r)&&y_(r)?r:nx(r)}function n_(n,r){var o;r===void 0&&(r=[]);const l=nx(n),s=l===((o=n.ownerDocument)==null?void 0:o.body),c=Pi(l);return s?r.concat(c,c.visualViewport||[],y_(l)?l:[]):r.concat(l,n_(l))}function jC(n,r,o){let l;if(r==="viewport")l=function(s,c){const f=Pi(s),d=ku(s),g=f.visualViewport;let _=d.clientWidth,b=d.clientHeight,y=0,E=0;if(g){_=g.width,b=g.height;const S=Kk();(!S||S&&c==="fixed")&&(y=g.offsetLeft,E=g.offsetTop)}return{width:_,height:b,x:y,y:E}}(n,o);else if(r==="document")l=function(s){const c=ku(s),f=ty(s),d=s.ownerDocument.body,g=t_(c.scrollWidth,c.clientWidth,d.scrollWidth,d.clientWidth),_=t_(c.scrollHeight,c.clientHeight,d.scrollHeight,d.clientHeight);let b=-f.scrollLeft+tx(s);const y=-f.scrollTop;return $s(d).direction==="rtl"&&(b+=t_(c.clientWidth,d.clientWidth)-g),{width:g,height:_,x:b,y}}(ku(n));else if(Yo(r))l=function(s,c){const f=ph(s,!0,c==="fixed"),d=f.top+s.clientTop,g=f.left+s.clientLeft,_=Es(s)?Hp(s):{x:1,y:1};return{width:s.clientWidth*_.x,height:s.clientHeight*_.y,x:g*_.x,y:d*_.y}}(r,o);else{const s=ex(n);l={...r,x:r.x-s.x,y:r.y-s.y}}return k$(l)}function rx(n,r){const o=qp(n);return!(o===r||!Yo(o)||ey(o))&&($s(o).position==="fixed"||rx(o,r))}function XC(n,r){return Es(n)&&$s(n).position!=="fixed"?r?r(n):n.offsetParent:null}function YC(n,r){const o=Pi(n);if(!Es(n))return o;let l=XC(n,r);for(;l&&hM(l)&&$s(l).position==="static";)l=XC(l,r);return l&&(Su(l)==="html"||Su(l)==="body"&&$s(l).position==="static"&&!Bw(l))?o:l||function(s){let c=qp(s);for(;Es(c)&&!ey(c);){if(Bw(c))return c;c=qp(c)}return null}(n)||o}function dM(n,r,o){const l=Es(r),s=ku(r),c=o==="fixed",f=ph(n,!0,c,r);let d={scrollLeft:0,scrollTop:0};const g={x:0,y:0};if(l||!l&&!c)if((Su(r)!=="body"||y_(s))&&(d=ty(r)),Es(r)){const _=ph(r,!0,c,r);g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}else s&&(g.x=tx(s));return{x:f.left+d.scrollLeft-g.x,y:f.top+d.scrollTop-g.y,width:f.width,height:f.height}}const pM={getClippingRect:function(n){let{element:r,boundary:o,rootBoundary:l,strategy:s}=n;const c=o==="clippingAncestors"?function(_,b){const y=b.get(_);if(y)return y;let E=n_(_).filter(N=>Yo(N)&&Su(N)!=="body"),S=null;const D=$s(_).position==="fixed";let L=D?qp(_):_;for(;Yo(L)&&!ey(L);){const N=$s(L),w=Bw(L);w||N.position!=="fixed"||(S=null),(D?!w&&!S:!w&&N.position==="static"&&S&&["absolute","fixed"].includes(S.position)||y_(L)&&!w&&rx(_,L))?E=E.filter(k=>k!==L):S=N,L=qp(L)}return b.set(_,E),E}(r,this._c):[].concat(o),f=[...c,l],d=f[0],g=f.reduce((_,b)=>{const y=jC(r,b,s);return _.top=t_(y.top,_.top),_.right=WC(y.right,_.right),_.bottom=WC(y.bottom,_.bottom),_.left=t_(y.left,_.left),_},jC(r,d,s));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:r,offsetParent:o,strategy:l}=n;const s=Es(o),c=ku(o);if(o===c)return r;let f={scrollLeft:0,scrollTop:0},d={x:1,y:1};const g={x:0,y:0};if((s||!s&&l!=="fixed")&&((Su(o)!=="body"||y_(c))&&(f=ty(o)),Es(o))){const _=ph(o);d=Hp(o),g.x=_.x+o.clientLeft,g.y=_.y+o.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-f.scrollLeft*d.x+g.x,y:r.y*d.y-f.scrollTop*d.y+g.y}},isElement:Yo,getDimensions:function(n){return qR(n)},getOffsetParent:YC,getDocumentElement:ku,getScale:Hp,async getElementRects(n){let{reference:r,floating:o,strategy:l}=n;const s=this.getOffsetParent||YC,c=this.getDimensions;return{reference:dM(r,await s(o),l),floating:{x:0,y:0,...await c(o)}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>$s(n).direction==="rtl"};function ox(n,r,o,l){l===void 0&&(l={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:f=!0,animationFrame:d=!1}=l,g=s||c?[...Yo(n)?n_(n):n.contextElement?n_(n.contextElement):[],...n_(r)]:[];g.forEach(E=>{const S=!Yo(E)&&E.toString().includes("V");!s||d&&!S||E.addEventListener("scroll",o,{passive:!0}),c&&E.addEventListener("resize",o)});let _,b=null;f&&(b=new ResizeObserver(()=>{o()}),Yo(n)&&!d&&b.observe(n),Yo(n)||!n.contextElement||d||b.observe(n.contextElement),b.observe(r));let y=d?ph(n):null;return d&&function E(){const S=ph(n);!y||S.x===y.x&&S.y===y.y&&S.width===y.width&&S.height===y.height||o(),y=S,_=requestAnimationFrame(E)}(),o(),()=>{var E;g.forEach(S=>{s&&S.removeEventListener("scroll",o),c&&S.removeEventListener("resize",o)}),(E=b)==null||E.disconnect(),b=null,d&&cancelAnimationFrame(_)}}const fM=(n,r,o)=>{const l=new Map,s={platform:pM,...o},c={...s.platform,_c:l};return eM(n,r,{...s,platform:c})},gM=n=>{const{element:r,padding:o}=n;function l(s){return Object.prototype.hasOwnProperty.call(s,"current")}return{name:"arrow",options:n,fn(s){return l(r)?r.current!=null?UC({element:r.current,padding:o}).fn(s):{}:r?UC({element:r,padding:o}).fn(s):{}}}};var Xb=typeof document<"u"?O.useLayoutEffect:O.useEffect;function S$(n,r){if(n===r)return!0;if(typeof n!=typeof r)return!1;if(typeof n=="function"&&n.toString()===r.toString())return!0;let o,l,s;if(n&&r&&typeof n=="object"){if(Array.isArray(n)){if(o=n.length,o!=r.length)return!1;for(l=o;l--!==0;)if(!S$(n[l],r[l]))return!1;return!0}if(s=Object.keys(n),o=s.length,o!==Object.keys(r).length)return!1;for(l=o;l--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[l]))return!1;for(l=o;l--!==0;){const c=s[l];if(!(c==="_owner"&&n.$$typeof)&&!S$(n[c],r[c]))return!1}return!0}return n!==n&&r!==r}function KC(n){const r=O.useRef(n);return Xb(()=>{r.current=n}),r}function mM(n){n===void 0&&(n={});const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:s,whileElementsMounted:c,open:f}=n,[d,g]=O.useState({x:null,y:null,strategy:o,placement:r,middlewareData:{},isPositioned:!1}),[_,b]=O.useState(l);S$(_,l)||b(l);const y=O.useRef(null),E=O.useRef(null),S=O.useRef(d),D=KC(c),L=KC(s),[N,w]=O.useState(null),[k,I]=O.useState(null),P=O.useCallback(re=>{y.current!==re&&(y.current=re,w(re))},[]),W=O.useCallback(re=>{E.current!==re&&(E.current=re,I(re))},[]),j=O.useCallback(()=>{if(!y.current||!E.current)return;const re={placement:r,strategy:o,middleware:_};L.current&&(re.platform=L.current),fM(y.current,E.current,re).then(pe=>{const ne={...pe,isPositioned:!0};H.current&&!S$(S.current,ne)&&(S.current=ne,Q$.flushSync(()=>{g(ne)}))})},[_,r,o,L]);Xb(()=>{f===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,g(re=>({...re,isPositioned:!1})))},[f]);const H=O.useRef(!1);Xb(()=>(H.current=!0,()=>{H.current=!1}),[]),Xb(()=>{if(N&&k){if(D.current)return D.current(N,k,j);j()}},[N,k,j,D]);const K=O.useMemo(()=>({reference:y,floating:E,setReference:P,setFloating:W}),[P,W]),$e=O.useMemo(()=>({reference:N,floating:k}),[N,k]);return O.useMemo(()=>({...d,update:j,refs:K,elements:$e,reference:P,floating:W}),[d,j,K,$e,P,W])}var ny=typeof document<"u"?O.useLayoutEffect:O.useEffect;let hE=!1,_M=0;const JC=()=>"floating-ui-"+_M++;function vM(){const[n,r]=O.useState(()=>hE?JC():void 0);return ny(()=>{n==null&&r(JC())},[]),O.useEffect(()=>{hE||(hE=!0)},[]),n}const bM=Qb["useId".toString()],qC=bM||vM;function $M(){const n=new Map;return{emit(r,o){var l;(l=n.get(r))==null||l.forEach(s=>s(o))},on(r,o){n.set(r,[...n.get(r)||[],o])},off(r,o){n.set(r,(n.get(r)||[]).filter(l=>l!==o))}}}const yM=O.createContext(null),ix=()=>O.useContext(yM);function oh(n){return(n==null?void 0:n.ownerDocument)||document}function Jk(n){return oh(n).defaultView||window}function th(n){return n?n instanceof Jk(n).Element:!1}function qk(n){return n?n instanceof Jk(n).HTMLElement:!1}function EM(n){if(typeof ShadowRoot>"u")return!1;const r=Jk(n).ShadowRoot;return n instanceof r||n instanceof ShadowRoot}function wM(){return/apple/i.test(navigator.vendor)}function I$(n,r){const o=["mouse","pen"];return r||o.push("",void 0),o.includes(n)}function Lp(n,r){if(!n||!r)return!1;const o=r.getRootNode&&r.getRootNode();if(n.contains(r))return!0;if(o&&EM(o)){let l=r;do{if(l&&n===l)return!0;l=l.parentNode||l.host}while(l)}return!1}function kM(n,r){let o=n.filter(s=>{var c;return s.parentId===r&&((c=s.context)==null?void 0:c.open)})||[],l=o;for(;l.length;)l=n.filter(s=>{var c;return(c=l)==null?void 0:c.some(f=>{var d;return s.parentId===f.id&&((d=s.context)==null?void 0:d.open)})})||[],o=o.concat(l);return o}function TM(n){return"composedPath"in n?n.composedPath()[0]:n.target}function CM(n,r){const[o,l]=n;let s=!1;const c=r.length;for(let f=0,d=c-1;f<c;d=f++){const[g,_]=r[f]||[0,0],[b,y]=r[d]||[0,0];_>=l!=y>=l&&o<=(b-g)*(l-_)/(y-_)+g&&(s=!s)}return s}const ZC="http://www.w3.org/2000/svg";function SM(n,r,o){var l,s;const c=wM(),f=r.defaultView||window,d=r.createElementNS(ZC,"svg");Object.assign(d.style,{position:"fixed",left:(c&&((l=f.visualViewport)==null?void 0:l.offsetLeft)||0)+"px",top:(c&&((s=f.visualViewport)==null?void 0:s.offsetTop)||0)+"px",width:"100%",height:"100%",pointerEvents:"none",zIndex:2147483647}),d.setAttribute("data-type",o?"rect":"triangle");const g=r.createElementNS(ZC,"polygon");return g.setAttribute("points",n.map(_=>{let[b,y]=_;return b+","+y}).join(" ")),Object.assign(g.style,{pointerEvents:"auto",fill:"transparent",opacity:0}),d.appendChild(g),d}function r_(n){n.current&&(n.current.remove(),n.current=null)}function IM(n){let{restMs:r=0,buffer:o=.5,blockPointerEvents:l=!0}=n===void 0?{}:n,s,c=!1,f=!1;return g=>{let{x:_,y:b,placement:y,refs:E,onClose:S,nodeId:D,tree:L,polygonRef:N}=g;return function(k){var I;function P(){r_(N),clearTimeout(s),S()}if(clearTimeout(s),!E.domReference.current||!E.floating.current||y==null||_==null||b==null)return;const{clientX:W,clientY:j}=k,H=TM(k),K=k.type==="mouseleave",$e=Lp(E.domReference.current,H),re=Lp(E.floating.current,H);if(!K&&$e){r_(N);return}if(!K&&($e||c&&Lp(N.current,H))||K&&th(k.relatedTarget)&&Lp(E.floating.current,k.relatedTarget)||L&&kM(L.nodesRef.current,D).some(Y=>{let{context:Q}=Y;return Q==null?void 0:Q.open}))return;if(re&&(f=!0),re&&!K&&((I=N.current)==null?void 0:I.dataset.type)!=="rect"){r_(N);return}const pe=E.domReference.current.getBoundingClientRect(),ne=E.floating.current.getBoundingClientRect(),xe=y.split("-")[0],Se=_>ne.right-ne.width/2,Ie=b>ne.bottom-ne.height/2;if(xe==="top"&&b>=pe.bottom-1||xe==="bottom"&&b<=pe.top+1||xe==="left"&&_>=pe.right-1||xe==="right"&&_<=pe.left+1)return P();let ce=[];switch(xe){case"top":ce=[[ne.left,pe.top+1],[ne.left,ne.bottom-1],[ne.right,ne.bottom-1],[ne.right,pe.top+1]],c=W>=ne.left&&W<=ne.right&&j>=ne.top&&j<=pe.top+1;break;case"bottom":ce=[[ne.left,ne.top+1],[ne.left,pe.bottom-1],[ne.right,pe.bottom-1],[ne.right,ne.top+1]],c=W>=ne.left&&W<=ne.right&&j>=pe.bottom-1&&j<=ne.bottom;break;case"left":ce=[[ne.right-1,ne.bottom],[ne.right-1,ne.top],[pe.left+1,ne.top],[pe.left+1,ne.bottom]],c=W>=ne.left&&W<=pe.left+1&&j>=ne.top&&j<=ne.bottom;break;case"right":ce=[[pe.right-1,ne.bottom],[pe.right-1,ne.top],[ne.left+1,ne.top],[ne.left+1,ne.bottom]],c=W>=pe.right-1&&W<=ne.right&&j>=ne.top&&j<=ne.bottom;break}function qe(Y){let[Q,ee]=Y;const Z=ne.width>pe.width,_e=ne.height>pe.height;switch(xe){case"top":{const be=[Z?Q+o/2:Se?Q+o*4:Q-o*4,ee+o+1],se=[Z?Q-o/2:Se?Q+o*4:Q-o*4,ee+o+1],He=[[ne.left,Se||Z?ne.bottom-o:ne.top],[ne.right,Se?Z?ne.bottom-o:ne.top:ne.bottom-o]];return[be,se,...He]}case"bottom":{const be=[Z?Q+o/2:Se?Q+o*4:Q-o*4,ee-o],se=[Z?Q-o/2:Se?Q+o*4:Q-o*4,ee-o],He=[[ne.left,Se||Z?ne.top+o:ne.bottom],[ne.right,Se?Z?ne.top+o:ne.bottom:ne.top+o]];return[be,se,...He]}case"left":{const be=[Q+o+1,_e?ee+o/2:Ie?ee+o*4:ee-o*4],se=[Q+o+1,_e?ee-o/2:Ie?ee+o*4:ee-o*4];return[...[[Ie||_e?ne.right-o:ne.left,ne.top],[Ie?_e?ne.right-o:ne.left:ne.right-o,ne.bottom]],be,se]}case"right":{const be=[Q-o,_e?ee+o/2:Ie?ee+o*4:ee-o*4],se=[Q-o,_e?ee-o/2:Ie?ee+o*4:ee-o*4],He=[[Ie||_e?ne.left+o:ne.right,ne.top],[Ie?_e?ne.left+o:ne.right:ne.left+o,ne.bottom]];return[be,se,...He]}}}const z=c?ce:qe([_,b]);if(!N.current&&l&&K){const Y=oh(E.floating.current);N.current=SM(z,Y,c),Y.body.appendChild(N.current)}c||(CM([W,j],z)?r&&!f&&(s=setTimeout(S,r)):P())}}}function QC(n){const r=O.useRef(n);return ny(()=>{r.current=n}),r}function dE(n,r,o){return o&&!I$(o)?0:typeof n=="number"?n:n==null?void 0:n[r]}const RM=function(n,r){let{enabled:o=!0,delay:l=0,handleClose:s=null,mouseOnly:c=!1,restMs:f=0,move:d=!0}=r===void 0?{}:r;const{open:g,onOpenChange:_,dataRef:b,events:y,refs:E,_:S}=n,D=ix(),L=QC(s),N=QC(l),w=O.useRef(),k=O.useRef(),I=O.useRef(),P=O.useRef(),W=O.useRef(!0),j=O.useRef(null),H=O.useCallback(()=>{var re;const pe=(re=b.current.openEvent)==null?void 0:re.type;return(pe==null?void 0:pe.includes("mouse"))&&pe!=="mousedown"},[b]);O.useEffect(()=>{if(!o)return;function re(){clearTimeout(k.current),clearTimeout(P.current),W.current=!0}return y.on("dismiss",re),()=>{y.off("dismiss",re)}},[o,y,E]),O.useEffect(()=>{if(!o||!L.current||!g)return;function re(){H()&&_(!1)}const pe=oh(E.floating.current).documentElement;return pe.addEventListener("mouseleave",re),()=>{pe.removeEventListener("mouseleave",re)}},[E,g,_,o,L,b,H]);const K=O.useCallback(function(re){re===void 0&&(re=!0);const pe=dE(N.current,"close",w.current);pe&&!I.current?(clearTimeout(k.current),k.current=setTimeout(()=>_(!1),pe)):re&&(clearTimeout(k.current),_(!1))},[N,_]),$e=O.useCallback(()=>{I.current&&(oh(E.floating.current).removeEventListener("mousemove",I.current),I.current=void 0)},[E]);return O.useEffect(()=>{if(!o)return;function re(){return b.current.openEvent?["click","mousedown"].includes(b.current.openEvent.type):!1}function pe(ce){if(clearTimeout(k.current),W.current=!1,c&&!I$(w.current)||f>0&&dE(N.current,"open")===0)return;b.current.openEvent=ce;const qe=dE(N.current,"open",w.current);qe?k.current=setTimeout(()=>{_(!0)},qe):_(!0)}function ne(ce){if(re())return;const qe=oh(E.floating.current);if(clearTimeout(P.current),L.current){clearTimeout(k.current),I.current&&qe.removeEventListener("mousemove",I.current),I.current=L.current({...n,tree:D,polygonRef:j,x:ce.clientX,y:ce.clientY,onClose(){$e(),K()}}),qe.addEventListener("mousemove",I.current);return}K()}function xe(ce){re()||L.current==null||L.current({...n,tree:D,polygonRef:j,x:ce.clientX,y:ce.clientY,onClose(){$e(),K()}})(ce)}const Se=E.floating.current,Ie=E.domReference.current;if(th(Ie))return g&&Ie.addEventListener("mouseleave",xe),Se==null||Se.addEventListener("mouseleave",xe),d&&Ie.addEventListener("mousemove",pe,{once:!0}),Ie.addEventListener("mouseenter",pe),Ie.addEventListener("mouseleave",ne),()=>{g&&Ie.removeEventListener("mouseleave",xe),Se==null||Se.removeEventListener("mouseleave",xe),d&&Ie.removeEventListener("mousemove",pe),Ie.removeEventListener("mouseenter",pe),Ie.removeEventListener("mouseleave",ne)}},[S.domReference,o,n,c,f,d,K,$e,_,g,D,E,N,L,b]),ny(()=>{g||(w.current=void 0,$e(),r_(j))},[g,$e]),O.useEffect(()=>()=>{$e(),clearTimeout(k.current),clearTimeout(P.current),r_(j)},[o,$e]),O.useMemo(()=>{if(!o)return{};function re(pe){w.current=pe.pointerType}return{reference:{onPointerDown:re,onPointerEnter:re,onMouseMove(){g||f===0||(clearTimeout(P.current),P.current=setTimeout(()=>{W.current||_(!0)},f))}},floating:{onMouseEnter(){clearTimeout(k.current)},onMouseLeave(){y.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),K(!1)}}}},[y,o,f,g,_,K])};function xM(n){let r=n.activeElement;for(;((o=r)==null||(l=o.shadowRoot)==null?void 0:l.activeElement)!=null;){var o,l;r=r.shadowRoot.activeElement}return r}const AM="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function DM(n){return qk(n)&&n.matches(AM)}const OM=Qb["useInsertionEffect".toString()],NM=OM||(n=>n());function LM(n){const r=O.useRef(()=>{});return NM(()=>{r.current=n}),O.useCallback(function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return r.current==null?void 0:r.current(...l)},[])}function e1(n){return qk(n.target)&&n.target.tagName==="BUTTON"}function t1(n){return DM(n)}const MM=function(n,r){let{open:o,onOpenChange:l,dataRef:s,refs:c}=n,{enabled:f=!0,event:d="click",toggle:g=!0,ignoreMouse:_=!1,keyboardHandlers:b=!0}=r===void 0?{}:r;const y=O.useRef();return O.useMemo(()=>f?{reference:{onPointerDown(E){y.current=E.pointerType},onMouseDown(E){E.button===0&&(I$(y.current,!0)&&_||d!=="click"&&(o?g&&(!s.current.openEvent||s.current.openEvent.type==="mousedown")&&l(!1):(E.preventDefault(),l(!0)),s.current.openEvent=E.nativeEvent))},onClick(E){if(d==="mousedown"&&y.current){y.current=void 0;return}I$(y.current,!0)&&_||(o?g&&(!s.current.openEvent||s.current.openEvent.type==="click")&&l(!1):l(!0),s.current.openEvent=E.nativeEvent)},onKeyDown(E){y.current=void 0,b&&(e1(E)||(E.key===" "&&!t1(c.domReference.current)&&E.preventDefault(),E.key==="Enter"&&(o?g&&l(!1):l(!0))))},onKeyUp(E){b&&(e1(E)||t1(c.domReference.current)||E.key===" "&&(o?g&&l(!1):l(!0)))}}}:{},[f,s,d,_,b,c,g,o,l])};function BM(n,r){if(r==null)return!1;if("composedPath"in n)return n.composedPath().includes(r);const o=n;return o.target!=null&&r.contains(o.target)}const PM=function(n,r){let{open:o,onOpenChange:l,dataRef:s,refs:c,events:f}=n,{enabled:d=!0,keyboardOnly:g=!0}=r===void 0?{}:r;const _=O.useRef(""),b=O.useRef(!1),y=O.useRef();return O.useEffect(()=>{if(!d)return;const S=oh(c.floating.current).defaultView||window;function D(){!o&&qk(c.domReference.current)&&c.domReference.current===xM(oh(c.domReference.current))&&(b.current=!0)}return S.addEventListener("blur",D),()=>{S.removeEventListener("blur",D)}},[c,o,d]),O.useEffect(()=>{if(!d)return;function E(S){(S.type==="referencePress"||S.type==="escapeKey")&&(b.current=!0)}return f.on("dismiss",E),()=>{f.off("dismiss",E)}},[f,d]),O.useEffect(()=>()=>{clearTimeout(y.current)},[]),O.useMemo(()=>d?{reference:{onPointerDown(E){let{pointerType:S}=E;_.current=S,b.current=!!(S&&g)},onMouseLeave(){b.current=!1},onFocus(E){var S;b.current||E.type==="focus"&&((S=s.current.openEvent)==null?void 0:S.type)==="mousedown"&&s.current.openEvent&&BM(s.current.openEvent,c.domReference.current)||(s.current.openEvent=E.nativeEvent,l(!0))},onBlur(E){b.current=!1;const S=E.relatedTarget,D=th(S)&&S.hasAttribute("data-floating-ui-focus-guard");y.current=setTimeout(()=>{Lp(c.floating.current,S)||Lp(c.domReference.current,S)||D||l(!1)})}}}:{},[d,g,c,s,l])},FM=function(n,r){let{open:o}=n,{enabled:l=!0,role:s="dialog"}=r===void 0?{}:r;const c=qC(),f=qC();return O.useMemo(()=>{const d={id:c,role:s};return l?s==="tooltip"?{reference:{"aria-describedby":o?c:void 0},floating:d}:{reference:{"aria-expanded":o?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":o?c:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:f}},floating:{...d,...s==="menu"&&{"aria-labelledby":f}}}:{}},[l,s,o,c,f])};function GM(n){let{open:r=!1,onOpenChange:o,whileElementsMounted:l,placement:s,middleware:c,strategy:f,nodeId:d}=n===void 0?{}:n;const[g,_]=O.useState(null),b=ix(),y=O.useRef(null),E=O.useRef({}),S=O.useState(()=>$M())[0],D=mM({open:r,placement:s,middleware:c,strategy:f,whileElementsMounted:l}),L=LM(o),N=O.useMemo(()=>({...D.refs,domReference:y}),[D.refs]),w=O.useMemo(()=>({...D,refs:N,dataRef:E,nodeId:d,events:S,open:r,onOpenChange:L,_:{domReference:g}}),[D,d,S,r,L,N,g]);ny(()=>{const W=b==null?void 0:b.nodesRef.current.find(j=>j.id===d);W&&(W.context=w)});const{reference:k}=D,I=O.useCallback(W=>{(th(W)||W===null)&&(N.domReference.current=W,_(W)),(th(N.reference.current)||N.reference.current===null||W!==null&&!th(W))&&k(W)},[k,N]),P=O.useCallback(W=>{const j=th(W)?{getBoundingClientRect:()=>W.getBoundingClientRect(),contextElement:W}:W;k(j)},[k]);return O.useMemo(()=>({...D,context:w,refs:N,reference:I,positionReference:P}),[D,N,w,I,P])}function pE(n,r,o){const l=new Map;return{...o==="floating"&&{tabIndex:-1},...n,...r.map(s=>s?s[o]:null).concat(n).reduce((s,c)=>(c&&Object.entries(c).forEach(f=>{let[d,g]=f;if(d.indexOf("on")===0){if(l.has(d)||l.set(d,[]),typeof g=="function"){var _;(_=l.get(d))==null||_.push(g),s[d]=function(){for(var b,y=arguments.length,E=new Array(y),S=0;S<y;S++)E[S]=arguments[S];(b=l.get(d))==null||b.forEach(D=>D(...E))}}}else s[d]=g}),s),{})}}const UM=function(n){n===void 0&&(n=[]);const r=n,o=O.useCallback(c=>pE(c,n,"reference"),r),l=O.useCallback(c=>pE(c,n,"floating"),r),s=O.useCallback(c=>pE(c,n,"item"),r);return O.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:s}),[o,l,s])},HM=({arrowRef:n,placement:r})=>{const o=[];return o.push(aM(8)),o.push(r==="auto"?sM():lM()),o.push(cM({padding:8})),n.current&&o.push(gM({element:n.current})),o},VM=({placement:n})=>n==="auto"?void 0:n,WM=({placement:n})=>({top:"bottom",right:"left",bottom:"top",left:"right"})[n.split("-")[0]],sx=({children:n,content:r,theme:o,animation:l="duration-300",arrow:s=!0,placement:c="top",style:f="dark",trigger:d="hover",closeRequestKey:g,className:_,...b})=>{const y=O.useRef(null),[E,S]=O.useState(!1),D=GM({middleware:HM({arrowRef:y,placement:c}),onOpenChange:S,open:E,placement:VM({placement:c})}),{context:L,floating:N,middlewareData:{arrow:{x:w,y:k}={}},reference:I,refs:P,strategy:W,update:j,x:H,y:K}=D,{getFloatingProps:$e,getReferenceProps:re}=UM([MM(L,{enabled:d==="click"}),PM(L),RM(L,{enabled:d==="hover",handleClose:IM()}),FM(L,{role:"tooltip"})]);return O.useEffect(()=>{if(P.reference.current&&P.floating.current&&E)return ox(P.reference.current,P.floating.current,j)},[E,P.floating,P.reference,j]),O.useEffect(()=>{g!==void 0&&S(!1)},[g]),de(Pn,{children:[R("div",{className:o.target,...re({ref:I}),"data-testid":"flowbite-tooltip-target",children:n}),de("div",{"data-testid":"flowbite-tooltip",...$e({className:fe(o.base,l&&`${o.animation} ${l}`,!E&&o.hidden,o.style[f],_),ref:N,style:{position:W,top:K??" ",left:H??" "},...b}),children:[R("div",{className:o.content,children:r}),s&&R("div",{className:fe(o.arrow.base,{[o.arrow.style.dark]:f==="dark",[o.arrow.style.light]:f==="light",[o.arrow.style.auto]:f==="auto"}),"data-testid":"flowbite-tooltip-arrow",ref:y,style:{top:k??" ",left:w??" ",right:" ",bottom:" ",[WM({placement:D.placement})]:o.arrow.placement},children:" "})]})]})},Zk=()=>{const n=Re().theme.dropdown.floating.divider;return R("div",{className:n})},lx=({children:n,className:r,...o})=>{const l=Re().theme.dropdown.floating.header;return de(Pn,{children:[R("div",{className:fe(l,r),...o,children:n}),R(Zk,{})]})},Qk=({children:n,className:r,onClick:o,icon:l})=>{const s=Re().theme.dropdown.floating.item;return de("li",{className:fe(s.base,r),onClick:o,children:[l&&R(l,{className:s.icon}),n]})},zM={top:HL,right:DR,bottom:AR,left:UL},ax=({children:n,className:r,dismissOnClick:o=!0,...l})=>{const s=Re().theme.dropdown,c=l,{placement:f=l.inline?"bottom-start":"bottom",trigger:d="click",label:g,inline:_,floatingArrow:b=!1,arrowIcon:y=!0,...E}=c,S=O.useMemo(()=>{const[I]=f.split("-");return zM[I]??AR},[f]),[D,L]=O.useState(void 0),N=I=>To.isValidElement(I)?I.type===Qk?To.cloneElement(I,{onClick:()=>{var P,W;(W=(P=I.props).onClick)==null||W.call(P),o&&L(QL())}}):I.props.children&&typeof I.props.children=="object"?To.cloneElement(I,{children:O.Children.map(I.props.children,N)}):I:I,w=O.useMemo(()=>R("ul",{className:s.content,children:O.Children.map(n,N)}),[n,s]),k=({children:I})=>_?R("button",{className:s.inlineWrapper,children:I}):R(Jo,{...E,children:I});return R(sx,{content:w,style:"auto",animation:"duration-100",placement:f,arrow:b,trigger:d,theme:s.floating,closeRequestKey:D,className:r,children:de(k,{children:[g,y&&R(S,{className:s.arrowIcon})]})})};ax.displayName="Dropdown";Qk.displayName="Dropdown.Item";lx.displayName="Dropdown.Header";Zk.displayName="Dropdown.Divider";Object.assign(ax,{Item:Qk,Header:lx,Divider:Zk});const ry=({value:n,children:r,color:o="default",className:l,...s})=>{const c=Re().theme.helperText;return R("p",{className:fe(c.base,c.colors[o],l),...s,children:n??r??""})},jM=O.forwardRef(({theme:n={},sizing:r="md",helperText:o,color:l="gray",className:s,...c},f)=>{const d=Cn(Re().theme.fileInput,n);return de(Pn,{children:[R("div",{className:fe(d.base,s),children:R("div",{className:d.field.base,children:R("input",{className:fe(d.field.input.base,d.field.input.colors[l],d.field.input.sizes[r]),...c,type:"file",ref:f})})}),o&&R(ry,{color:l,children:o})]})});jM.displayName="FileInput";const ux=({alt:n,className:r,children:o,href:l,name:s,src:c})=>{const f=Re().theme.footer.brand;return R("div",{children:l?de("a",{"data-testid":"flowbite-footer-brand",href:l,className:fe(f.base,r),children:[R("img",{alt:n,src:c,className:f.img}),R("span",{"data-testid":"flowbite-footer-brand-span",className:f.span,children:s}),o]}):R("img",{alt:n,"data-testid":"flowbite-footer-brand",src:c,className:f.img})})},cx=({href:n,by:r,year:o,className:l})=>{const s=Re().theme.footer.copyright;return R("div",{children:de("span",{className:fe(s.base,l),"data-testid":"flowbite-footer-copyright",children:["© ",o,n?R("a",{href:n,className:s.href,children:r}):R("span",{"data-testid":"flowbite-footer-copyright-span",className:s.span,children:r})]})})},hx=({className:n})=>{const r=Re().theme.footer.divider;return R("hr",{"data-testid":"footer-divider",className:fe(r.base,n)})},dx=({href:n,className:r,ariaLabel:o,icon:l})=>{const s=Re().theme.footer.icon;return R("div",{children:n?R("a",{"aria-label":o,"data-testid":"flowbite-footer-icon",href:n,className:fe(s.base,r),children:R(l,{className:s.size})}):R(l,{"data-testid":"flowbite-footer-icon",className:s.size})})},px=({children:n,className:r,href:o})=>{const l=Re().theme.footer.groupLink.link;return R("li",{className:fe(l.base,r),children:R("a",{href:o,className:l.href,children:n})})},fx=({children:n,className:r,col:o=!1})=>{const l=Re().theme.footer.groupLink;return R("ul",{"data-testid":"footer-groupLink",className:fe(l.base,o&&l.col,r),children:n})},gx=({title:n,className:r})=>{const o=Re().theme.footer.title;return R("h2",{"data-testid":"flowbite-footer-title",className:fe(o.base,r),children:n})},mx=({children:n,className:r,bgDark:o=!1,container:l=!1})=>{const s=Re().theme.footer;return R("footer",{"data-testid":"flowbite-footer",className:fe(s.base,o&&s.bgDark,l&&s.container,r),children:n})};mx.displayName="Footer";cx.displayName="Footer.Copyright";px.displayName="Footer.Link";ux.displayName="Footer.Brand";fx.displayName="Footer.LinkGroup";dx.displayName="Footer.Icon";gx.displayName="Footer.Title";hx.displayName="Footer.Divider";Object.assign(mx,{Copyright:cx,Link:px,LinkGroup:fx,Brand:ux,Icon:dx,Title:gx,Divider:hx});const fE=({children:n,color:r="default",disabled:o=!1,value:l,className:s,...c})=>{const f=Re().theme.label;return R("label",{className:fe(f.base,f.colors[r],o??f.disabled,s),...c,children:l??n??""})},_x=({active:n,children:r,href:o,icon:l,onClick:s,className:c,...f})=>{const d=typeof o<"u",g=d?"a":"button",_=Re().theme.listGroup.item,b=f;return R("li",{children:de(g,{className:fe(_.active[n?"on":"off"],_.base,_.href[d?"on":"off"]),href:o,onClick:s,type:d?void 0:"button",...b,children:[l&&R(l,{"aria-hidden":!0,className:_.icon,"data-testid":"flowbite-list-group-item-icon"}),r]})})},vx=({children:n,className:r,...o})=>{const l=Re().theme.listGroup.base,s=o;return R("ul",{className:fe(l,r),...s,children:n})};vx.displayName="ListGroup";_x.displayName="ListGroup.Item";Object.assign(vx,{Item:_x});const XM=(n,r)=>{const o=l=>{l.key===n&&r()};O.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[n,r])},bx=O.createContext(void 0);function eT(){const n=O.useContext(bx);if(!n)throw new Error("useModalContext should be used within the ModalContext provider!");return n}const $x=({children:n,className:r,...o})=>{const{popup:l}=eT(),s=Re().theme.modal.body;return R("div",{className:fe(s.base,{[s.popup]:l},r),...o,children:n})},yx=({children:n,className:r,...o})=>{const{popup:l}=eT(),s=Re().theme.modal.footer;return R("div",{className:fe(s.base,{[s.popup]:!l},r),...o,children:n})},Ex=({children:n,className:r,...o})=>{const{popup:l,onClose:s}=eT(),c=Re().theme.modal.header;return de("div",{className:fe(c.base,{[c.popup]:l},r),...o,children:[R("h3",{className:c.title,children:n}),R("button",{"aria-label":"Close",className:c.close.base,type:"button",onClick:s,children:R(VL,{"aria-hidden":!0,className:c.close.icon})})]})},wx=({children:n,show:r,root:o=document.body,popup:l,size:s="2xl",position:c="center",dismissible:f=!1,onClose:d,className:g,..._})=>{const b=Re().theme.modal,y=O.useRef(null);y.current||(y.current=document.createElement("div")),y.current.parentNode!==o&&o.appendChild(y.current),O.useEffect(()=>()=>{var D;const S=y.current;S&&((D=S.parentNode)==null||D.removeChild(S),y.current=null)},[]),XM("Escape",()=>{f&&d&&d()});const E=S=>{f&&S.target===S.currentTarget&&d&&d()};return Q$.createPortal(R(bx.Provider,{value:{popup:l,onClose:d},children:R("div",{"aria-hidden":!r,className:fe(b.base,b.positions[c],r?b.show.on:b.show.off,g),"data-testid":"modal",role:"dialog",onClick:E,..._,children:R("div",{className:fe(b.content.base,b.sizes[s]),children:R("div",{className:b.content.inner,children:n})})})}),y.current)};wx.displayName="Modal";Ex.displayName="Modal.Header";$x.displayName="Modal.Body";yx.displayName="Modal.Footer";const Yl=Object.assign(wx,{Header:Ex,Body:$x,Footer:yx}),kx=({theme:n={},children:r,className:o,as:l="a",...s})=>{const c=Cn(Re().theme.navbar.brand,n);return R(l,{className:fe(c.base,o),...s,children:r})},Tx=O.createContext(void 0);function Cx(){const n=O.useContext(Tx);if(!n)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return n}const Sx=({theme:n={},children:r,className:o,...l})=>{const{isOpen:s}=Cx(),c=Cn(Re().theme.navbar.collapse,n);return R("div",{className:fe(c.base,c.hidden[s?"off":"on"],o),"data-testid":"flowbite-navbar-collapse",...l,children:R("ul",{className:c.list,children:r})})},Ix=({active:n,disabled:r,theme:o={},children:l,className:s,as:c="a",...f})=>{const d=Cn(Re().theme.navbar.link,o);return R("li",{children:R(c,{className:fe(d.base,{[d.active.on]:n,[d.active.off]:!n&&!r},d.disabled[r?"on":"off"],s),...f,children:l})})};function YM(n){return ta({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"}}]})(n)}const Rx=({barIcon:n=YM,theme:r={},className:o,...l})=>{const{isOpen:s,setIsOpen:c}=Cx(),f=()=>{c(!s)},d=Cn(Re().theme.navbar.toggle,r);return de("button",{className:fe(d.base,o),"data-testid":"flowbite-navbar-toggle",onClick:f,...l,children:[R("span",{className:"sr-only",children:"Open main menu"}),R(n,{className:d.icon})]})},xx=({children:n,menuOpen:r,fluid:o=!1,rounded:l,border:s,className:c,theme:f={},...d})=>{const[g,_]=O.useState(r),b=Cn(Re().theme.navbar.root,f);return R(Tx.Provider,{value:{isOpen:g,setIsOpen:_},children:R("nav",{className:fe(b.base,b.bordered[s?"on":"off"],b.rounded[l?"on":"off"],c),...d,children:R("div",{className:fe(b.inner.base,b.inner.fluid[o?"on":"off"]),children:n})})})};xx.displayName="Navbar";kx.displayName="Navbar.Brand";Sx.displayName="Navbar.Collapse";Ix.displayName="Navbar.Link";Rx.displayName="Navbar.Toggle";Object.assign(xx,{Brand:kx,Collapse:Sx,Link:Ix,Toggle:Rx});const KM=O.forwardRef(({theme:n={},className:r,...o},l)=>{const s=Cn(Re().theme.radio,n);return R("input",{ref:l,className:fe(s.root.base,r),type:"radio",...o})});KM.displayName="Radio";const JM=O.forwardRef(({theme:n={},sizing:r="md",className:o,...l},s)=>{const c=Cn(Re().theme.rangeSlider,n);return R(Pn,{children:R("div",{"data-testid":"flowbite-range-slider",className:fe(c.base,o),children:R("div",{className:c.field.base,children:R("input",{className:fe(c.field.input.base,c.field.input.sizes[r]),...l,type:"range",ref:s})})})})});JM.displayName="RangeSlider";const Ax=({percentFilled:n=0,children:r,className:o,...l})=>{const s=Re().theme.rating.advanced;return de("div",{className:fe(s.base,o),...l,children:[R("span",{className:s.label,children:r}),R("div",{className:s.progress.base,children:R("div",{className:s.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:`${n}%`}})}),R("span",{className:s.progress.label,children:`${n}%`})]})},Dx=O.createContext(void 0);function qM(){const n=O.useContext(Dx);if(!n)throw new Error("useRatingContext should be used within the RatingContext provider!");return n}const Ox=({filled:n=!0,starIcon:r=GL,className:o})=>{const{size:l="sm"}=qM(),s=Re().theme.rating.star;return R(r,{className:fe(s.sizes[l],s[n?"filled":"empty"],o),"data-testid":"flowbite-rating-star"})},Nx=({children:n,size:r="sm",className:o,...l})=>{const s=Re().theme.rating;return R(Dx.Provider,{value:{size:r},children:R("div",{className:fe(s.base,o),...l,children:n})})};Nx.displayName="Rating";Ox.displayName="Rating.Star";Ax.displayName="Rating.Advanced";Object.assign(Nx,{Star:Ox,Advanced:Ax});const ZM=O.forwardRef(({children:n,sizing:r="md",shadow:o,helperText:l,addon:s,icon:c,color:f="gray",className:d,...g},_)=>{const b=Re().theme.select;return de("div",{className:fe(b.base,d),children:[s&&R("span",{className:b.addon,children:s}),de("div",{className:b.field.base,children:[c&&R("div",{className:b.field.icon.base,children:R(c,{className:b.field.icon.svg})}),R("select",{className:fe(b.field.select.base,b.field.select.colors[f],b.field.select.withIcon[c?"on":"off"],b.field.select.withAddon[s?"on":"off"],b.field.select.withShadow[o?"on":"off"],b.field.select.sizes[r]),...g,ref:_,children:n}),l&&R(ry,{color:f,children:l})]})]})});ZM.displayName="Select";const tT=({animation:n="duration-300",arrow:r=!0,children:o,content:l,placement:s="top",style:c="dark",trigger:f="hover",className:d,...g})=>{const _=Re().theme.tooltip;return R(sx,{content:l,style:c,animation:n,placement:s,arrow:r,trigger:f,theme:_,className:d,...g,children:o})},Lx=O.createContext(void 0);function oy(){const n=O.useContext(Lx);if(!n)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return n}const nT=O.createContext(void 0);function QM(){const n=O.useContext(nT);if(!n)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return n}const Mx=({children:n,icon:r,label:o,className:l,open:s=!1,...c})=>{const f=O.useId(),{isCollapsed:d}=oy(),[g,_]=O.useState(s),b=Re().theme.sidebar.collapse;return O.useEffect(()=>_(s),[s]),de(({children:E})=>R("li",{children:d&&!g?R(tT,{content:o,placement:"right",children:E}):E}),{children:[de("button",{className:fe(b.button,l),id:`flowbite-sidebar-collapse-${f}`,onClick:()=>_(!g),title:o,type:"button",...c,children:[r&&R(r,{"aria-hidden":!0,className:fe(b.icon.base,b.icon.open[g?"on":"off"]),"data-testid":"flowbite-sidebar-collapse-icon"}),d?R("span",{className:"sr-only",children:o}):de(Pn,{children:[R("span",{className:b.label.base,"data-testid":"flowbite-sidebar-collapse-label",children:o}),R(RR,{"aria-hidden":!0,className:b.label.icon})]})]}),R("ul",{"aria-labelledby":`flowbite-sidebar-collapse-${f}`,className:b.list,hidden:!g,children:R(nT.Provider,{value:{isInsideCollapse:!0},children:n})})]})};Mx.displayName="Sidebar.Collapse";const Bx=({children:n,color:r="info",className:o,...l})=>{const{isCollapsed:s}=oy(),c=Re().theme.sidebar.cta;return R("div",{className:fe(c.base,c.color[r],o),"data-testid":"sidebar-cta",hidden:s,...l,children:n})};Bx.displayName="Sidebar.CTA";const eB=({id:n,isCollapsed:r,tooltipChildren:o,children:l})=>R("li",{children:r?R(tT,{content:R(tB,{id:n,children:o}),placement:"right",children:l}):l}),tB=({id:n,children:r})=>R(Px,{id:n,children:r}),Px=({id:n,children:r})=>{const o=Re().theme.sidebar.item;return R("span",{className:fe(o.content.base),"data-testid":"flowbite-sidebar-item-content",id:`flowbite-sidebar-item-${n}`,children:r})},Fx=O.forwardRef(({as:n="a",children:r,icon:o,active:l,label:s,labelColor:c="info",className:f,...d},g)=>{const _=O.useId(),{isCollapsed:b}=oy(),{isInsideCollapse:y}=QM(),E=Re().theme.sidebar.item;return R(eB,{id:_,isCollapsed:b,tooltipChildren:r,children:de(n,{"aria-labelledby":`flowbite-sidebar-item-${_}`,className:fe(E.base,l&&E.active,!b&&y&&E.collapsed.insideCollapse,f),ref:g,...d,children:[o&&R(o,{"aria-hidden":!0,className:fe(E.icon.base,l&&E.icon.active),"data-testid":"flowbite-sidebar-item-icon"}),b&&!o&&R("span",{className:E.collapsed.noIcon,children:r.charAt(0).toLocaleUpperCase()??"?"}),!b&&R(Px,{id:_,children:r}),!b&&s&&R(XL,{color:c,"data-testid":"flowbite-sidebar-label",hidden:b,className:E.label,children:s})]})})});Fx.displayName="Sidebar.Item";const Gx=({children:n,className:r,...o})=>{const l=Re().theme.sidebar.itemGroup;return R("ul",{className:fe(l,r),"data-testid":"flowbite-sidebar-item-group",...o,children:R(nT.Provider,{value:{isInsideCollapse:!1},children:n})})};Gx.displayName="Sidebar.ItemGroup";const Ux=({children:n,className:r,...o})=>{const l=Re().theme.sidebar.items;return R("div",{className:fe(l,r),"data-testid":"flowbite-sidebar-items",...o,children:n})};Ux.displayName="Sidebar.Items";const Hx=({children:n,href:r,img:o,imgAlt:l="",className:s,...c})=>{const f=O.useId(),{isCollapsed:d}=oy(),g=Re().theme.sidebar.logo;return de("a",{"aria-labelledby":`flowbite-sidebar-logo-${f}`,className:fe(g.base,s),href:r,...c,children:[R("img",{alt:l,className:g.img,src:o}),R("span",{className:g.collapsed[d?"on":"off"],id:`flowbite-sidebar-logo-${f}`,children:n})]})};Hx.displayName="Sidebar.Logo";const Vx=({children:n,collapseBehavior:r="collapse",collapsed:o=!1,...l})=>{const s=Re().theme.sidebar;return R(Lx.Provider,{value:{isCollapsed:o},children:R("aside",{"aria-label":"Sidebar",className:fe(s.base,s.collapsed[o?"on":"off"]),hidden:o&&r==="hide",...l,children:R("div",{className:s.inner,children:n})})})};Vx.displayName="Sidebar";Object.assign(Vx,{Collapse:Mx,CTA:Bx,Item:Fx,Items:Ux,ItemGroup:Gx,Logo:Hx});const Wx=({children:n,className:r})=>R("div",{className:r,children:n}),zx=O.forwardRef(({children:n,style:r="default",className:o,onActiveTabChange:l,...s},c)=>{const f=Re().theme.tab,d=O.useId(),g=O.useMemo(()=>O.Children.map(n,({props:k})=>k),[n]),_=O.useRef([]),[b,y]=O.useState(Math.max(0,g.findIndex(k=>k.active))),[E,S]=O.useState(Math.max(0,g.findIndex(k=>k.active))),D=k=>{y(k),l&&l(k)},L=({target:k})=>{D(k),S(k)},N=({event:k,target:I})=>{k.key==="ArrowLeft"&&S(Math.max(0,E-1)),k.key==="ArrowRight"&&S(Math.min(g.length-1,E+1)),k.key==="Enter"&&(D(I),S(I))},w=f.tablist.tabitem.styles[r];return O.useEffect(()=>{var k;(k=_.current[E])==null||k.focus()},[E]),O.useImperativeHandle(c,()=>({setActiveTab:D})),de("div",{className:fe(f.base,o),children:[R("div",{"aria-label":"Tabs",role:"tablist",className:fe(f.tablist.base,f.tablist.styles[r],o),...s,children:g.map((k,I)=>de("button",{type:"button","aria-controls":`${d}-tabpanel-${I}`,"aria-selected":I===b,className:fe(f.tablist.tabitem.base,{...w},{[w.active.on]:I===b,[w.active.off]:I!==b&&!k.disabled}),disabled:k.disabled,id:`${d}-tab-${I}`,onClick:()=>L({target:I}),onKeyDown:P=>N({event:P,target:I}),ref:P=>_.current[I]=P,role:"tab",tabIndex:I===E?0:-1,children:[k.icon&&R(k.icon,{className:f.tablist.tabitem.icon}),k.title]},I))}),R("div",{children:g.map((k,I)=>R("div",{"aria-labelledby":`${d}-tab-${I}`,className:f.tabpanel,hidden:I!==b,id:`${d}-tabpanel-${I}`,role:"tabpanel",tabIndex:0,children:k.children},I))})]})});zx.displayName="Tabs.Group";Wx.displayName="Tabs.Item";const Js={Group:zx,Item:Wx},jx=({children:n,...r})=>R("tbody",{...r,children:n}),Xx=({children:n,className:r,...o})=>{const l=Re().theme.table.cell;return R("td",{className:fe(l.base,r),...o,children:n})},Yx=O.createContext(void 0);function nB(){const n=O.useContext(Yx);if(!n)throw new Error("useTableContext should be used within the TableContext provider!");return n}const Kx=({children:n,className:r,...o})=>{const l=Re().theme.table;return R("thead",{className:fe(l.head.base,r),...o,children:R("tr",{children:n})})},Jx=({children:n,className:r,...o})=>{const l=Re().theme.table.head.cell;return R("th",{className:fe(l.base,r),...o,children:n})},qx=({children:n,className:r,...o})=>{const l=Re().theme.table.row,{striped:s,hoverable:c}=nB();return R("tr",{"data-testid":"table-row-element",className:fe(s&&l.striped,c&&l.hovered,r),...o,children:n})},Zx=({children:n,striped:r,hoverable:o,className:l,...s})=>{const c=Re().theme.table;return R("div",{"data-testid":"table-element",className:fe(c.wrapper),children:R(Yx.Provider,{value:{striped:r,hoverable:o},children:R("table",{className:fe(c.base,l),...s,children:n})})})};Zx.displayName="Table";Kx.displayName="Table.Head";jx.displayName="Table.Body";qx.displayName="Table.Row";Xx.displayName="Table.Cell";Jx.displayName="Table.HeadCell";Object.assign(Zx,{Head:Kx,Body:jx,Row:qx,Cell:Xx,HeadCell:Jx});const Pw=O.forwardRef(({shadow:n,helperText:r,color:o="gray",className:l,...s},c)=>{const f=Re().theme.textarea;return de(Pn,{children:[R("textarea",{ref:c,className:fe(f.base,f.colors[o],f.withShadow[n?"on":"off"],l),...s}),r&&R(ry,{color:o,children:r})]})});Pw.displayName="Textarea";const ih=O.forwardRef(({sizing:n="md",shadow:r,helperText:o,addon:l,icon:s,rightIcon:c,color:f="gray",className:d,theme:g={},..._},b)=>{const y=Cn(Re().theme.textInput,g);return de(Pn,{children:[de("div",{className:fe(y.base,d),children:[l&&R("span",{className:y.addon,children:l}),de("div",{className:y.field.base,children:[s&&R("div",{className:y.field.icon.base,children:R(s,{className:y.field.icon.svg})}),c&&R("div",{"data-testid":"right-icon",className:y.field.rightIcon.base,children:R(c,{className:y.field.rightIcon.svg})}),R("input",{className:fe(y.field.input.base,y.field.input.colors[f],y.field.input.withIcon[s?"on":"off"],y.field.input.withAddon[l?"on":"off"],y.field.input.withShadow[r?"on":"off"],y.field.input.sizes[n]),..._,ref:b})]})]}),o&&R(ry,{color:f,children:o})]})});ih.displayName="TextInput";const Qx=({children:n,className:r,...o})=>{const l=Re().theme.timeline.item.content;return R("p",{className:fe(l.body,r),...o,children:n})},eA=O.createContext(void 0);function rT(){const n=O.useContext(eA);if(!n)throw new Error("useTimelineContext should be used within the TimelineContext providor!");return n}const tA=({children:n,className:r,...o})=>{const l=Re().theme.timeline.item.content,{horizontal:s}=rT();return R("div",{"data-testid":"timeline-content",className:fe(s&&l.base,r),...o,children:n})},nA=({children:n,className:r,...o})=>{const l=Re().theme.timeline.item,{horizontal:s}=rT();return R("li",{"data-testid":"timeline-item",className:fe(s&&l.base.horizontal,!s&&l.base.vertical,r),...o,children:n})},rA=({children:n,className:r,icon:o,...l})=>{const s=Re().theme.timeline.item.point,{horizontal:c}=rT();return de("div",{"data-testid":"timeline-point",className:fe(c&&s.base.horizontal,!c&&s.base.vertical,r),...l,children:[n,o?R("span",{className:fe(s.marker.icon.wrapper),children:R(o,{"aria-hidden":!0,className:fe(s.marker.icon.base)})}):R("div",{className:fe(c&&s.marker.base.horizontal,!c&&s.marker.base.vertical)}),c&&R("div",{className:fe(s.line)})]})},oA=({children:n,className:r,...o})=>{const l=Re().theme.timeline.item.content;return R("time",{className:fe(l.time,r),...o,children:n})},iA=({children:n,className:r,as:o="h3",...l})=>{const s=Re().theme.timeline.item.content;return R(o,{className:fe(s.title,r),...l,children:n})},sA=({children:n,horizontal:r,className:o})=>{const l=Re().theme.timeline;return R(eA.Provider,{value:{horizontal:r},children:R("ol",{"data-testid":"timeline-component",className:fe(r&&l.direction.horizontal,!r&&l.direction.vertical,o),children:n})})};sA.displayName="Timeline";nA.displayName="Timeline.Item";rA.displayName="Timeline.Point";tA.displayName="Timeline.Content";oA.displayName="Timeline.Time";iA.displayName="Timeline.Title";Qx.displayName="Timeline.Body";Object.assign(sA,{Item:nA,Point:rA,Content:tA,Time:oA,Title:iA,Body:Qx});const lA=O.createContext(void 0);function rB(){const n=O.useContext(lA);if(!n)throw new Error("useToastContext should be used within the ToastContext provider!");return n}const aA=({className:n,xIcon:r=xR})=>{const{duration:o,isClosed:l,isRemoved:s,setIsClosed:c,setIsRemoved:f}=rB(),d=Re().theme.toast.toggle;return R("button",{"aria-label":"Close",onClick:()=>{c(!l),setTimeout(()=>f(!s),o)},type:"button",className:fe(d.base,n),children:R(r,{className:d.icon})})},oB={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},uA=({children:n,duration:r=300,className:o,...l})=>{const[s,c]=O.useState(!1),[f,d]=O.useState(!1),g=Re().theme.toast;return R(lA.Provider,{value:{duration:r,isClosed:s,isRemoved:f,setIsClosed:c,setIsRemoved:d},children:R("div",{"data-testid":"flowbite-toast",className:fe(g.base,oB[r],{[g.closed]:s},{[g.removed]:f},o),...l,children:n})})};uA.displayName="Toast";aA.displayName="Toast.Toggle";Object.assign(uA,{Toggle:aA});function fh(n){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fh(n)}function iB(n,r){if(fh(n)!=="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var l=o.call(n,r||"default");if(fh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function cA(n){var r=iB(n,"string");return fh(r)==="symbol"?r:String(r)}function zm(n,r,o){return r=cA(r),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}function n1(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);r&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),o.push.apply(o,l)}return o}function ot(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?n1(Object(o),!0).forEach(function(l){zm(n,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):n1(Object(o)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(o,l))})}return n}function sB(n){if(Array.isArray(n))return n}function lB(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var l,s,c,f,d=[],g=!0,_=!1;try{if(c=(o=o.call(n)).next,r===0){if(Object(o)!==o)return;g=!1}else for(;!(g=(l=c.call(o)).done)&&(d.push(l.value),d.length!==r);g=!0);}catch(b){_=!0,s=b}finally{try{if(!g&&o.return!=null&&(f=o.return(),Object(f)!==f))return}finally{if(_)throw s}}return d}}function Fw(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,l=new Array(r);o<r;o++)l[o]=n[o];return l}function hA(n,r){if(n){if(typeof n=="string")return Fw(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Fw(n,r)}}function aB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kl(n,r){return sB(n)||lB(n,r)||hA(n,r)||aB()}function uB(n,r){if(n==null)return{};var o={},l=Object.keys(n),s,c;for(c=0;c<l.length;c++)s=l[c],!(r.indexOf(s)>=0)&&(o[s]=n[s]);return o}function rf(n,r){if(n==null)return{};var o=uB(n,r),l,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(s=0;s<c.length;s++)l=c[s],!(r.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(n,l)&&(o[l]=n[l])}return o}var cB=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function hB(n){var r=n.defaultInputValue,o=r===void 0?"":r,l=n.defaultMenuIsOpen,s=l===void 0?!1:l,c=n.defaultValue,f=c===void 0?null:c,d=n.inputValue,g=n.menuIsOpen,_=n.onChange,b=n.onInputChange,y=n.onMenuClose,E=n.onMenuOpen,S=n.value,D=rf(n,cB),L=O.useState(d!==void 0?d:o),N=Kl(L,2),w=N[0],k=N[1],I=O.useState(g!==void 0?g:s),P=Kl(I,2),W=P[0],j=P[1],H=O.useState(S!==void 0?S:f),K=Kl(H,2),$e=K[0],re=K[1],pe=O.useCallback(function(z,Y){typeof _=="function"&&_(z,Y),re(z)},[_]),ne=O.useCallback(function(z,Y){var Q;typeof b=="function"&&(Q=b(z,Y)),k(Q!==void 0?Q:z)},[b]),xe=O.useCallback(function(){typeof E=="function"&&E(),j(!0)},[E]),Se=O.useCallback(function(){typeof y=="function"&&y(),j(!1)},[y]),Ie=d!==void 0?d:w,ce=g!==void 0?g:W,qe=S!==void 0?S:$e;return ot(ot({},D),{},{inputValue:Ie,menuIsOpen:ce,onChange:pe,onInputChange:ne,onMenuClose:Se,onMenuOpen:xe,value:qe})}function Je(){return Je=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])}return n},Je.apply(this,arguments)}function dB(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function r1(n,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,cA(l.key),l)}}function pB(n,r,o){return r&&r1(n.prototype,r),o&&r1(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gw(n,r){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,s){return l.__proto__=s,l},Gw(n,r)}function fB(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Gw(n,r)}function R$(n){return R$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},R$(n)}function gB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mB(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _B(n,r){if(r&&(fh(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mB(n)}function vB(n){var r=gB();return function(){var l=R$(n),s;if(r){var c=R$(this).constructor;s=Reflect.construct(l,arguments,c)}else s=l.apply(this,arguments);return _B(this,s)}}function bB(n){if(Array.isArray(n))return Fw(n)}function $B(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dA(n){return bB(n)||$B(n)||hA(n)||yB()}function EB(n){if(n.sheet)return n.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===n)return document.styleSheets[r]}function wB(n){var r=document.createElement("style");return r.setAttribute("data-emotion",n.key),n.nonce!==void 0&&r.setAttribute("nonce",n.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var kB=function(){function n(o){var l=this;this._insertTag=function(s){var c;l.tags.length===0?l.insertionPoint?c=l.insertionPoint.nextSibling:l.prepend?c=l.container.firstChild:c=l.before:c=l.tags[l.tags.length-1].nextSibling,l.container.insertBefore(s,c),l.tags.push(s)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var r=n.prototype;return r.hydrate=function(l){l.forEach(this._insertTag)},r.insert=function(l){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wB(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var c=EB(s);try{c.insertRule(l,c.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(l));this.ctr++},r.flush=function(){this.tags.forEach(function(l){return l.parentNode&&l.parentNode.removeChild(l)}),this.tags=[],this.ctr=0},n}(),Wr="-ms-",x$="-moz-",At="-webkit-",pA="comm",oT="rule",iT="decl",TB="@import",fA="@keyframes",CB="@layer",SB=Math.abs,iy=String.fromCharCode,IB=Object.assign;function RB(n,r){return vr(n,0)^45?(((r<<2^vr(n,0))<<2^vr(n,1))<<2^vr(n,2))<<2^vr(n,3):0}function gA(n){return n.trim()}function xB(n,r){return(n=r.exec(n))?n[0]:n}function Dt(n,r,o){return n.replace(r,o)}function Uw(n,r){return n.indexOf(r)}function vr(n,r){return n.charCodeAt(r)|0}function E_(n,r,o){return n.slice(r,o)}function qs(n){return n.length}function sT(n){return n.length}function Ib(n,r){return r.push(n),n}function AB(n,r){return n.map(r).join("")}var sy=1,Zp=1,mA=0,Ro=0,Mn=0,of="";function ly(n,r,o,l,s,c,f){return{value:n,root:r,parent:o,type:l,props:s,children:c,line:sy,column:Zp,length:f,return:""}}function Fm(n,r){return IB(ly("",null,null,"",null,null,0),n,{length:-n.length},r)}function DB(){return Mn}function OB(){return Mn=Ro>0?vr(of,--Ro):0,Zp--,Mn===10&&(Zp=1,sy--),Mn}function qo(){return Mn=Ro<mA?vr(of,Ro++):0,Zp++,Mn===10&&(Zp=1,sy++),Mn}function rl(){return vr(of,Ro)}function Yb(){return Ro}function D_(n,r){return E_(of,n,r)}function w_(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _A(n){return sy=Zp=1,mA=qs(of=n),Ro=0,[]}function vA(n){return of="",n}function Kb(n){return gA(D_(Ro-1,Hw(n===91?n+2:n===40?n+1:n)))}function NB(n){for(;(Mn=rl())&&Mn<33;)qo();return w_(n)>2||w_(Mn)>3?"":" "}function LB(n,r){for(;--r&&qo()&&!(Mn<48||Mn>102||Mn>57&&Mn<65||Mn>70&&Mn<97););return D_(n,Yb()+(r<6&&rl()==32&&qo()==32))}function Hw(n){for(;qo();)switch(Mn){case n:return Ro;case 34:case 39:n!==34&&n!==39&&Hw(Mn);break;case 40:n===41&&Hw(n);break;case 92:qo();break}return Ro}function MB(n,r){for(;qo()&&n+Mn!==47+10;)if(n+Mn===42+42&&rl()===47)break;return"/*"+D_(r,Ro-1)+"*"+iy(n===47?n:qo())}function BB(n){for(;!w_(rl());)qo();return D_(n,Ro)}function PB(n){return vA(Jb("",null,null,null,[""],n=_A(n),0,[0],n))}function Jb(n,r,o,l,s,c,f,d,g){for(var _=0,b=0,y=f,E=0,S=0,D=0,L=1,N=1,w=1,k=0,I="",P=s,W=c,j=l,H=I;N;)switch(D=k,k=qo()){case 40:if(D!=108&&vr(H,y-1)==58){Uw(H+=Dt(Kb(k),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:H+=Kb(k);break;case 9:case 10:case 13:case 32:H+=NB(D);break;case 92:H+=LB(Yb()-1,7);continue;case 47:switch(rl()){case 42:case 47:Ib(FB(MB(qo(),Yb()),r,o),g);break;default:H+="/"}break;case 123*L:d[_++]=qs(H)*w;case 125*L:case 59:case 0:switch(k){case 0:case 125:N=0;case 59+b:w==-1&&(H=Dt(H,/\f/g,"")),S>0&&qs(H)-y&&Ib(S>32?i1(H+";",l,o,y-1):i1(Dt(H," ","")+";",l,o,y-2),g);break;case 59:H+=";";default:if(Ib(j=o1(H,r,o,_,b,s,d,I,P=[],W=[],y),c),k===123)if(b===0)Jb(H,r,j,j,P,c,y,d,W);else switch(E===99&&vr(H,3)===110?100:E){case 100:case 108:case 109:case 115:Jb(n,j,j,l&&Ib(o1(n,j,j,0,0,s,d,I,s,P=[],y),W),s,W,y,d,l?P:W);break;default:Jb(H,j,j,j,[""],W,0,d,W)}}_=b=S=0,L=w=1,I=H="",y=f;break;case 58:y=1+qs(H),S=D;default:if(L<1){if(k==123)--L;else if(k==125&&L++==0&&OB()==125)continue}switch(H+=iy(k),k*L){case 38:w=b>0?1:(H+="\f",-1);break;case 44:d[_++]=(qs(H)-1)*w,w=1;break;case 64:rl()===45&&(H+=Kb(qo())),E=rl(),b=y=qs(I=H+=BB(Yb())),k++;break;case 45:D===45&&qs(H)==2&&(L=0)}}return c}function o1(n,r,o,l,s,c,f,d,g,_,b){for(var y=s-1,E=s===0?c:[""],S=sT(E),D=0,L=0,N=0;D<l;++D)for(var w=0,k=E_(n,y+1,y=SB(L=f[D])),I=n;w<S;++w)(I=gA(L>0?E[w]+" "+k:Dt(k,/&\f/g,E[w])))&&(g[N++]=I);return ly(n,r,o,s===0?oT:d,g,_,b)}function FB(n,r,o){return ly(n,r,o,pA,iy(DB()),E_(n,2,-2),0)}function i1(n,r,o,l){return ly(n,r,o,iT,E_(n,0,l),E_(n,l+1,-1),l)}function Vp(n,r){for(var o="",l=sT(n),s=0;s<l;s++)o+=r(n[s],s,n,r)||"";return o}function GB(n,r,o,l){switch(n.type){case CB:if(n.children.length)break;case TB:case iT:return n.return=n.return||n.value;case pA:return"";case fA:return n.return=n.value+"{"+Vp(n.children,l)+"}";case oT:n.value=n.props.join(",")}return qs(o=Vp(n.children,l))?n.return=n.value+"{"+o+"}":""}function UB(n){var r=sT(n);return function(o,l,s,c){for(var f="",d=0;d<r;d++)f+=n[d](o,l,s,c)||"";return f}}function HB(n){return function(r){r.root||(r=r.return)&&n(r)}}function VB(n){var r=Object.create(null);return function(o){return r[o]===void 0&&(r[o]=n(o)),r[o]}}var WB=function(r,o,l){for(var s=0,c=0;s=c,c=rl(),s===38&&c===12&&(o[l]=1),!w_(c);)qo();return D_(r,Ro)},zB=function(r,o){var l=-1,s=44;do switch(w_(s)){case 0:s===38&&rl()===12&&(o[l]=1),r[l]+=WB(Ro-1,o,l);break;case 2:r[l]+=Kb(s);break;case 4:if(s===44){r[++l]=rl()===58?"&\f":"",o[l]=r[l].length;break}default:r[l]+=iy(s)}while(s=qo());return r},jB=function(r,o){return vA(zB(_A(r),o))},s1=new WeakMap,XB=function(r){if(!(r.type!=="rule"||!r.parent||r.length<1)){for(var o=r.value,l=r.parent,s=r.column===l.column&&r.line===l.line;l.type!=="rule";)if(l=l.parent,!l)return;if(!(r.props.length===1&&o.charCodeAt(0)!==58&&!s1.get(l))&&!s){s1.set(r,!0);for(var c=[],f=jB(o,c),d=l.props,g=0,_=0;g<f.length;g++)for(var b=0;b<d.length;b++,_++)r.props[_]=c[g]?f[g].replace(/&\f/g,d[b]):d[b]+" "+f[g]}}},YB=function(r){if(r.type==="decl"){var o=r.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(r.return="",r.value="")}};function bA(n,r){switch(RB(n,r)){case 5103:return At+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return At+n+x$+n+Wr+n+n;case 6828:case 4268:return At+n+Wr+n+n;case 6165:return At+n+Wr+"flex-"+n+n;case 5187:return At+n+Dt(n,/(\w+).+(:[^]+)/,At+"box-$1$2"+Wr+"flex-$1$2")+n;case 5443:return At+n+Wr+"flex-item-"+Dt(n,/flex-|-self/,"")+n;case 4675:return At+n+Wr+"flex-line-pack"+Dt(n,/align-content|flex-|-self/,"")+n;case 5548:return At+n+Wr+Dt(n,"shrink","negative")+n;case 5292:return At+n+Wr+Dt(n,"basis","preferred-size")+n;case 6060:return At+"box-"+Dt(n,"-grow","")+At+n+Wr+Dt(n,"grow","positive")+n;case 4554:return At+Dt(n,/([^-])(transform)/g,"$1"+At+"$2")+n;case 6187:return Dt(Dt(Dt(n,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),n,"")+n;case 5495:case 3959:return Dt(n,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Dt(Dt(n,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+Wr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+n+n;case 4095:case 3583:case 4068:case 2532:return Dt(n,/(.+)-inline(.+)/,At+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qs(n)-1-r>6)switch(vr(n,r+1)){case 109:if(vr(n,r+4)!==45)break;case 102:return Dt(n,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+x$+(vr(n,r+3)==108?"$3":"$2-$3"))+n;case 115:return~Uw(n,"stretch")?bA(Dt(n,"stretch","fill-available"),r)+n:n}break;case 4949:if(vr(n,r+1)!==115)break;case 6444:switch(vr(n,qs(n)-3-(~Uw(n,"!important")&&10))){case 107:return Dt(n,":",":"+At)+n;case 101:return Dt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(vr(n,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+Wr+"$2box$3")+n}break;case 5936:switch(vr(n,r+11)){case 114:return At+n+Wr+Dt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return At+n+Wr+Dt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return At+n+Wr+Dt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return At+n+Wr+n+n}return n}var KB=function(r,o,l,s){if(r.length>-1&&!r.return)switch(r.type){case iT:r.return=bA(r.value,r.length);break;case fA:return Vp([Fm(r,{value:Dt(r.value,"@","@"+At)})],s);case oT:if(r.length)return AB(r.props,function(c){switch(xB(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vp([Fm(r,{props:[Dt(c,/:(read-\w+)/,":"+x$+"$1")]})],s);case"::placeholder":return Vp([Fm(r,{props:[Dt(c,/:(plac\w+)/,":"+At+"input-$1")]}),Fm(r,{props:[Dt(c,/:(plac\w+)/,":"+x$+"$1")]}),Fm(r,{props:[Dt(c,/:(plac\w+)/,Wr+"input-$1")]})],s)}return""})}},JB=[KB],qB=function(r){var o=r.key;if(o==="css"){var l=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(l,function(L){var N=L.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(L),L.setAttribute("data-s",""))})}var s=r.stylisPlugins||JB,c={},f,d=[];f=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(L){for(var N=L.getAttribute("data-emotion").split(" "),w=1;w<N.length;w++)c[N[w]]=!0;d.push(L)});var g,_=[XB,YB];{var b,y=[GB,HB(function(L){b.insert(L)})],E=UB(_.concat(s,y)),S=function(N){return Vp(PB(N),E)};g=function(N,w,k,I){b=k,S(N?N+"{"+w.styles+"}":w.styles),I&&(D.inserted[w.name]=!0)}}var D={key:o,sheet:new kB({key:o,container:f,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:c,registered:{},insert:g};return D.sheet.hydrate(d),D},$A={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nr=typeof Symbol=="function"&&Symbol.for,lT=nr?Symbol.for("react.element"):60103,aT=nr?Symbol.for("react.portal"):60106,ay=nr?Symbol.for("react.fragment"):60107,uy=nr?Symbol.for("react.strict_mode"):60108,cy=nr?Symbol.for("react.profiler"):60114,hy=nr?Symbol.for("react.provider"):60109,dy=nr?Symbol.for("react.context"):60110,uT=nr?Symbol.for("react.async_mode"):60111,py=nr?Symbol.for("react.concurrent_mode"):60111,fy=nr?Symbol.for("react.forward_ref"):60112,gy=nr?Symbol.for("react.suspense"):60113,ZB=nr?Symbol.for("react.suspense_list"):60120,my=nr?Symbol.for("react.memo"):60115,_y=nr?Symbol.for("react.lazy"):60116,QB=nr?Symbol.for("react.block"):60121,eP=nr?Symbol.for("react.fundamental"):60117,tP=nr?Symbol.for("react.responder"):60118,nP=nr?Symbol.for("react.scope"):60119;function ti(n){if(typeof n=="object"&&n!==null){var r=n.$$typeof;switch(r){case lT:switch(n=n.type,n){case uT:case py:case ay:case cy:case uy:case gy:return n;default:switch(n=n&&n.$$typeof,n){case dy:case fy:case _y:case my:case hy:return n;default:return r}}case aT:return r}}}function yA(n){return ti(n)===py}Ft.AsyncMode=uT;Ft.ConcurrentMode=py;Ft.ContextConsumer=dy;Ft.ContextProvider=hy;Ft.Element=lT;Ft.ForwardRef=fy;Ft.Fragment=ay;Ft.Lazy=_y;Ft.Memo=my;Ft.Portal=aT;Ft.Profiler=cy;Ft.StrictMode=uy;Ft.Suspense=gy;Ft.isAsyncMode=function(n){return yA(n)||ti(n)===uT};Ft.isConcurrentMode=yA;Ft.isContextConsumer=function(n){return ti(n)===dy};Ft.isContextProvider=function(n){return ti(n)===hy};Ft.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===lT};Ft.isForwardRef=function(n){return ti(n)===fy};Ft.isFragment=function(n){return ti(n)===ay};Ft.isLazy=function(n){return ti(n)===_y};Ft.isMemo=function(n){return ti(n)===my};Ft.isPortal=function(n){return ti(n)===aT};Ft.isProfiler=function(n){return ti(n)===cy};Ft.isStrictMode=function(n){return ti(n)===uy};Ft.isSuspense=function(n){return ti(n)===gy};Ft.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===ay||n===py||n===cy||n===uy||n===gy||n===ZB||typeof n=="object"&&n!==null&&(n.$$typeof===_y||n.$$typeof===my||n.$$typeof===hy||n.$$typeof===dy||n.$$typeof===fy||n.$$typeof===eP||n.$$typeof===tP||n.$$typeof===nP||n.$$typeof===QB)};Ft.typeOf=ti;$A.exports=Ft;var rP=$A.exports,EA=rP,oP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wA={};wA[EA.ForwardRef]=oP;wA[EA.Memo]=iP;var sP=!0;function lP(n,r,o){var l="";return o.split(" ").forEach(function(s){n[s]!==void 0?r.push(n[s]+";"):l+=s+" "}),l}var kA=function(r,o,l){var s=r.key+"-"+o.name;(l===!1||sP===!1)&&r.registered[s]===void 0&&(r.registered[s]=o.styles)},aP=function(r,o,l){kA(r,o,l);var s=r.key+"-"+o.name;if(r.inserted[o.name]===void 0){var c=o;do r.insert(o===c?"."+s:"",c,r.sheet,!0),c=c.next;while(c!==void 0)}};function uP(n){for(var r=0,o,l=0,s=n.length;s>=4;++l,s-=4)o=n.charCodeAt(l)&255|(n.charCodeAt(++l)&255)<<8|(n.charCodeAt(++l)&255)<<16|(n.charCodeAt(++l)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,r=(o&65535)*1540483477+((o>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(s){case 3:r^=(n.charCodeAt(l+2)&255)<<16;case 2:r^=(n.charCodeAt(l+1)&255)<<8;case 1:r^=n.charCodeAt(l)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var cP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hP=/[A-Z]|^ms/g,dP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TA=function(r){return r.charCodeAt(1)===45},l1=function(r){return r!=null&&typeof r!="boolean"},gE=VB(function(n){return TA(n)?n:n.replace(hP,"-$&").toLowerCase()}),a1=function(r,o){switch(r){case"animation":case"animationName":if(typeof o=="string")return o.replace(dP,function(l,s,c){return Zs={name:s,styles:c,next:Zs},s})}return cP[r]!==1&&!TA(r)&&typeof o=="number"&&o!==0?o+"px":o};function k_(n,r,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return Zs={name:o.name,styles:o.styles,next:Zs},o.name;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)Zs={name:l.name,styles:l.styles,next:Zs},l=l.next;var s=o.styles+";";return s}return pP(n,r,o)}case"function":{if(n!==void 0){var c=Zs,f=o(n);return Zs=c,k_(n,r,f)}break}}if(r==null)return o;var d=r[o];return d!==void 0?d:o}function pP(n,r,o){var l="";if(Array.isArray(o))for(var s=0;s<o.length;s++)l+=k_(n,r,o[s])+";";else for(var c in o){var f=o[c];if(typeof f!="object")r!=null&&r[f]!==void 0?l+=c+"{"+r[f]+"}":l1(f)&&(l+=gE(c)+":"+a1(c,f)+";");else if(Array.isArray(f)&&typeof f[0]=="string"&&(r==null||r[f[0]]===void 0))for(var d=0;d<f.length;d++)l1(f[d])&&(l+=gE(c)+":"+a1(c,f[d])+";");else{var g=k_(n,r,f);switch(c){case"animation":case"animationName":{l+=gE(c)+":"+g+";";break}default:l+=c+"{"+g+"}"}}}return l}var u1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Zs,CA=function(r,o,l){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var s=!0,c="";Zs=void 0;var f=r[0];f==null||f.raw===void 0?(s=!1,c+=k_(l,o,f)):c+=f[0];for(var d=1;d<r.length;d++)c+=k_(l,o,r[d]),s&&(c+=f[d]);u1.lastIndex=0;for(var g="",_;(_=u1.exec(c))!==null;)g+="-"+_[1];var b=uP(c)+g;return{name:b,styles:c,next:Zs}},fP=function(r){return r()},gP=Qb["useInsertionEffect"]?Qb["useInsertionEffect"]:!1,mP=gP||fP,cT={}.hasOwnProperty,SA=O.createContext(typeof HTMLElement<"u"?qB({key:"css"}):null);SA.Provider;var _P=function(r){return O.forwardRef(function(o,l){var s=O.useContext(SA);return r(o,s,l)})},vP=O.createContext({}),Vw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bP=function(r,o){var l={};for(var s in o)cT.call(o,s)&&(l[s]=o[s]);return l[Vw]=r,l},$P=function(r){var o=r.cache,l=r.serialized,s=r.isStringTag;return kA(o,l,s),mP(function(){return aP(o,l,s)}),null},yP=_P(function(n,r,o){var l=n.css;typeof l=="string"&&r.registered[l]!==void 0&&(l=r.registered[l]);var s=n[Vw],c=[l],f="";typeof n.className=="string"?f=lP(r.registered,c,n.className):n.className!=null&&(f=n.className+" ");var d=CA(c,void 0,O.useContext(vP));f+=r.key+"-"+d.name;var g={};for(var _ in n)cT.call(n,_)&&_!=="css"&&_!==Vw&&(g[_]=n[_]);return g.ref=o,g.className=f,O.createElement(O.Fragment,null,O.createElement($P,{cache:r,serialized:d,isStringTag:typeof s=="string"}),O.createElement(s,g))}),EP=yP,Ye=function(r,o){var l=arguments;if(o==null||!cT.call(o,"css"))return O.createElement.apply(void 0,l);var s=l.length,c=new Array(s);c[0]=EP,c[1]=bP(r,o);for(var f=2;f<s;f++)c[f]=l[f];return O.createElement.apply(null,c)};function hT(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CA(r)}var wP=function(){var r=hT.apply(void 0,arguments),o="animation-"+r.name;return{name:o,styles:"@keyframes "+o+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function kP(n,r){return r||(r=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))}var Ww=O.useLayoutEffect,TP=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],A$=function(){};function CP(n,r){return r?r[0]==="-"?n+r:n+"__"+r:n}function SP(n,r){for(var o=arguments.length,l=new Array(o>2?o-2:0),s=2;s<o;s++)l[s-2]=arguments[s];var c=[].concat(l);if(r&&n)for(var f in r)r.hasOwnProperty(f)&&r[f]&&c.push("".concat(CP(n,f)));return c.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var c1=function(r){return MP(r)?r.filter(Boolean):fh(r)==="object"&&r!==null?[r]:[]},IA=function(r){r.className,r.clearValue,r.cx,r.getStyles,r.getClassNames,r.getValue,r.hasValue,r.isMulti,r.isRtl,r.options,r.selectOption,r.selectProps,r.setValue,r.theme;var o=rf(r,TP);return ot({},o)},Tn=function(r,o,l){var s=r.cx,c=r.getStyles,f=r.getClassNames,d=r.className;return{css:c(o,r),className:s(l??{},f(o,r),d)}};function vy(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function IP(n){return vy(n)?window.innerHeight:n.clientHeight}function RA(n){return vy(n)?window.pageYOffset:n.scrollTop}function D$(n,r){if(vy(n)){window.scrollTo(0,r);return}n.scrollTop=r}function RP(n){var r=getComputedStyle(n),o=r.position==="absolute",l=/(auto|scroll)/;if(r.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(r=getComputedStyle(s),!(o&&r.position==="static")&&l.test(r.overflow+r.overflowY+r.overflowX))return s;return document.documentElement}function xP(n,r,o,l){return o*((n=n/l-1)*n*n+1)+r}function Rb(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A$,s=RA(n),c=r-s,f=10,d=0;function g(){d+=f;var _=xP(d,s,c,o);D$(n,_),d<o?window.requestAnimationFrame(g):l(n)}g()}function h1(n,r){var o=n.getBoundingClientRect(),l=r.getBoundingClientRect(),s=r.offsetHeight/3;l.bottom+s>o.bottom?D$(n,Math.min(r.offsetTop+r.clientHeight-n.offsetHeight+s,n.scrollHeight)):l.top-s<o.top&&D$(n,Math.max(r.offsetTop-s,0))}function AP(n){var r=n.getBoundingClientRect();return{bottom:r.bottom,height:r.height,left:r.left,right:r.right,top:r.top,width:r.width}}function d1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function DP(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var xA=!1,OP={get passive(){return xA=!0}},xb=typeof window<"u"?window:{};xb.addEventListener&&xb.removeEventListener&&(xb.addEventListener("p",A$,OP),xb.removeEventListener("p",A$,!1));var NP=xA;function LP(n){return n!=null}function MP(n){return Array.isArray(n)}function Ab(n,r,o){return n?r:o}var BP=function(r){for(var o=arguments.length,l=new Array(o>1?o-1:0),s=1;s<o;s++)l[s-1]=arguments[s];var c=Object.entries(r).filter(function(f){var d=Kl(f,1),g=d[0];return!l.includes(g)});return c.reduce(function(f,d){var g=Kl(d,2),_=g[0],b=g[1];return f[_]=b,f},{})};function PP(n){var r=n.maxHeight,o=n.menuEl,l=n.minHeight,s=n.placement,c=n.shouldScroll,f=n.isFixedPosition,d=n.controlHeight,g=RP(o),_={placement:"bottom",maxHeight:r};if(!o||!o.offsetParent)return _;var b=g.getBoundingClientRect(),y=b.height,E=o.getBoundingClientRect(),S=E.bottom,D=E.height,L=E.top,N=o.offsetParent.getBoundingClientRect(),w=N.top,k=f?window.innerHeight:IP(g),I=RA(g),P=parseInt(getComputedStyle(o).marginBottom,10),W=parseInt(getComputedStyle(o).marginTop,10),j=w-W,H=k-L,K=j+I,$e=y-I-L,re=S-k+I+P,pe=I+L-W,ne=160;switch(s){case"auto":case"bottom":if(H>=D)return{placement:"bottom",maxHeight:r};if($e>=D&&!f)return c&&Rb(g,re,ne),{placement:"bottom",maxHeight:r};if(!f&&$e>=l||f&&H>=l){c&&Rb(g,re,ne);var xe=f?H-P:$e-P;return{placement:"bottom",maxHeight:xe}}if(s==="auto"||f){var Se=r,Ie=f?j:K;return Ie>=l&&(Se=Math.min(Ie-P-d,r)),{placement:"top",maxHeight:Se}}if(s==="bottom")return c&&D$(g,re),{placement:"bottom",maxHeight:r};break;case"top":if(j>=D)return{placement:"top",maxHeight:r};if(K>=D&&!f)return c&&Rb(g,pe,ne),{placement:"top",maxHeight:r};if(!f&&K>=l||f&&j>=l){var ce=r;return(!f&&K>=l||f&&j>=l)&&(ce=f?j-W:K-W),c&&Rb(g,pe,ne),{placement:"top",maxHeight:ce}}return{placement:"bottom",maxHeight:r};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return _}function FP(n){var r={bottom:"top",top:"bottom"};return n?r[n]:"bottom"}var AA=function(r){return r==="auto"?"bottom":r},GP=function(r,o){var l,s=r.placement,c=r.theme,f=c.borderRadius,d=c.spacing,g=c.colors;return ot((l={label:"menu"},zm(l,FP(s),"100%"),zm(l,"position","absolute"),zm(l,"width","100%"),zm(l,"zIndex",1),l),o?{}:{backgroundColor:g.neutral0,borderRadius:f,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},DA=O.createContext(null),UP=function(r){var o=r.children,l=r.minMenuHeight,s=r.maxMenuHeight,c=r.menuPlacement,f=r.menuPosition,d=r.menuShouldScrollIntoView,g=r.theme,_=O.useContext(DA)||{},b=_.setPortalPlacement,y=O.useRef(null),E=O.useState(s),S=Kl(E,2),D=S[0],L=S[1],N=O.useState(null),w=Kl(N,2),k=w[0],I=w[1],P=g.spacing.controlHeight;return Ww(function(){var W=y.current;if(W){var j=f==="fixed",H=d&&!j,K=PP({maxHeight:s,menuEl:W,minHeight:l,placement:c,shouldScroll:H,isFixedPosition:j,controlHeight:P});L(K.maxHeight),I(K.placement),b==null||b(K.placement)}},[s,c,f,d,l,b,P]),o({ref:y,placerProps:ot(ot({},r),{},{placement:k||AA(c),maxHeight:D})})},HP=function(r){var o=r.children,l=r.innerRef,s=r.innerProps;return Ye("div",Je({},Tn(r,"menu",{menu:!0}),{ref:l},s),o)},VP=HP,WP=function(r,o){var l=r.maxHeight,s=r.theme.spacing.baseUnit;return ot({maxHeight:l,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o?{}:{paddingBottom:s,paddingTop:s})},zP=function(r){var o=r.children,l=r.innerProps,s=r.innerRef,c=r.isMulti;return Ye("div",Je({},Tn(r,"menuList",{"menu-list":!0,"menu-list--is-multi":c}),{ref:s},l),o)},OA=function(r,o){var l=r.theme,s=l.spacing.baseUnit,c=l.colors;return ot({textAlign:"center"},o?{}:{color:c.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},jP=OA,XP=OA,NA=function(r){var o=r.children,l=r.innerProps;return Ye("div",Je({},Tn(r,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),l),o)};NA.defaultProps={children:"No options"};var LA=function(r){var o=r.children,l=r.innerProps;return Ye("div",Je({},Tn(r,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),l),o)};LA.defaultProps={children:"Loading..."};var YP=function(r){var o=r.rect,l=r.offset,s=r.position;return{left:o.left,position:s,top:l,width:o.width,zIndex:1}},KP=function(r){var o=r.appendTo,l=r.children,s=r.controlElement,c=r.innerProps,f=r.menuPlacement,d=r.menuPosition,g=O.useRef(null),_=O.useRef(null),b=O.useState(AA(f)),y=Kl(b,2),E=y[0],S=y[1],D=O.useMemo(function(){return{setPortalPlacement:S}},[]),L=O.useState(null),N=Kl(L,2),w=N[0],k=N[1],I=O.useCallback(function(){if(s){var H=AP(s),K=d==="fixed"?0:window.pageYOffset,$e=H[E]+K;($e!==(w==null?void 0:w.offset)||H.left!==(w==null?void 0:w.rect.left)||H.width!==(w==null?void 0:w.rect.width))&&k({offset:$e,rect:H})}},[s,d,E,w==null?void 0:w.offset,w==null?void 0:w.rect.left,w==null?void 0:w.rect.width]);Ww(function(){I()},[I]);var P=O.useCallback(function(){typeof _.current=="function"&&(_.current(),_.current=null),s&&g.current&&(_.current=ox(s,g.current,I,{elementResize:"ResizeObserver"in window}))},[s,I]);Ww(function(){P()},[P]);var W=O.useCallback(function(H){g.current=H,P()},[P]);if(!o&&d!=="fixed"||!w)return null;var j=Ye("div",Je({ref:W},Tn(ot(ot({},r),{},{offset:w.offset,position:d,rect:w.rect}),"menuPortal",{"menu-portal":!0}),c),l);return Ye(DA.Provider,{value:D},o?Q$.createPortal(j,o):j)},JP=function(r){var o=r.isDisabled,l=r.isRtl;return{label:"container",direction:l?"rtl":void 0,pointerEvents:o?"none":void 0,position:"relative"}},qP=function(r){var o=r.children,l=r.innerProps,s=r.isDisabled,c=r.isRtl;return Ye("div",Je({},Tn(r,"container",{"--is-disabled":s,"--is-rtl":c}),l),o)},ZP=function(r,o){var l=r.theme.spacing,s=r.isMulti,c=r.hasValue,f=r.selectProps.controlShouldRenderValue;return ot({alignItems:"center",display:s&&c&&f?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},o?{}:{padding:"".concat(l.baseUnit/2,"px ").concat(l.baseUnit*2,"px")})},QP=function(r){var o=r.children,l=r.innerProps,s=r.isMulti,c=r.hasValue;return Ye("div",Je({},Tn(r,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":c}),l),o)},e2=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},t2=function(r){var o=r.children,l=r.innerProps;return Ye("div",Je({},Tn(r,"indicatorsContainer",{indicators:!0}),l),o)},p1,n2=["size"],r2={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},MA=function(r){var o=r.size,l=rf(r,n2);return Ye("svg",Je({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:r2},l))},dT=function(r){return Ye(MA,Je({size:20},r),Ye("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},BA=function(r){return Ye(MA,Je({size:20},r),Ye("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},PA=function(r,o){var l=r.isFocused,s=r.theme,c=s.spacing.baseUnit,f=s.colors;return ot({label:"indicatorContainer",display:"flex",transition:"color 150ms"},o?{}:{color:l?f.neutral60:f.neutral20,padding:c*2,":hover":{color:l?f.neutral80:f.neutral40}})},o2=PA,i2=function(r){var o=r.children,l=r.innerProps;return Ye("div",Je({},Tn(r,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),l),o||Ye(BA,null))},s2=PA,l2=function(r){var o=r.children,l=r.innerProps;return Ye("div",Je({},Tn(r,"clearIndicator",{indicator:!0,"clear-indicator":!0}),l),o||Ye(dT,null))},a2=function(r,o){var l=r.isDisabled,s=r.theme,c=s.spacing.baseUnit,f=s.colors;return ot({label:"indicatorSeparator",alignSelf:"stretch",width:1},o?{}:{backgroundColor:l?f.neutral10:f.neutral20,marginBottom:c*2,marginTop:c*2})},u2=function(r){var o=r.innerProps;return Ye("span",Je({},o,Tn(r,"indicatorSeparator",{"indicator-separator":!0})))},c2=wP(p1||(p1=kP([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),h2=function(r,o){var l=r.isFocused,s=r.size,c=r.theme,f=c.colors,d=c.spacing.baseUnit;return ot({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},o?{}:{color:l?f.neutral60:f.neutral20,padding:d*2})},mE=function(r){var o=r.delay,l=r.offset;return Ye("span",{css:hT({animation:"".concat(c2," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:l?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},FA=function(r){var o=r.innerProps,l=r.isRtl;return Ye("div",Je({},Tn(r,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),o),Ye(mE,{delay:0,offset:l}),Ye(mE,{delay:160,offset:!0}),Ye(mE,{delay:320,offset:!l}))};FA.defaultProps={size:4};var d2=function(r,o){var l=r.isDisabled,s=r.isFocused,c=r.theme,f=c.colors,d=c.borderRadius,g=c.spacing;return ot({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:g.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},o?{}:{backgroundColor:l?f.neutral5:f.neutral0,borderColor:l?f.neutral10:s?f.primary:f.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(f.primary):void 0,"&:hover":{borderColor:s?f.primary:f.neutral30}})},p2=function(r){var o=r.children,l=r.isDisabled,s=r.isFocused,c=r.innerRef,f=r.innerProps,d=r.menuIsOpen;return Ye("div",Je({ref:c},Tn(r,"control",{control:!0,"control--is-disabled":l,"control--is-focused":s,"control--menu-is-open":d}),f),o)},f2=p2,g2=["data"],m2=function(r,o){var l=r.theme.spacing;return o?{}:{paddingBottom:l.baseUnit*2,paddingTop:l.baseUnit*2}},_2=function(r){var o=r.children,l=r.cx,s=r.getStyles,c=r.getClassNames,f=r.Heading,d=r.headingProps,g=r.innerProps,_=r.label,b=r.theme,y=r.selectProps;return Ye("div",Je({},Tn(r,"group",{group:!0}),g),Ye(f,Je({},d,{selectProps:y,theme:b,getStyles:s,getClassNames:c,cx:l}),_),Ye("div",null,o))},v2=function(r,o){var l=r.theme,s=l.colors,c=l.spacing;return ot({label:"group",cursor:"default",display:"block"},o?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:c.baseUnit*3,paddingRight:c.baseUnit*3,textTransform:"uppercase"})},b2=function(r){var o=IA(r);o.data;var l=rf(o,g2);return Ye("div",Je({},Tn(r,"groupHeading",{"group-heading":!0}),l))},$2=_2,y2=["innerRef","isDisabled","isHidden","inputClassName"],E2=function(r,o){var l=r.isDisabled,s=r.value,c=r.theme,f=c.spacing,d=c.colors;return ot(ot({visibility:l?"hidden":"visible",transform:s?"translateZ(0)":""},w2),o?{}:{margin:f.baseUnit/2,paddingBottom:f.baseUnit/2,paddingTop:f.baseUnit/2,color:d.neutral80})},GA={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},w2={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ot({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},GA)},k2=function(r){return ot({label:"input",color:"inherit",background:0,opacity:r?0:1,width:"100%"},GA)},T2=function(r){var o=r.cx,l=r.value,s=IA(r),c=s.innerRef,f=s.isDisabled,d=s.isHidden,g=s.inputClassName,_=rf(s,y2);return Ye("div",Je({},Tn(r,"input",{"input-container":!0}),{"data-value":l||""}),Ye("input",Je({className:o({input:!0},g),ref:c,style:k2(d),disabled:f},_)))},C2=T2,S2=function(r,o){var l=r.theme,s=l.spacing,c=l.borderRadius,f=l.colors;return ot({label:"multiValue",display:"flex",minWidth:0},o?{}:{backgroundColor:f.neutral10,borderRadius:c/2,margin:s.baseUnit/2})},I2=function(r,o){var l=r.theme,s=l.borderRadius,c=l.colors,f=r.cropWithEllipsis;return ot({overflow:"hidden",textOverflow:f||f===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},o?{}:{borderRadius:s/2,color:c.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},R2=function(r,o){var l=r.theme,s=l.spacing,c=l.borderRadius,f=l.colors,d=r.isFocused;return ot({alignItems:"center",display:"flex"},o?{}:{borderRadius:c/2,backgroundColor:d?f.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:f.dangerLight,color:f.danger}})},UA=function(r){var o=r.children,l=r.innerProps;return Ye("div",l,o)},x2=UA,A2=UA;function D2(n){var r=n.children,o=n.innerProps;return Ye("div",Je({role:"button"},o),r||Ye(dT,{size:14}))}var O2=function(r){var o=r.children,l=r.components,s=r.data,c=r.innerProps,f=r.isDisabled,d=r.removeProps,g=r.selectProps,_=l.Container,b=l.Label,y=l.Remove;return Ye(_,{data:s,innerProps:ot(ot({},Tn(r,"multiValue",{"multi-value":!0,"multi-value--is-disabled":f})),c),selectProps:g},Ye(b,{data:s,innerProps:ot({},Tn(r,"multiValueLabel",{"multi-value__label":!0})),selectProps:g},o),Ye(y,{data:s,innerProps:ot(ot({},Tn(r,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(o||"option")},d),selectProps:g}))},N2=O2,L2=function(r,o){var l=r.isDisabled,s=r.isFocused,c=r.isSelected,f=r.theme,d=f.spacing,g=f.colors;return ot({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},o?{}:{backgroundColor:c?g.primary:s?g.primary25:"transparent",color:l?g.neutral20:c?g.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:l?void 0:c?g.primary:g.primary50}})},M2=function(r){var o=r.children,l=r.isDisabled,s=r.isFocused,c=r.isSelected,f=r.innerRef,d=r.innerProps;return Ye("div",Je({},Tn(r,"option",{option:!0,"option--is-disabled":l,"option--is-focused":s,"option--is-selected":c}),{ref:f,"aria-disabled":l},d),o)},B2=M2,P2=function(r,o){var l=r.theme,s=l.spacing,c=l.colors;return ot({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},o?{}:{color:c.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},F2=function(r){var o=r.children,l=r.innerProps;return Ye("div",Je({},Tn(r,"placeholder",{placeholder:!0}),l),o)},G2=F2,U2=function(r,o){var l=r.isDisabled,s=r.theme,c=s.spacing,f=s.colors;return ot({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o?{}:{color:l?f.neutral40:f.neutral80,marginLeft:c.baseUnit/2,marginRight:c.baseUnit/2})},H2=function(r){var o=r.children,l=r.isDisabled,s=r.innerProps;return Ye("div",Je({},Tn(r,"singleValue",{"single-value":!0,"single-value--is-disabled":l}),s),o)},V2=H2,W2={ClearIndicator:l2,Control:f2,DropdownIndicator:i2,DownChevron:BA,CrossIcon:dT,Group:$2,GroupHeading:b2,IndicatorsContainer:t2,IndicatorSeparator:u2,Input:C2,LoadingIndicator:FA,Menu:VP,MenuList:zP,MenuPortal:KP,LoadingMessage:LA,NoOptionsMessage:NA,MultiValue:N2,MultiValueContainer:x2,MultiValueLabel:A2,MultiValueRemove:D2,Option:B2,Placeholder:G2,SelectContainer:qP,SingleValue:V2,ValueContainer:QP},z2=function(r){return ot(ot({},W2),r.components)},f1=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function j2(n,r){return!!(n===r||f1(n)&&f1(r))}function X2(n,r){if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!j2(n[o],r[o]))return!1;return!0}function Y2(n,r){r===void 0&&(r=X2);var o=null;function l(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];if(o&&o.lastThis===this&&r(s,o.lastArgs))return o.lastResult;var f=n.apply(this,s);return o={lastResult:f,lastArgs:s,lastThis:this},f}return l.clear=function(){o=null},l}var K2={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},J2=function(r){return Ye("span",Je({css:K2},r))},g1=J2,q2={guidance:function(r){var o=r.isSearchable,l=r.isMulti,s=r.isDisabled,c=r.tabSelectsValue,f=r.context;switch(f){case"menu":return"Use Up and Down to choose options".concat(s?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(c?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(r["aria-label"]||"Select"," is focused ").concat(o?",type to refine list":"",", press Down to open the menu, ").concat(l?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(r){var o=r.action,l=r.label,s=l===void 0?"":l,c=r.labels,f=r.isDisabled;switch(o){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(c.length>1?"s":""," ").concat(c.join(","),", selected.");case"select-option":return f?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(r){var o=r.context,l=r.focused,s=r.options,c=r.label,f=c===void 0?"":c,d=r.selectValue,g=r.isDisabled,_=r.isSelected,b=function(D,L){return D&&D.length?"".concat(D.indexOf(L)+1," of ").concat(D.length):""};if(o==="value"&&d)return"value ".concat(f," focused, ").concat(b(d,l),".");if(o==="menu"){var y=g?" disabled":"",E="".concat(_?"selected":"focused").concat(y);return"option ".concat(f," ").concat(E,", ").concat(b(s,l),".")}return""},onFilter:function(r){var o=r.inputValue,l=r.resultsMessage;return"".concat(l).concat(o?" for search term "+o:"",".")}},Z2=function(r){var o=r.ariaSelection,l=r.focusedOption,s=r.focusedValue,c=r.focusableOptions,f=r.isFocused,d=r.selectValue,g=r.selectProps,_=r.id,b=g.ariaLiveMessages,y=g.getOptionLabel,E=g.inputValue,S=g.isMulti,D=g.isOptionDisabled,L=g.isSearchable,N=g.menuIsOpen,w=g.options,k=g.screenReaderStatus,I=g.tabSelectsValue,P=g["aria-label"],W=g["aria-live"],j=O.useMemo(function(){return ot(ot({},q2),b||{})},[b]),H=O.useMemo(function(){var Se="";if(o&&j.onChange){var Ie=o.option,ce=o.options,qe=o.removedValue,z=o.removedValues,Y=o.value,Q=function(Ke){return Array.isArray(Ke)?null:Ke},ee=qe||Ie||Q(Y),Z=ee?y(ee):"",_e=ce||z||void 0,be=_e?_e.map(y):[],se=ot({isDisabled:ee&&D(ee,d),label:Z,labels:be},o);Se=j.onChange(se)}return Se},[o,j,D,d,y]),K=O.useMemo(function(){var Se="",Ie=l||s,ce=!!(l&&d&&d.includes(l));if(Ie&&j.onFocus){var qe={focused:Ie,label:y(Ie),isDisabled:D(Ie,d),isSelected:ce,options:c,context:Ie===l?"menu":"value",selectValue:d};Se=j.onFocus(qe)}return Se},[l,s,y,D,j,c,d]),$e=O.useMemo(function(){var Se="";if(N&&w.length&&j.onFilter){var Ie=k({count:c.length});Se=j.onFilter({inputValue:E,resultsMessage:Ie})}return Se},[c,E,N,j,w,k]),re=O.useMemo(function(){var Se="";if(j.guidance){var Ie=s?"value":N?"menu":"input";Se=j.guidance({"aria-label":P,context:Ie,isDisabled:l&&D(l,d),isMulti:S,isSearchable:L,tabSelectsValue:I})}return Se},[P,l,s,S,D,L,N,j,d,I]),pe="".concat(K," ").concat($e," ").concat(re),ne=Ye(O.Fragment,null,Ye("span",{id:"aria-selection"},H),Ye("span",{id:"aria-context"},pe)),xe=(o==null?void 0:o.action)==="initial-input-focus";return Ye(O.Fragment,null,Ye(g1,{id:_},xe&&ne),Ye(g1,{"aria-live":W,"aria-atomic":"false","aria-relevant":"additions text"},f&&!xe&&ne))},Q2=Z2,zw=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],eF=new RegExp("["+zw.map(function(n){return n.letters}).join("")+"]","g"),HA={};for(var _E=0;_E<zw.length;_E++)for(var vE=zw[_E],bE=0;bE<vE.letters.length;bE++)HA[vE.letters[bE]]=vE.base;var VA=function(r){return r.replace(eF,function(o){return HA[o]})},tF=Y2(VA),m1=function(r){return r.replace(/^\s+|\s+$/g,"")},nF=function(r){return"".concat(r.label," ").concat(r.value)},rF=function(r){return function(o,l){if(o.data.__isNew__)return!0;var s=ot({ignoreCase:!0,ignoreAccents:!0,stringify:nF,trim:!0,matchFrom:"any"},r),c=s.ignoreCase,f=s.ignoreAccents,d=s.stringify,g=s.trim,_=s.matchFrom,b=g?m1(l):l,y=g?m1(d(o)):d(o);return c&&(b=b.toLowerCase(),y=y.toLowerCase()),f&&(b=tF(b),y=VA(y)),_==="start"?y.substr(0,b.length)===b:y.indexOf(b)>-1}},oF=["innerRef"];function iF(n){var r=n.innerRef,o=rf(n,oF),l=BP(o,"onExited","in","enter","exit","appear");return Ye("input",Je({ref:r},l,{css:hT({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var sF=function(r){r.preventDefault(),r.stopPropagation()};function lF(n){var r=n.isEnabled,o=n.onBottomArrive,l=n.onBottomLeave,s=n.onTopArrive,c=n.onTopLeave,f=O.useRef(!1),d=O.useRef(!1),g=O.useRef(0),_=O.useRef(null),b=O.useCallback(function(N,w){if(_.current!==null){var k=_.current,I=k.scrollTop,P=k.scrollHeight,W=k.clientHeight,j=_.current,H=w>0,K=P-W-I,$e=!1;K>w&&f.current&&(l&&l(N),f.current=!1),H&&d.current&&(c&&c(N),d.current=!1),H&&w>K?(o&&!f.current&&o(N),j.scrollTop=P,$e=!0,f.current=!0):!H&&-w>I&&(s&&!d.current&&s(N),j.scrollTop=0,$e=!0,d.current=!0),$e&&sF(N)}},[o,l,s,c]),y=O.useCallback(function(N){b(N,N.deltaY)},[b]),E=O.useCallback(function(N){g.current=N.changedTouches[0].clientY},[]),S=O.useCallback(function(N){var w=g.current-N.changedTouches[0].clientY;b(N,w)},[b]),D=O.useCallback(function(N){if(N){var w=NP?{passive:!1}:!1;N.addEventListener("wheel",y,w),N.addEventListener("touchstart",E,w),N.addEventListener("touchmove",S,w)}},[S,E,y]),L=O.useCallback(function(N){N&&(N.removeEventListener("wheel",y,!1),N.removeEventListener("touchstart",E,!1),N.removeEventListener("touchmove",S,!1))},[S,E,y]);return O.useEffect(function(){if(r){var N=_.current;return D(N),function(){L(N)}}},[r,D,L]),function(N){_.current=N}}var _1=["boxSizing","height","overflow","paddingRight","position"],v1={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function b1(n){n.preventDefault()}function $1(n){n.stopPropagation()}function y1(){var n=this.scrollTop,r=this.scrollHeight,o=n+this.offsetHeight;n===0?this.scrollTop=1:o===r&&(this.scrollTop=n-1)}function E1(){return"ontouchstart"in window||navigator.maxTouchPoints}var w1=!!(typeof window<"u"&&window.document&&window.document.createElement),Gm=0,vp={capture:!1,passive:!1};function aF(n){var r=n.isEnabled,o=n.accountForScrollbars,l=o===void 0?!0:o,s=O.useRef({}),c=O.useRef(null),f=O.useCallback(function(g){if(w1){var _=document.body,b=_&&_.style;if(l&&_1.forEach(function(D){var L=b&&b[D];s.current[D]=L}),l&&Gm<1){var y=parseInt(s.current.paddingRight,10)||0,E=document.body?document.body.clientWidth:0,S=window.innerWidth-E+y||0;Object.keys(v1).forEach(function(D){var L=v1[D];b&&(b[D]=L)}),b&&(b.paddingRight="".concat(S,"px"))}_&&E1()&&(_.addEventListener("touchmove",b1,vp),g&&(g.addEventListener("touchstart",y1,vp),g.addEventListener("touchmove",$1,vp))),Gm+=1}},[l]),d=O.useCallback(function(g){if(w1){var _=document.body,b=_&&_.style;Gm=Math.max(Gm-1,0),l&&Gm<1&&_1.forEach(function(y){var E=s.current[y];b&&(b[y]=E)}),_&&E1()&&(_.removeEventListener("touchmove",b1,vp),g&&(g.removeEventListener("touchstart",y1,vp),g.removeEventListener("touchmove",$1,vp)))}},[l]);return O.useEffect(function(){if(r){var g=c.current;return f(g),function(){d(g)}}},[r,f,d]),function(g){c.current=g}}var uF=function(){return document.activeElement&&document.activeElement.blur()},cF={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function hF(n){var r=n.children,o=n.lockEnabled,l=n.captureEnabled,s=l===void 0?!0:l,c=n.onBottomArrive,f=n.onBottomLeave,d=n.onTopArrive,g=n.onTopLeave,_=lF({isEnabled:s,onBottomArrive:c,onBottomLeave:f,onTopArrive:d,onTopLeave:g}),b=aF({isEnabled:o}),y=function(S){_(S),b(S)};return Ye(O.Fragment,null,o&&Ye("div",{onClick:uF,css:cF}),r(y))}var dF={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},pF=function(r){var o=r.name,l=r.onFocus;return Ye("input",{required:!0,name:o,tabIndex:-1,"aria-hidden":"true",onFocus:l,css:dF,value:"",onChange:function(){}})},fF=pF,gF=function(r){return r.label},mF=function(r){return r.label},_F=function(r){return r.value},vF=function(r){return!!r.isDisabled},bF={clearIndicator:s2,container:JP,control:d2,dropdownIndicator:o2,group:m2,groupHeading:v2,indicatorsContainer:e2,indicatorSeparator:a2,input:E2,loadingIndicator:h2,loadingMessage:XP,menu:GP,menuList:WP,menuPortal:YP,multiValue:S2,multiValueLabel:I2,multiValueRemove:R2,noOptionsMessage:jP,option:L2,placeholder:P2,singleValue:U2,valueContainer:ZP},$F={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},yF=4,WA=4,EF=38,wF=WA*2,kF={baseUnit:WA,controlHeight:EF,menuGutter:wF},$E={borderRadius:yF,colors:$F,spacing:kF},TF={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:d1(),captureMenuScroll:!d1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:rF(),formatGroupLabel:gF,getOptionLabel:mF,getOptionValue:_F,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:vF,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!DP(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(r){var o=r.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function k1(n,r,o,l){var s=YA(n,r,o),c=KA(n,r,o),f=XA(n,r),d=O$(n,r);return{type:"option",data:r,isDisabled:s,isSelected:c,label:f,value:d,index:l}}function zA(n,r){return n.options.map(function(o,l){if("options"in o){var s=o.options.map(function(f,d){return k1(n,f,r,d)}).filter(function(f){return T1(n,f)});return s.length>0?{type:"group",data:o,options:s,index:l}:void 0}var c=k1(n,o,r,l);return T1(n,c)?c:void 0}).filter(LP)}function jA(n){return n.reduce(function(r,o){return o.type==="group"?r.push.apply(r,dA(o.options.map(function(l){return l.data}))):r.push(o.data),r},[])}function CF(n,r){return jA(zA(n,r))}function T1(n,r){var o=n.inputValue,l=o===void 0?"":o,s=r.data,c=r.isSelected,f=r.label,d=r.value;return(!qA(n)||!c)&&JA(n,{label:f,value:d,data:s},l)}function SF(n,r){var o=n.focusedValue,l=n.selectValue,s=l.indexOf(o);if(s>-1){var c=r.indexOf(o);if(c>-1)return o;if(s<r.length)return r[s]}return null}function IF(n,r){var o=n.focusedOption;return o&&r.indexOf(o)>-1?o:r[0]}var XA=function(r,o){return r.getOptionLabel(o)},O$=function(r,o){return r.getOptionValue(o)};function YA(n,r,o){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(r,o):!1}function KA(n,r,o){if(o.indexOf(r)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(r,o);var l=O$(n,r);return o.some(function(s){return O$(n,s)===l})}function JA(n,r,o){return n.filterOption?n.filterOption(r,o):!0}var qA=function(r){var o=r.hideSelectedOptions,l=r.isMulti;return o===void 0?l:o},RF=1,ZA=function(n){fB(o,n);var r=vB(o);function o(l){var s;if(dB(this,o),s=r.call(this,l),s.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.instancePrefix="",s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,g){var _=s.props,b=_.onChange,y=_.name;g.name=y,s.ariaOnChange(d,g),b(d,g)},s.setValue=function(d,g,_){var b=s.props,y=b.closeMenuOnSelect,E=b.isMulti,S=b.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:S}),y&&(s.setState({inputIsHiddenAfterUpdate:!E}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:g,option:_})},s.selectOption=function(d){var g=s.props,_=g.blurInputOnSelect,b=g.isMulti,y=g.name,E=s.state.selectValue,S=b&&s.isOptionSelected(d,E),D=s.isOptionDisabled(d,E);if(S){var L=s.getOptionValue(d);s.setValue(E.filter(function(N){return s.getOptionValue(N)!==L}),"deselect-option",d)}else if(!D)b?s.setValue([].concat(dA(E),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:y});return}_&&s.blurInput()},s.removeValue=function(d){var g=s.props.isMulti,_=s.state.selectValue,b=s.getOptionValue(d),y=_.filter(function(S){return s.getOptionValue(S)!==b}),E=Ab(g,y,y[0]||null);s.onChange(E,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(Ab(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,g=s.state.selectValue,_=g[g.length-1],b=g.slice(0,g.length-1),y=Ab(d,b,b[0]||null);s.onChange(y,{action:"pop-value",removedValue:_})},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,g=new Array(d),_=0;_<d;_++)g[_]=arguments[_];return SP.apply(void 0,[s.props.classNamePrefix].concat(g))},s.getOptionLabel=function(d){return XA(s.props,d)},s.getOptionValue=function(d){return O$(s.props,d)},s.getStyles=function(d,g){var _=s.props.unstyled,b=bF[d](g,_);b.boxSizing="border-box";var y=s.props.styles[d];return y?y(b,g):b},s.getClassNames=function(d,g){var _,b;return(_=(b=s.props.classNames)[d])===null||_===void 0?void 0:_.call(b,g)},s.getElementId=function(d){return"".concat(s.instancePrefix,"-").concat(d)},s.getComponents=function(){return z2(s.props)},s.buildCategorizedOptions=function(){return zA(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return jA(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,g){s.setState({ariaSelection:ot({value:d},g)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var g=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():g&&s.openMenu("first"):(g&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var g=s.props,_=g.isMulti,b=g.menuIsOpen;s.focusInput(),b?(s.setState({inputIsHiddenAfterUpdate:!_}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&vy(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var g=d.touches,_=g&&g.item(0);_&&(s.initialTouchX=_.clientX,s.initialTouchY=_.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var g=d.touches,_=g&&g.item(0);if(_){var b=Math.abs(_.clientX-s.initialTouchX),y=Math.abs(_.clientY-s.initialTouchY),E=5;s.userIsDragging=b>E||y>E}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var g=s.props.inputValue,_=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(_,{action:"input-change",prevInputValue:g}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var g=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:g}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){s.blockOptionHover||s.state.focusedOption===d||s.setState({focusedOption:d})},s.shouldHideSelectedOptions=function(){return qA(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var g=s.props,_=g.isMulti,b=g.backspaceRemovesValue,y=g.escapeClearsValue,E=g.inputValue,S=g.isClearable,D=g.isDisabled,L=g.menuIsOpen,N=g.onKeyDown,w=g.tabSelectsValue,k=g.openMenuOnFocus,I=s.state,P=I.focusedOption,W=I.focusedValue,j=I.selectValue;if(!D&&!(typeof N=="function"&&(N(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!_||E)return;s.focusValue("previous");break;case"ArrowRight":if(!_||E)return;s.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(W)s.removeValue(W);else{if(!b)return;_?s.popValue():S&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!L||!w||!P||k&&s.isOptionSelected(P,j))return;s.selectOption(P);break;case"Enter":if(d.keyCode===229)break;if(L){if(!P||s.isComposing)return;s.selectOption(P);break}return;case"Escape":L?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:E}),s.onMenuClose()):S&&y&&s.clearValue();break;case" ":if(E)return;if(!L){s.openMenu("first");break}if(!P)return;s.selectOption(P);break;case"ArrowUp":L?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":L?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!L)return;s.focusOption("pageup");break;case"PageDown":if(!L)return;s.focusOption("pagedown");break;case"Home":if(!L)return;s.focusOption("first");break;case"End":if(!L)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.instancePrefix="react-select-"+(s.props.instanceId||++RF),s.state.selectValue=c1(l.value),l.menuIsOpen&&s.state.selectValue.length){var c=s.buildFocusableOptions(),f=c.indexOf(s.state.selectValue[0]);s.state.focusedOption=c[f]}return s}return pB(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&h1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var c=this.props,f=c.isDisabled,d=c.menuIsOpen,g=this.state.isFocused;(g&&!f&&s.isDisabled||g&&d&&!s.menuIsOpen)&&this.focusInput(),g&&f&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!g&&!f&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(h1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,c){this.props.onInputChange(s,c)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var c=this,f=this.state,d=f.selectValue,g=f.isFocused,_=this.buildFocusableOptions(),b=s==="first"?0:_.length-1;if(!this.props.isMulti){var y=_.indexOf(d[0]);y>-1&&(b=y)}this.scrollToFocusedOptionOnUpdate=!(g&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:_[b]},function(){return c.onMenuOpen()})}},{key:"focusValue",value:function(s){var c=this.state,f=c.selectValue,d=c.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var g=f.indexOf(d);d||(g=-1);var _=f.length-1,b=-1;if(f.length){switch(s){case"previous":g===0?b=0:g===-1?b=_:b=g-1;break;case"next":g>-1&&g<_&&(b=g+1);break}this.setState({inputIsHidden:b!==-1,focusedValue:f[b]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",c=this.props.pageSize,f=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var g=0,_=d.indexOf(f);f||(_=-1),s==="up"?g=_>0?_-1:d.length-1:s==="down"?g=(_+1)%d.length:s==="pageup"?(g=_-c,g<0&&(g=0)):s==="pagedown"?(g=_+c,g>d.length-1&&(g=d.length-1)):s==="last"&&(g=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[g],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme($E):ot(ot({},$E),this.props.theme):$E}},{key:"getCommonProps",value:function(){var s=this.clearValue,c=this.cx,f=this.getStyles,d=this.getClassNames,g=this.getValue,_=this.selectOption,b=this.setValue,y=this.props,E=y.isMulti,S=y.isRtl,D=y.options,L=this.hasValue();return{clearValue:s,cx:c,getStyles:f,getClassNames:d,getValue:g,hasValue:L,isMulti:E,isRtl:S,options:D,selectOption:_,selectProps:y,setValue:b,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,c=s.isClearable,f=s.isMulti;return c===void 0?f:c}},{key:"isOptionDisabled",value:function(s,c){return YA(this.props,s,c)}},{key:"isOptionSelected",value:function(s,c){return KA(this.props,s,c)}},{key:"filterOption",value:function(s,c){return JA(this.props,s,c)}},{key:"formatOptionLabel",value:function(s,c){if(typeof this.props.formatOptionLabel=="function"){var f=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(s,{context:c,inputValue:f,selectValue:d})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,c=s.isDisabled,f=s.isSearchable,d=s.inputId,g=s.inputValue,_=s.tabIndex,b=s.form,y=s.menuIsOpen,E=s.required,S=this.getComponents(),D=S.Input,L=this.state,N=L.inputIsHidden,w=L.ariaSelection,k=this.commonProps,I=d||this.getElementId("input"),P=ot(ot(ot({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":E,role:"combobox"},y&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!f&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return f?O.createElement(D,Je({},k,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:I,innerRef:this.getInputRef,isDisabled:c,isHidden:N,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:_,form:b,type:"text",value:g},P)):O.createElement(iF,Je({id:I,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:A$,onFocus:this.onInputFocus,disabled:c,tabIndex:_,inputMode:"none",form:b,value:""},P))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,c=this.getComponents(),f=c.MultiValue,d=c.MultiValueContainer,g=c.MultiValueLabel,_=c.MultiValueRemove,b=c.SingleValue,y=c.Placeholder,E=this.commonProps,S=this.props,D=S.controlShouldRenderValue,L=S.isDisabled,N=S.isMulti,w=S.inputValue,k=S.placeholder,I=this.state,P=I.selectValue,W=I.focusedValue,j=I.isFocused;if(!this.hasValue()||!D)return w?null:O.createElement(y,Je({},E,{key:"placeholder",isDisabled:L,isFocused:j,innerProps:{id:this.getElementId("placeholder")}}),k);if(N)return P.map(function(K,$e){var re=K===W,pe="".concat(s.getOptionLabel(K),"-").concat(s.getOptionValue(K));return O.createElement(f,Je({},E,{components:{Container:d,Label:g,Remove:_},isFocused:re,isDisabled:L,key:pe,index:$e,removeProps:{onClick:function(){return s.removeValue(K)},onTouchEnd:function(){return s.removeValue(K)},onMouseDown:function(xe){xe.preventDefault()}},data:K}),s.formatOptionLabel(K,"value"))});if(w)return null;var H=P[0];return O.createElement(b,Je({},E,{data:H,isDisabled:L}),this.formatOptionLabel(H,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),c=s.ClearIndicator,f=this.commonProps,d=this.props,g=d.isDisabled,_=d.isLoading,b=this.state.isFocused;if(!this.isClearable()||!c||g||!this.hasValue()||_)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(c,Je({},f,{innerProps:y,isFocused:b}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),c=s.LoadingIndicator,f=this.commonProps,d=this.props,g=d.isDisabled,_=d.isLoading,b=this.state.isFocused;if(!c||!_)return null;var y={"aria-hidden":"true"};return O.createElement(c,Je({},f,{innerProps:y,isDisabled:g,isFocused:b}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),c=s.DropdownIndicator,f=s.IndicatorSeparator;if(!c||!f)return null;var d=this.commonProps,g=this.props.isDisabled,_=this.state.isFocused;return O.createElement(f,Je({},d,{isDisabled:g,isFocused:_}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),c=s.DropdownIndicator;if(!c)return null;var f=this.commonProps,d=this.props.isDisabled,g=this.state.isFocused,_={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(c,Je({},f,{innerProps:_,isDisabled:d,isFocused:g}))}},{key:"renderMenu",value:function(){var s=this,c=this.getComponents(),f=c.Group,d=c.GroupHeading,g=c.Menu,_=c.MenuList,b=c.MenuPortal,y=c.LoadingMessage,E=c.NoOptionsMessage,S=c.Option,D=this.commonProps,L=this.state.focusedOption,N=this.props,w=N.captureMenuScroll,k=N.inputValue,I=N.isLoading,P=N.loadingMessage,W=N.minMenuHeight,j=N.maxMenuHeight,H=N.menuIsOpen,K=N.menuPlacement,$e=N.menuPosition,re=N.menuPortalTarget,pe=N.menuShouldBlockScroll,ne=N.menuShouldScrollIntoView,xe=N.noOptionsMessage,Se=N.onMenuScrollToTop,Ie=N.onMenuScrollToBottom;if(!H)return null;var ce=function(_e,be){var se=_e.type,He=_e.data,Ke=_e.isDisabled,It=_e.isSelected,Ct=_e.label,we=_e.value,jn=L===He,Xn=Ke?void 0:function(){return s.onOptionHover(He)},ao=Ke?void 0:function(){return s.selectOption(He)},Rt="".concat(s.getElementId("option"),"-").concat(be),Gt={id:Rt,onClick:ao,onMouseMove:Xn,onMouseOver:Xn,tabIndex:-1};return O.createElement(S,Je({},D,{innerProps:Gt,data:He,isDisabled:Ke,isSelected:It,key:Rt,label:Ct,type:se,value:we,isFocused:jn,innerRef:jn?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(_e.data,"menu"))},qe;if(this.hasOptions())qe=this.getCategorizedOptions().map(function(Z){if(Z.type==="group"){var _e=Z.data,be=Z.options,se=Z.index,He="".concat(s.getElementId("group"),"-").concat(se),Ke="".concat(He,"-heading");return O.createElement(f,Je({},D,{key:He,data:_e,options:be,Heading:d,headingProps:{id:Ke,data:Z.data},label:s.formatGroupLabel(Z.data)}),Z.options.map(function(It){return ce(It,"".concat(se,"-").concat(It.index))}))}else if(Z.type==="option")return ce(Z,"".concat(Z.index))});else if(I){var z=P({inputValue:k});if(z===null)return null;qe=O.createElement(y,D,z)}else{var Y=xe({inputValue:k});if(Y===null)return null;qe=O.createElement(E,D,Y)}var Q={minMenuHeight:W,maxMenuHeight:j,menuPlacement:K,menuPosition:$e,menuShouldScrollIntoView:ne},ee=O.createElement(UP,Je({},D,Q),function(Z){var _e=Z.ref,be=Z.placerProps,se=be.placement,He=be.maxHeight;return O.createElement(g,Je({},D,Q,{innerRef:_e,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove,id:s.getElementId("listbox")},isLoading:I,placement:se}),O.createElement(hF,{captureEnabled:w,onTopArrive:Se,onBottomArrive:Ie,lockEnabled:pe},function(Ke){return O.createElement(_,Je({},D,{innerRef:function(Ct){s.getMenuListRef(Ct),Ke(Ct)},isLoading:I,maxHeight:He,focusedOption:L}),qe)}))});return re||$e==="fixed"?O.createElement(b,Je({},D,{appendTo:re,controlElement:this.controlRef,menuPlacement:K,menuPosition:$e}),ee):ee}},{key:"renderFormField",value:function(){var s=this,c=this.props,f=c.delimiter,d=c.isDisabled,g=c.isMulti,_=c.name,b=c.required,y=this.state.selectValue;if(b&&!this.hasValue()&&!d)return O.createElement(fF,{name:_,onFocus:this.onValueInputFocus});if(!(!_||d))if(g)if(f){var E=y.map(function(L){return s.getOptionValue(L)}).join(f);return O.createElement("input",{name:_,type:"hidden",value:E})}else{var S=y.length>0?y.map(function(L,N){return O.createElement("input",{key:"i-".concat(N),name:_,type:"hidden",value:s.getOptionValue(L)})}):O.createElement("input",{name:_,type:"hidden",value:""});return O.createElement("div",null,S)}else{var D=y[0]?this.getOptionValue(y[0]):"";return O.createElement("input",{name:_,type:"hidden",value:D})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,c=this.state,f=c.ariaSelection,d=c.focusedOption,g=c.focusedValue,_=c.isFocused,b=c.selectValue,y=this.getFocusableOptions();return O.createElement(Q2,Je({},s,{id:this.getElementId("live-region"),ariaSelection:f,focusedOption:d,focusedValue:g,isFocused:_,selectValue:b,focusableOptions:y}))}},{key:"render",value:function(){var s=this.getComponents(),c=s.Control,f=s.IndicatorsContainer,d=s.SelectContainer,g=s.ValueContainer,_=this.props,b=_.className,y=_.id,E=_.isDisabled,S=_.menuIsOpen,D=this.state.isFocused,L=this.commonProps=this.getCommonProps();return O.createElement(d,Je({},L,{className:b,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:E,isFocused:D}),this.renderLiveRegion(),O.createElement(c,Je({},L,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:E,isFocused:D,menuIsOpen:S}),O.createElement(g,Je({},L,{isDisabled:E}),this.renderPlaceholderOrValue(),this.renderInput()),O.createElement(f,Je({},L,{isDisabled:E}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,c){var f=c.prevProps,d=c.clearFocusValueOnUpdate,g=c.inputIsHiddenAfterUpdate,_=c.ariaSelection,b=c.isFocused,y=c.prevWasFocused,E=s.options,S=s.value,D=s.menuIsOpen,L=s.inputValue,N=s.isMulti,w=c1(S),k={};if(f&&(S!==f.value||E!==f.options||D!==f.menuIsOpen||L!==f.inputValue)){var I=D?CF(s,w):[],P=d?SF(c,w):null,W=IF(c,I);k={selectValue:w,focusedOption:W,focusedValue:P,clearFocusValueOnUpdate:!1}}var j=g!=null&&s!==f?{inputIsHidden:g,inputIsHiddenAfterUpdate:void 0}:{},H=_,K=b&&y;return b&&!K&&(H={value:Ab(N,w,w[0]||null),options:w,action:"initial-input-focus"},K=!y),(_==null?void 0:_.action)==="initial-input-focus"&&(H=null),ot(ot(ot({},k),j),{},{prevProps:s,ariaSelection:H,prevWasFocused:K})}}]),o}(O.Component);ZA.defaultProps=TF;var xF=O.forwardRef(function(n,r){var o=hB(n);return O.createElement(ZA,Je({ref:r},o))}),C1=xF,N$={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */N$.exports;(function(n,r){(function(){var o,l="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",d="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",_=500,b="__lodash_placeholder__",y=1,E=2,S=4,D=1,L=2,N=1,w=2,k=4,I=8,P=16,W=32,j=64,H=128,K=256,$e=512,re=30,pe="...",ne=800,xe=16,Se=1,Ie=2,ce=3,qe=1/0,z=9007199254740991,Y=17976931348623157e292,Q=0/0,ee=4294967295,Z=ee-1,_e=ee>>>1,be=[["ary",H],["bind",N],["bindKey",w],["curry",I],["curryRight",P],["flip",$e],["partial",W],["partialRight",j],["rearg",K]],se="[object Arguments]",He="[object Array]",Ke="[object AsyncFunction]",It="[object Boolean]",Ct="[object Date]",we="[object DOMException]",jn="[object Error]",Xn="[object Function]",ao="[object GeneratorFunction]",Rt="[object Map]",Gt="[object Number]",it="[object Null]",Fn="[object Object]",yr="[object Promise]",J="[object Proxy]",ye="[object RegExp]",tt="[object Set]",Oe="[object String]",en="[object Symbol]",st="[object Undefined]",tn="[object WeakMap]",ks="[object WeakSet]",Er="[object ArrayBuffer]",rr="[object DataView]",uo="[object Float32Array]",bh="[object Float64Array]",Ui="[object Int8Array]",na="[object Int16Array]",ra="[object Int32Array]",ol="[object Uint8Array]",$h="[object Uint8ClampedArray]",oa="[object Uint16Array]",yh="[object Uint32Array]",N_=/\b__p \+= '';/g,Eh=/\b(__p \+=) '' \+/g,L_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wh=/&(?:amp|lt|gt|quot|#39);/g,il=/[&<>"']/g,M_=RegExp(wh.source),kh=RegExp(il.source),B_=/<%-([\s\S]+?)%>/g,Th=/<%([\s\S]+?)%>/g,Ch=/<%=([\s\S]+?)%>/g,sf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P_=/^\w*$/,Sh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ts=/[\\^$.*+?()[\]{}|]/g,lf=RegExp(Ts.source),ia=/^\s+/,F_=/\s/,af=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,uf=/\{\n\/\* \[wrapped with (.+)\] \*/,G_=/,? & /,U_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sl=/[()=,{}\[\]\/\s]/,Du=/\\(\\)?/g,Ou=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cf=/\w*$/,Ih=/^[-+]0x[0-9a-f]+$/i,hf=/^0b[01]+$/i,ri=/^\[object .+?Constructor\]$/,oi=/^0o[0-7]+$/i,Nu=/^(?:0|[1-9]\d*)$/,sa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,la=/($^)/,H_=/['\n\r\u2028\u2029\\]/g,Lu="\\ud800-\\udfff",V_="\\u0300-\\u036f",W_="\\ufe20-\\ufe2f",De="\\u20d0-\\u20ff",Yn=V_+W_+De,_t="\\u2700-\\u27bf",aa="a-z\\xdf-\\xf6\\xf8-\\xff",Hi="\\xac\\xb1\\xd7\\xf7",ll="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mu="\\u2000-\\u206f",co=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rh="A-Z\\xc0-\\xd6\\xd8-\\xde",ua="\\ufe0e\\ufe0f",df=Hi+ll+Mu+co,Bu="['’]",ii="["+Lu+"]",pf="["+df+"]",xo="["+Yn+"]",xh="\\d+",ff="["+_t+"]",Pu="["+aa+"]",Ah="[^"+Lu+df+xh+_t+aa+Rh+"]",wr="\\ud83c[\\udffb-\\udfff]",Fu="(?:"+xo+"|"+wr+")",Dh="[^"+Lu+"]",ca="(?:\\ud83c[\\udde6-\\uddff]){2}",ha="[\\ud800-\\udbff][\\udc00-\\udfff]",Cs="["+Rh+"]",gf="\\u200d",Oh="(?:"+Pu+"|"+Ah+")",Gu="(?:"+Cs+"|"+Ah+")",mf="(?:"+Bu+"(?:d|ll|m|re|s|t|ve))?",_f="(?:"+Bu+"(?:D|LL|M|RE|S|T|VE))?",Vi=Fu+"?",Nh="["+ua+"]?",si="(?:"+gf+"(?:"+[Dh,ca,ha].join("|")+")"+Nh+Vi+")*",z_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",j_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vf=Nh+Vi+si,da="(?:"+[ff,ca,ha].join("|")+")"+vf,X_="(?:"+[Dh+xo+"?",xo,ca,ha,ii].join("|")+")",al=RegExp(Bu,"g"),bf=RegExp(xo,"g"),Lh=RegExp(wr+"(?="+wr+")|"+X_+vf,"g"),Y_=RegExp([Cs+"?"+Pu+"+"+mf+"(?="+[pf,Cs,"$"].join("|")+")",Gu+"+"+_f+"(?="+[pf,Cs+Oh,"$"].join("|")+")",Cs+"?"+Oh+"+"+mf,Cs+"+"+_f,j_,z_,xh,da].join("|"),"g"),K_=RegExp("["+gf+Lu+Yn+ua+"]"),J_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,q_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$f=-1,Ut={};Ut[uo]=Ut[bh]=Ut[Ui]=Ut[na]=Ut[ra]=Ut[ol]=Ut[$h]=Ut[oa]=Ut[yh]=!0,Ut[se]=Ut[He]=Ut[Er]=Ut[It]=Ut[rr]=Ut[Ct]=Ut[jn]=Ut[Xn]=Ut[Rt]=Ut[Gt]=Ut[Fn]=Ut[ye]=Ut[tt]=Ut[Oe]=Ut[tn]=!1;var Lt={};Lt[se]=Lt[He]=Lt[Er]=Lt[rr]=Lt[It]=Lt[Ct]=Lt[uo]=Lt[bh]=Lt[Ui]=Lt[na]=Lt[ra]=Lt[Rt]=Lt[Gt]=Lt[Fn]=Lt[ye]=Lt[tt]=Lt[Oe]=Lt[en]=Lt[ol]=Lt[$h]=Lt[oa]=Lt[yh]=!0,Lt[jn]=Lt[Xn]=Lt[tn]=!1;var Mh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Z_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bh=parseFloat,e0=parseInt,Ao=typeof Li=="object"&&Li&&Li.Object===Object&&Li,t0=typeof self=="object"&&self&&self.Object===Object&&self,An=Ao||t0||Function("return this")(),Ph=r&&!r.nodeType&&r,Ss=Ph&&!0&&n&&!n.nodeType&&n,Ef=Ss&&Ss.exports===Ph,Fh=Ef&&Ao.process,Xr=function(){try{var V=Ss&&Ss.require&&Ss.require("util").types;return V||Fh&&Fh.binding&&Fh.binding("util")}catch{}}(),Gh=Xr&&Xr.isArrayBuffer,Wi=Xr&&Xr.isDate,Uu=Xr&&Xr.isMap,Uh=Xr&&Xr.isRegExp,wf=Xr&&Xr.isSet,kf=Xr&&Xr.isTypedArray;function kr(V,oe,te){switch(te.length){case 0:return V.call(oe);case 1:return V.call(oe,te[0]);case 2:return V.call(oe,te[0],te[1]);case 3:return V.call(oe,te[0],te[1],te[2])}return V.apply(oe,te)}function n0(V,oe,te,Ae){for(var nt=-1,wt=V==null?0:V.length;++nt<wt;){var mn=V[nt];oe(Ae,mn,te(mn),V)}return Ae}function Yr(V,oe){for(var te=-1,Ae=V==null?0:V.length;++te<Ae&&oe(V[te],te,V)!==!1;);return V}function r0(V,oe){for(var te=V==null?0:V.length;te--&&oe(V[te],te,V)!==!1;);return V}function Tf(V,oe){for(var te=-1,Ae=V==null?0:V.length;++te<Ae;)if(!oe(V[te],te,V))return!1;return!0}function zi(V,oe){for(var te=-1,Ae=V==null?0:V.length,nt=0,wt=[];++te<Ae;){var mn=V[te];oe(mn,te,V)&&(wt[nt++]=mn)}return wt}function pa(V,oe){var te=V==null?0:V.length;return!!te&&Yi(V,oe,0)>-1}function Hh(V,oe,te){for(var Ae=-1,nt=V==null?0:V.length;++Ae<nt;)if(te(oe,V[Ae]))return!0;return!1}function Vt(V,oe){for(var te=-1,Ae=V==null?0:V.length,nt=Array(Ae);++te<Ae;)nt[te]=oe(V[te],te,V);return nt}function ji(V,oe){for(var te=-1,Ae=oe.length,nt=V.length;++te<Ae;)V[nt+te]=oe[te];return V}function Vh(V,oe,te,Ae){var nt=-1,wt=V==null?0:V.length;for(Ae&&wt&&(te=V[++nt]);++nt<wt;)te=oe(te,V[nt],nt,V);return te}function fa(V,oe,te,Ae){var nt=V==null?0:V.length;for(Ae&&nt&&(te=V[--nt]);nt--;)te=oe(te,V[nt],nt,V);return te}function Hu(V,oe){for(var te=-1,Ae=V==null?0:V.length;++te<Ae;)if(oe(V[te],te,V))return!0;return!1}var ga=Vu("length");function Cf(V){return V.split("")}function Sf(V){return V.match(U_)||[]}function Wh(V,oe,te){var Ae;return te(V,function(nt,wt,mn){if(oe(nt,wt,mn))return Ae=wt,!1}),Ae}function Xi(V,oe,te,Ae){for(var nt=V.length,wt=te+(Ae?1:-1);Ae?wt--:++wt<nt;)if(oe(V[wt],wt,V))return wt;return-1}function Yi(V,oe,te){return oe===oe?u0(V,oe,te):Xi(V,If,te)}function zh(V,oe,te,Ae){for(var nt=te-1,wt=V.length;++nt<wt;)if(Ae(V[nt],oe))return nt;return-1}function If(V){return V!==V}function ma(V,oe){var te=V==null?0:V.length;return te?zu(V,oe)/te:Q}function Vu(V){return function(oe){return oe==null?o:oe[V]}}function Wu(V){return function(oe){return V==null?o:V[oe]}}function jh(V,oe,te,Ae,nt){return nt(V,function(wt,mn,xt){te=Ae?(Ae=!1,wt):oe(te,wt,mn,xt)}),te}function Rf(V,oe){var te=V.length;for(V.sort(oe);te--;)V[te]=V[te].value;return V}function zu(V,oe){for(var te,Ae=-1,nt=V.length;++Ae<nt;){var wt=oe(V[Ae]);wt!==o&&(te=te===o?wt:te+wt)}return te}function ju(V,oe){for(var te=-1,Ae=Array(V);++te<V;)Ae[te]=oe(te);return Ae}function o0(V,oe){return Vt(oe,function(te){return[te,V[te]]})}function _a(V){return V&&V.slice(0,Kh(V)+1).replace(ia,"")}function or(V){return function(oe){return V(oe)}}function Is(V,oe){return Vt(oe,function(te){return V[te]})}function Rs(V,oe){return V.has(oe)}function ho(V,oe){for(var te=-1,Ae=V.length;++te<Ae&&Yi(oe,V[te],0)>-1;);return te}function Xh(V,oe){for(var te=V.length;te--&&Yi(oe,V[te],0)>-1;);return te}function i0(V,oe){for(var te=V.length,Ae=0;te--;)V[te]===oe&&++Ae;return Ae}var s0=Wu(Mh),Xu=Wu(Z_);function xf(V){return"\\"+yf[V]}function Af(V,oe){return V==null?o:V[oe]}function xs(V){return K_.test(V)}function l0(V){return J_.test(V)}function Yh(V){for(var oe,te=[];!(oe=V.next()).done;)te.push(oe.value);return te}function Yu(V){var oe=-1,te=Array(V.size);return V.forEach(function(Ae,nt){te[++oe]=[nt,Ae]}),te}function Df(V,oe){return function(te){return V(oe(te))}}function li(V,oe){for(var te=-1,Ae=V.length,nt=0,wt=[];++te<Ae;){var mn=V[te];(mn===oe||mn===b)&&(V[te]=b,wt[nt++]=te)}return wt}function Ku(V){var oe=-1,te=Array(V.size);return V.forEach(function(Ae){te[++oe]=Ae}),te}function a0(V){var oe=-1,te=Array(V.size);return V.forEach(function(Ae){te[++oe]=[Ae,Ae]}),te}function u0(V,oe,te){for(var Ae=te-1,nt=V.length;++Ae<nt;)if(V[Ae]===oe)return Ae;return-1}function c0(V,oe,te){for(var Ae=te+1;Ae--;)if(V[Ae]===oe)return Ae;return Ae}function Do(V){return xs(V)?Of(V):ga(V)}function Kr(V){return xs(V)?h0(V):Cf(V)}function Kh(V){for(var oe=V.length;oe--&&F_.test(V.charAt(oe)););return oe}var Ju=Wu(Q_);function Of(V){for(var oe=Lh.lastIndex=0;Lh.test(V);)++oe;return oe}function h0(V){return V.match(Lh)||[]}function d0(V){return V.match(Y_)||[]}var Nf=function V(oe){oe=oe==null?An:As.defaults(An.Object(),oe,As.pick(An,q_));var te=oe.Array,Ae=oe.Date,nt=oe.Error,wt=oe.Function,mn=oe.Math,xt=oe.Object,Jh=oe.RegExp,Lf=oe.String,Jr=oe.TypeError,Oo=te.prototype,qu=wt.prototype,Ki=xt.prototype,ul=oe["__core-js_shared__"],ai=qu.toString,kt=Ki.hasOwnProperty,qh=0,Zu=function(){var u=/[^.]+$/.exec(ul&&ul.keys&&ul.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Mt=Ki.toString,Qu=ai.call(xt),cl=An._,hl=Jh("^"+ai.call(kt).replace(Ts,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ec=Ef?oe.Buffer:o,ui=oe.Symbol,dl=oe.Uint8Array,po=ec?ec.allocUnsafe:o,va=Df(xt.getPrototypeOf,xt),tc=xt.create,Zh=Ki.propertyIsEnumerable,ba=Oo.splice,Mf=ui?ui.isConcatSpreadable:o,$a=ui?ui.iterator:o,Sn=ui?ui.toStringTag:o,nc=function(){try{var u=Go(xt,"defineProperty");return u({},"",{}),u}catch{}}(),Qh=oe.clearTimeout!==An.clearTimeout&&oe.clearTimeout,p0=Ae&&Ae.now!==An.Date.now&&Ae.now,No=oe.setTimeout!==An.setTimeout&&oe.setTimeout,Ot=mn.ceil,rc=mn.floor,ed=xt.getOwnPropertySymbols,Bf=ec?ec.isBuffer:o,Pf=oe.isFinite,f0=Oo.join,Ji=Df(xt.keys,xt),_n=mn.max,vn=mn.min,g0=Ae.now,oc=oe.parseInt,ic=mn.random,m0=Oo.reverse,ya=Go(oe,"DataView"),Ea=Go(oe,"Map"),wa=Go(oe,"Promise"),Ds=Go(oe,"Set"),pl=Go(oe,"WeakMap"),ka=Go(xt,"create"),sc=pl&&new pl,Os={},td=ge(ya),_0=ge(Ea),v0=ge(wa),b0=ge(Ds),Ff=ge(pl),fl=ui?ui.prototype:o,gl=fl?fl.valueOf:o,lc=fl?fl.toString:o;function x(u){if(Jt(u)&&!Ze(u)&&!(u instanceof je)){if(u instanceof qr)return u;if(kt.call(u,"__wrapped__"))return vo(u)}return new qr(u)}var ci=function(){function u(){}return function(h){if(!Wt(h))return{};if(tc)return tc(h);u.prototype=h;var m=new u;return u.prototype=o,m}}();function ac(){}function qr(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=o}x.templateSettings={escape:B_,evaluate:Th,interpolate:Ch,variable:"",imports:{_:x}},x.prototype=ac.prototype,x.prototype.constructor=x,qr.prototype=ci(ac.prototype),qr.prototype.constructor=qr;function je(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function Gf(){var u=new je(this.__wrapped__);return u.__actions__=lr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=lr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=lr(this.__views__),u}function Uf(){if(this.__filtered__){var u=new je(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Hf(){var u=this.__wrapped__.value(),h=this.__dir__,m=Ze(u),$=h<0,T=m?u.length:0,A=ss(0,T,this.__views__),B=A.start,G=A.end,X=G-B,le=$?G:B-1,ae=this.__iteratees__,he=ae.length,Ee=0,Be=vn(X,this.__takeCount__);if(!m||!$&&T==X&&Be==X)return hg(u,this.__actions__);var We=[];e:for(;X--&&Ee<Be;){le+=h;for(var ut=-1,Pe=u[le];++ut<he;){var ft=ae[ut],ht=ft.iteratee,Gr=ft.type,Zn=ht(Pe);if(Gr==Ie)Pe=Zn;else if(!Zn){if(Gr==Se)continue e;break e}}We[Ee++]=Pe}return We}je.prototype=ci(ac.prototype),je.prototype.constructor=je;function qi(u){var h=-1,m=u==null?0:u.length;for(this.clear();++h<m;){var $=u[h];this.set($[0],$[1])}}function Vf(){this.__data__=ka?ka(null):{},this.size=0}function Wf(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function Ta(u){var h=this.__data__;if(ka){var m=h[u];return m===g?o:m}return kt.call(h,u)?h[u]:o}function uc(u){var h=this.__data__;return ka?h[u]!==o:kt.call(h,u)}function zf(u,h){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=ka&&h===o?g:h,this}qi.prototype.clear=Vf,qi.prototype.delete=Wf,qi.prototype.get=Ta,qi.prototype.has=uc,qi.prototype.set=zf;function hi(u){var h=-1,m=u==null?0:u.length;for(this.clear();++h<m;){var $=u[h];this.set($[0],$[1])}}function nd(){this.__data__=[],this.size=0}function $0(u){var h=this.__data__,m=Zi(h,u);if(m<0)return!1;var $=h.length-1;return m==$?h.pop():ba.call(h,m,1),--this.size,!0}function Ca(u){var h=this.__data__,m=Zi(h,u);return m<0?o:h[m][1]}function y0(u){return Zi(this.__data__,u)>-1}function rd(u,h){var m=this.__data__,$=Zi(m,u);return $<0?(++this.size,m.push([u,h])):m[$][1]=h,this}hi.prototype.clear=nd,hi.prototype.delete=$0,hi.prototype.get=Ca,hi.prototype.has=y0,hi.prototype.set=rd;function Zr(u){var h=-1,m=u==null?0:u.length;for(this.clear();++h<m;){var $=u[h];this.set($[0],$[1])}}function E0(){this.size=0,this.__data__={hash:new qi,map:new(Ea||hi),string:new qi}}function w0(u){var h=Gs(this,u).delete(u);return this.size-=h?1:0,h}function jf(u){return Gs(this,u).get(u)}function cc(u){return Gs(this,u).has(u)}function k0(u,h){var m=Gs(this,u),$=m.size;return m.set(u,h),this.size+=m.size==$?0:1,this}Zr.prototype.clear=E0,Zr.prototype.delete=w0,Zr.prototype.get=jf,Zr.prototype.has=cc,Zr.prototype.set=k0;function Ns(u){var h=-1,m=u==null?0:u.length;for(this.__data__=new Zr;++h<m;)this.add(u[h])}function T0(u){return this.__data__.set(u,g),this}function C0(u){return this.__data__.has(u)}Ns.prototype.add=Ns.prototype.push=T0,Ns.prototype.has=C0;function ir(u){var h=this.__data__=new hi(u);this.size=h.size}function Xf(){this.__data__=new hi,this.size=0}function S0(u){var h=this.__data__,m=h.delete(u);return this.size=h.size,m}function Yf(u){return this.__data__.get(u)}function Kf(u){return this.__data__.has(u)}function I0(u,h){var m=this.__data__;if(m instanceof hi){var $=m.__data__;if(!Ea||$.length<s-1)return $.push([u,h]),this.size=++m.size,this;m=this.__data__=new Zr($)}return m.set(u,h),this.size=m.size,this}ir.prototype.clear=Xf,ir.prototype.delete=S0,ir.prototype.get=Yf,ir.prototype.has=Kf,ir.prototype.set=I0;function Sa(u,h){var m=Ze(u),$=!m&&Ei(u),T=!m&&!$&&wi(u),A=!m&&!$&&!T&&zs(u),B=m||$||T||A,G=B?ju(u.length,Lf):[],X=G.length;for(var le in u)(h||kt.call(u,le))&&!(B&&(le=="length"||T&&(le=="offset"||le=="parent")||A&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||cr(le,X)))&&G.push(le);return G}function Le(u){var h=u.length;return h?u[$d(0,h-1)]:o}function Tr(u,h){return Tl(lr(u),Qi(h,0,u.length))}function Gn(u){return Tl(lr(u))}function Nt(u,h,m){(m!==o&&!Ue(u[h],m)||m===o&&!(h in u))&&Lo(u,h,m)}function Cr(u,h,m){var $=u[h];(!(kt.call(u,h)&&Ue($,m))||m===o&&!(h in u))&&Lo(u,h,m)}function Zi(u,h){for(var m=u.length;m--;)if(Ue(u[m][0],h))return m;return-1}function Te(u,h,m,$){return di(u,function(T,A,B){h($,T,m(T),B)}),$}function Xt(u,h){return u&&Mo(h,wn(h),u)}function R0(u,h){return u&&Mo(h,qn(h),u)}function Lo(u,h,m){h=="__proto__"&&nc?nc(u,h,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[h]=m}function od(u,h){for(var m=-1,$=h.length,T=te($),A=u==null;++m<$;)T[m]=A?o:Ci(u,h[m]);return T}function Qi(u,h,m){return u===u&&(m!==o&&(u=u<=m?u:m),h!==o&&(u=u>=h?u:h)),u}function Sr(u,h,m,$,T,A){var B,G=h&y,X=h&E,le=h&S;if(m&&(B=T?m(u,$,T,A):m(u)),B!==o)return B;if(!Wt(u))return u;var ae=Ze(u);if(ae){if(B=Ua(u),!G)return lr(u,B)}else{var he=$n(u),Ee=he==Xn||he==ao;if(wi(u))return fg(u,G);if(he==Fn||he==se||Ee&&!T){if(B=X||Ee?{}:Dd(u),!G)return X?z0(u,R0(B,u)):W0(u,Xt(B,u))}else{if(!Lt[he])return T?u:{};B=rt(u,he,G)}}A||(A=new ir);var Be=A.get(u);if(Be)return Be;A.set(u,B),Zg(u)?u.forEach(function(Pe){B.add(Sr(Pe,h,m,Pe,u,A))}):Nl(u)&&u.forEach(function(Pe,ft){B.set(ft,Sr(Pe,h,m,ft,u,A))});var We=le?X?Fs:$l:X?qn:wn,ut=ae?o:We(u);return Yr(ut||u,function(Pe,ft){ut&&(ft=Pe,Pe=u[ft]),Cr(B,ft,Sr(Pe,h,m,ft,u,A))}),B}function Jf(u){var h=wn(u);return function(m){return id(m,u,h)}}function id(u,h,m){var $=m.length;if(u==null)return!$;for(u=xt(u);$--;){var T=m[$],A=h[T],B=u[T];if(B===o&&!(T in u)||!A(B))return!1}return!0}function sd(u,h,m){if(typeof u!="function")throw new Jr(f);return _i(function(){u.apply(o,m)},h)}function ml(u,h,m,$){var T=-1,A=pa,B=!0,G=u.length,X=[],le=h.length;if(!G)return X;m&&(h=Vt(h,or(m))),$?(A=Hh,B=!1):h.length>=s&&(A=Rs,B=!1,h=new Ns(h));e:for(;++T<G;){var ae=u[T],he=m==null?ae:m(ae);if(ae=$||ae!==0?ae:0,B&&he===he){for(var Ee=le;Ee--;)if(h[Ee]===he)continue e;X.push(ae)}else A(h,he,$)||X.push(ae)}return X}var di=ar(fo),ld=ar(hc,!0);function qf(u,h){var m=!0;return di(u,function($,T,A){return m=!!h($,T,A),m}),m}function Ia(u,h,m){for(var $=-1,T=u.length;++$<T;){var A=u[$],B=h(A);if(B!=null&&(G===o?B===B&&!hn(B):m(B,G)))var G=B,X=A}return X}function ad(u,h,m,$){var T=u.length;for(m=Qe(m),m<0&&(m=-m>T?0:T+m),$=$===o||$>T?T:Qe($),$<0&&($+=T),$=m>$?0:Qd($);m<$;)u[m++]=h;return u}function Ra(u,h){var m=[];return di(u,function($,T,A){h($,T,A)&&m.push($)}),m}function In(u,h,m,$,T){var A=-1,B=u.length;for(m||(m=On),T||(T=[]);++A<B;){var G=u[A];h>0&&m(G)?h>1?In(G,h-1,m,$,T):ji(T,G):$||(T[T.length]=G)}return T}var ud=bn(),cd=bn(!0);function fo(u,h){return u&&ud(u,h,wn)}function hc(u,h){return u&&cd(u,h,wn)}function xa(u,h){return zi(h,function(m){return us(u[m])})}function es(u,h){h=ts(h,u);for(var m=0,$=h.length;u!=null&&m<$;)u=u[_o(h[m++])];return m&&m==$?u:o}function hd(u,h,m){var $=h(u);return Ze(u)?$:ji($,m(u))}function Un(u){return u==null?u===o?st:it:Sn&&Sn in xt(u)?El(u):J0(u)}function dd(u,h){return u>h}function Zf(u,h){return u!=null&&kt.call(u,h)}function Ls(u,h){return u!=null&&h in xt(u)}function pd(u,h,m){return u>=vn(h,m)&&u<_n(h,m)}function Aa(u,h,m){for(var $=m?Hh:pa,T=u[0].length,A=u.length,B=A,G=te(A),X=1/0,le=[];B--;){var ae=u[B];B&&h&&(ae=Vt(ae,or(h))),X=vn(ae.length,X),G[B]=!m&&(h||T>=120&&ae.length>=120)?new Ns(B&&ae):o}ae=u[0];var he=-1,Ee=G[0];e:for(;++he<T&&le.length<X;){var Be=ae[he],We=h?h(Be):Be;if(Be=m||Be!==0?Be:0,!(Ee?Rs(Ee,We):$(le,We,m))){for(B=A;--B;){var ut=G[B];if(!(ut?Rs(ut,We):$(u[B],We,m)))continue e}Ee&&Ee.push(We),le.push(Be)}}return le}function Qf(u,h,m,$){return fo(u,function(T,A,B){h($,m(T),A,B)}),$}function _l(u,h,m){h=ts(h,u),u=kg(u,h);var $=u==null?u:u[_o(Dr(h))];return $==null?o:kr($,u,m)}function eg(u){return Jt(u)&&Un(u)==se}function tg(u){return Jt(u)&&Un(u)==Er}function x0(u){return Jt(u)&&Un(u)==Ct}function Ms(u,h,m,$,T){return u===h?!0:u==null||h==null||!Jt(u)&&!Jt(h)?u!==u&&h!==h:ng(u,h,m,$,Ms,T)}function ng(u,h,m,$,T,A){var B=Ze(u),G=Ze(h),X=B?He:$n(u),le=G?He:$n(h);X=X==se?Fn:X,le=le==se?Fn:le;var ae=X==Fn,he=le==Fn,Ee=X==le;if(Ee&&wi(u)){if(!wi(h))return!1;B=!0,ae=!1}if(Ee&&!ae)return A||(A=new ir),B||zs(u)?Kn(u,h,m,$,T,A):bl(u,h,X,m,$,T,A);if(!(m&D)){var Be=ae&&kt.call(u,"__wrapped__"),We=he&&kt.call(h,"__wrapped__");if(Be||We){var ut=Be?u.value():u,Pe=We?h.value():h;return A||(A=new ir),T(ut,Pe,m,$,A)}}return Ee?(A||(A=new ir),Fa(u,h,m,$,T,A)):!1}function rg(u){return Jt(u)&&$n(u)==Rt}function fd(u,h,m,$){var T=m.length,A=T,B=!$;if(u==null)return!A;for(u=xt(u);T--;){var G=m[T];if(B&&G[2]?G[1]!==u[G[0]]:!(G[0]in u))return!1}for(;++T<A;){G=m[T];var X=G[0],le=u[X],ae=G[1];if(B&&G[2]){if(le===o&&!(X in u))return!1}else{var he=new ir;if($)var Ee=$(le,ae,X,u,h,he);if(!(Ee===o?Ms(ae,le,D|L,$,he):Ee))return!1}}return!0}function gd(u){if(!Wt(u)||Uo(u))return!1;var h=us(u)?hl:ri;return h.test(ge(u))}function A0(u){return Jt(u)&&Un(u)==ye}function D0(u){return Jt(u)&&$n(u)==tt}function O0(u){return Jt(u)&&hs(u.length)&&!!Ut[Un(u)]}function md(u){return typeof u=="function"?u:u==null?Fr:typeof u=="object"?Ze(u)?_d(u[0],u[1]):ig(u):Ai(u)}function vl(u){if(!xr(u))return Ji(u);var h=[];for(var m in xt(u))kt.call(u,m)&&m!="constructor"&&h.push(m);return h}function N0(u){if(!Wt(u))return K0(u);var h=xr(u),m=[];for(var $ in u)$=="constructor"&&(h||!kt.call(u,$))||m.push($);return m}function Bs(u,h){return u<h}function og(u,h){var m=-1,$=Mr(u)?te(u.length):[];return di(u,function(T,A,B){$[++m]=h(T,A,B)}),$}function ig(u){var h=yl(u);return h.length==1&&h[0][2]?Od(h[0][0],h[0][1]):function(m){return m===u||fd(m,u,h)}}function _d(u,h){return Ha(u)&&mo(h)?Od(_o(u),h):function(m){var $=Ci(m,u);return $===o&&$===h?Hc(m,u):Ms(h,$,D|L)}}function Da(u,h,m,$,T){u!==h&&ud(h,function(A,B){if(T||(T=new ir),Wt(A))sg(u,h,B,m,Da,$,T);else{var G=$?$(Ve(u,B),A,B+"",u,h,T):o;G===o&&(G=A),Nt(u,B,G)}},qn)}function sg(u,h,m,$,T,A,B){var G=Ve(u,m),X=Ve(h,m),le=B.get(X);if(le){Nt(u,m,le);return}var ae=A?A(G,X,m+"",u,h,B):o,he=ae===o;if(he){var Ee=Ze(X),Be=!Ee&&wi(X),We=!Ee&&!Be&&zs(X);ae=X,Ee||Be||We?Ze(G)?ae=G:cn(G)?ae=lr(G):Be?(he=!1,ae=fg(X,!0)):We?(he=!1,ae=gg(X,!0)):ae=[]:on(X)||Ei(X)?(ae=G,Ei(G)?ae=ue(G):(!Wt(G)||us(G))&&(ae=Dd(X))):he=!1}he&&(B.set(X,ae),T(ae,X,$,A,B),B.delete(X)),Nt(u,m,ae)}function vd(u,h){var m=u.length;if(m)return h+=h<0?m:0,cr(h,m)?u[h]:o}function dc(u,h,m){h.length?h=Vt(h,function(A){return Ze(A)?function(B){return es(B,A.length===1?A[0]:A)}:A}):h=[Fr];var $=-1;h=Vt(h,or(Fe()));var T=og(u,function(A,B,G){var X=Vt(h,function(le){return le(A)});return{criteria:X,index:++$,value:A}});return Rf(T,function(A,B){return V0(A,B,m)})}function lg(u,h){return pc(u,h,function(m,$){return Hc(u,$)})}function pc(u,h,m){for(var $=-1,T=h.length,A={};++$<T;){var B=h[$],G=es(u,B);m(G,B)&&Na(A,ts(B,u),G)}return A}function bd(u){return function(h){return es(h,u)}}function Oa(u,h,m,$){var T=$?zh:Yi,A=-1,B=h.length,G=u;for(u===h&&(h=lr(h)),m&&(G=Vt(u,or(m)));++A<B;)for(var X=0,le=h[A],ae=m?m(le):le;(X=T(G,ae,X,$))>-1;)G!==u&&ba.call(G,X,1),ba.call(u,X,1);return u}function ag(u,h){for(var m=u?h.length:0,$=m-1;m--;){var T=h[m];if(m==$||T!==A){var A=T;cr(T)?ba.call(u,T,1):mc(u,T)}}return u}function $d(u,h){return u+rc(ic()*(h-u+1))}function L0(u,h,m,$){for(var T=-1,A=_n(Ot((h-u)/(m||1)),0),B=te(A);A--;)B[$?A:++T]=u,u+=m;return B}function yd(u,h){var m="";if(!u||h<1||h>z)return m;do h%2&&(m+=u),h=rc(h/2),h&&(u+=u);while(h);return m}function ct(u,h){return kl(wg(u,h,Fr),u+"")}function M0(u){return Le(Si(u))}function B0(u,h){var m=Si(u);return Tl(m,Qi(h,0,m.length))}function Na(u,h,m,$){if(!Wt(u))return u;h=ts(h,u);for(var T=-1,A=h.length,B=A-1,G=u;G!=null&&++T<A;){var X=_o(h[T]),le=m;if(X==="__proto__"||X==="constructor"||X==="prototype")return u;if(T!=B){var ae=G[X];le=$?$(ae,X,G):o,le===o&&(le=Wt(ae)?ae:cr(h[T+1])?[]:{})}Cr(G,X,le),G=G[X]}return u}var Ed=sc?function(u,h){return sc.set(u,h),u}:Fr,ug=nc?function(u,h){return nc(u,"toString",{configurable:!0,enumerable:!1,value:fr(h),writable:!0})}:Fr;function cg(u){return Tl(Si(u))}function Ir(u,h,m){var $=-1,T=u.length;h<0&&(h=-h>T?0:T+h),m=m>T?T:m,m<0&&(m+=T),T=h>m?0:m-h>>>0,h>>>=0;for(var A=te(T);++$<T;)A[$]=u[$+h];return A}function P0(u,h){var m;return di(u,function($,T,A){return m=h($,T,A),!m}),!!m}function fc(u,h,m){var $=0,T=u==null?$:u.length;if(typeof h=="number"&&h===h&&T<=_e){for(;$<T;){var A=$+T>>>1,B=u[A];B!==null&&!hn(B)&&(m?B<=h:B<h)?$=A+1:T=A}return T}return gc(u,h,Fr,m)}function gc(u,h,m,$){var T=0,A=u==null?0:u.length;if(A===0)return 0;h=m(h);for(var B=h!==h,G=h===null,X=hn(h),le=h===o;T<A;){var ae=rc((T+A)/2),he=m(u[ae]),Ee=he!==o,Be=he===null,We=he===he,ut=hn(he);if(B)var Pe=$||We;else le?Pe=We&&($||Ee):G?Pe=We&&Ee&&($||!Be):X?Pe=We&&Ee&&!Be&&($||!ut):Be||ut?Pe=!1:Pe=$?he<=h:he<h;Pe?T=ae+1:A=ae}return vn(A,Z)}function wd(u,h){for(var m=-1,$=u.length,T=0,A=[];++m<$;){var B=u[m],G=h?h(B):B;if(!m||!Ue(G,X)){var X=G;A[T++]=B===0?0:B}}return A}function kd(u){return typeof u=="number"?u:hn(u)?Q:+u}function sr(u){if(typeof u=="string")return u;if(Ze(u))return Vt(u,sr)+"";if(hn(u))return lc?lc.call(u):"";var h=u+"";return h=="0"&&1/u==-qe?"-0":h}function pi(u,h,m){var $=-1,T=pa,A=u.length,B=!0,G=[],X=G;if(m)B=!1,T=Hh;else if(A>=s){var le=h?null:Y0(u);if(le)return Ku(le);B=!1,T=Rs,X=new Ns}else X=h?[]:G;e:for(;++$<A;){var ae=u[$],he=h?h(ae):ae;if(ae=m||ae!==0?ae:0,B&&he===he){for(var Ee=X.length;Ee--;)if(X[Ee]===he)continue e;h&&X.push(he),G.push(ae)}else T(X,he,m)||(X!==G&&X.push(he),G.push(ae))}return G}function mc(u,h){return h=ts(h,u),u=kg(u,h),u==null||delete u[_o(Dr(h))]}function Td(u,h,m,$){return Na(u,h,m(es(u,h)),$)}function La(u,h,m,$){for(var T=u.length,A=$?T:-1;($?A--:++A<T)&&h(u[A],A,u););return m?Ir(u,$?0:A,$?A+1:T):Ir(u,$?A+1:0,$?T:A)}function hg(u,h){var m=u;return m instanceof je&&(m=m.value()),Vh(h,function($,T){return T.func.apply(T.thisArg,ji([$],T.args))},m)}function Cd(u,h,m){var $=u.length;if($<2)return $?pi(u[0]):[];for(var T=-1,A=te($);++T<$;)for(var B=u[T],G=-1;++G<$;)G!=T&&(A[T]=ml(A[T]||B,u[G],h,m));return pi(In(A,1),h,m)}function dg(u,h,m){for(var $=-1,T=u.length,A=h.length,B={};++$<T;){var G=$<A?h[$]:o;m(B,u[$],G)}return B}function Sd(u){return cn(u)?u:[]}function Id(u){return typeof u=="function"?u:Fr}function ts(u,h){return Ze(u)?u:Ha(u,h)?[u]:bc(Tt(u))}var F0=ct;function ns(u,h,m){var $=u.length;return m=m===o?$:m,!h&&m>=$?u:Ir(u,h,m)}var pg=Qh||function(u){return An.clearTimeout(u)};function fg(u,h){if(h)return u.slice();var m=u.length,$=po?po(m):new u.constructor(m);return u.copy($),$}function Rd(u){var h=new u.constructor(u.byteLength);return new dl(h).set(new dl(u)),h}function G0(u,h){var m=h?Rd(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}function U0(u){var h=new u.constructor(u.source,cf.exec(u));return h.lastIndex=u.lastIndex,h}function H0(u){return gl?xt(gl.call(u)):{}}function gg(u,h){var m=h?Rd(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function mg(u,h){if(u!==h){var m=u!==o,$=u===null,T=u===u,A=hn(u),B=h!==o,G=h===null,X=h===h,le=hn(h);if(!G&&!le&&!A&&u>h||A&&B&&X&&!G&&!le||$&&B&&X||!m&&X||!T)return 1;if(!$&&!A&&!le&&u<h||le&&m&&T&&!$&&!A||G&&m&&T||!B&&T||!X)return-1}return 0}function V0(u,h,m){for(var $=-1,T=u.criteria,A=h.criteria,B=T.length,G=m.length;++$<B;){var X=mg(T[$],A[$]);if(X){if($>=G)return X;var le=m[$];return X*(le=="desc"?-1:1)}}return u.index-h.index}function _g(u,h,m,$){for(var T=-1,A=u.length,B=m.length,G=-1,X=h.length,le=_n(A-B,0),ae=te(X+le),he=!$;++G<X;)ae[G]=h[G];for(;++T<B;)(he||T<A)&&(ae[m[T]]=u[T]);for(;le--;)ae[G++]=u[T++];return ae}function vg(u,h,m,$){for(var T=-1,A=u.length,B=-1,G=m.length,X=-1,le=h.length,ae=_n(A-G,0),he=te(ae+le),Ee=!$;++T<ae;)he[T]=u[T];for(var Be=T;++X<le;)he[Be+X]=h[X];for(;++B<G;)(Ee||T<A)&&(he[Be+m[B]]=u[T++]);return he}function lr(u,h){var m=-1,$=u.length;for(h||(h=te($));++m<$;)h[m]=u[m];return h}function Mo(u,h,m,$){var T=!m;m||(m={});for(var A=-1,B=h.length;++A<B;){var G=h[A],X=$?$(m[G],u[G],G,m,u):o;X===o&&(X=u[G]),T?Lo(m,G,X):Cr(m,G,X)}return m}function W0(u,h){return Mo(u,is(u),h)}function z0(u,h){return Mo(u,wl(u),h)}function _c(u,h){return function(m,$){var T=Ze(m)?n0:Te,A=h?h():{};return T(m,u,Fe($,2),A)}}function Ne(u){return ct(function(h,m){var $=-1,T=m.length,A=T>1?m[T-1]:o,B=T>2?m[2]:o;for(A=u.length>3&&typeof A=="function"?(T--,A):o,B&&Nn(m[0],m[1],B)&&(A=T<3?o:A,T=1),h=xt(h);++$<T;){var G=m[$];G&&u(h,G,$,A)}return h})}function ar(u,h){return function(m,$){if(m==null)return m;if(!Mr(m))return u(m,$);for(var T=m.length,A=h?T:-1,B=xt(m);(h?A--:++A<T)&&$(B[A],A,B)!==!1;);return m}}function bn(u){return function(h,m,$){for(var T=-1,A=xt(h),B=$(h),G=B.length;G--;){var X=B[u?G:++T];if(m(A[X],X,A)===!1)break}return h}}function Ps(u,h,m){var $=h&N,T=Qr(u);function A(){var B=this&&this!==An&&this instanceof A?T:u;return B.apply($?m:this,arguments)}return A}function j0(u){return function(h){h=Tt(h);var m=xs(h)?Kr(h):o,$=m?m[0]:h.charAt(0),T=m?ns(m,1).join(""):h.slice(1);return $[u]()+T}}function rs(u){return function(h){return Vh(lp(Fv(h).replace(al,"")),u,"")}}function Qr(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var m=ci(u.prototype),$=u.apply(m,h);return Wt($)?$:m}}function ve(u,h,m){var $=Qr(u);function T(){for(var A=arguments.length,B=te(A),G=A,X=mi(T);G--;)B[G]=arguments[G];var le=A<3&&B[0]!==X&&B[A-1]!==X?[]:li(B,X);if(A-=le.length,A<m)return X0(u,h,os,T.placeholder,o,B,le,o,o,m-A);var ae=this&&this!==An&&this instanceof T?$:u;return kr(ae,this,B)}return T}function go(u){return function(h,m,$){var T=xt(h);if(!Mr(h)){var A=Fe(m,3);h=wn(h),m=function(G){return A(T[G],G,T)}}var B=u(h,m,$);return B>-1?T[A?h[B]:B]:o}}function ur(u){return eo(function(h){var m=h.length,$=m,T=qr.prototype.thru;for(u&&h.reverse();$--;){var A=h[$];if(typeof A!="function")throw new Jr(f);if(T&&!B&&Fo(A)=="wrapper")var B=new qr([],!0)}for($=B?$:m;++$<m;){A=h[$];var G=Fo(A),X=G=="wrapper"?gi(A):o;X&&Us(X[0])&&X[1]==(H|I|W|K)&&!X[4].length&&X[9]==1?B=B[Fo(X[0])].apply(B,X[3]):B=A.length==1&&Us(A)?B[G]():B.thru(A)}return function(){var le=arguments,ae=le[0];if(B&&le.length==1&&Ze(ae))return B.plant(ae).value();for(var he=0,Ee=m?h[he].apply(this,le):ae;++he<m;)Ee=h[he].call(this,Ee);return Ee}})}function os(u,h,m,$,T,A,B,G,X,le){var ae=h&H,he=h&N,Ee=h&w,Be=h&(I|P),We=h&$e,ut=Ee?o:Qr(u);function Pe(){for(var ft=arguments.length,ht=te(ft),Gr=ft;Gr--;)ht[Gr]=arguments[Gr];if(Be)var Zn=mi(Pe),gr=i0(ht,Zn);if($&&(ht=_g(ht,$,T,Be)),A&&(ht=vg(ht,A,B,Be)),ft-=gr,Be&&ft<le){var dn=li(ht,Zn);return X0(u,h,os,Pe.placeholder,m,ht,dn,G,X,le-ft)}var ze=he?m:this,Ln=Ee?ze[u]:u;return ft=ht.length,G?ht=Ar(ht,G):We&&ft>1&&ht.reverse(),ae&&X<ft&&(ht.length=X),this&&this!==An&&this instanceof Pe&&(Ln=ut||Qr(Ln)),Ln.apply(ze,ht)}return Pe}function bg(u,h){return function(m,$){return Qf(m,u,h($),{})}}function Ma(u,h){return function(m,$){var T;if(m===o&&$===o)return h;if(m!==o&&(T=m),$!==o){if(T===o)return $;typeof m=="string"||typeof $=="string"?(m=sr(m),$=sr($)):(m=kd(m),$=kd($)),T=u(m,$)}return T}}function xd(u){return eo(function(h){return h=Vt(h,or(Fe())),ct(function(m){var $=this;return u(h,function(T){return kr(T,$,m)})})})}function fi(u,h){h=h===o?" ":sr(h);var m=h.length;if(m<2)return m?yd(h,u):h;var $=yd(h,Ot(u/Do(h)));return xs(h)?ns(Kr($),0,u).join(""):$.slice(0,u)}function $g(u,h,m,$){var T=h&N,A=Qr(u);function B(){for(var G=-1,X=arguments.length,le=-1,ae=$.length,he=te(ae+X),Ee=this&&this!==An&&this instanceof B?A:u;++le<ae;)he[le]=$[le];for(;X--;)he[le++]=arguments[++G];return kr(Ee,T?m:this,he)}return B}function yg(u){return function(h,m,$){return $&&typeof $!="number"&&Nn(h,m,$)&&(m=$=o),h=Ti(h),m===o?(m=h,h=0):m=Ti(m),$=$===o?h<m?1:-1:Ti($),L0(h,m,$,u)}}function vc(u){return function(h,m){return typeof h=="string"&&typeof m=="string"||(h=Br(h),m=Br(m)),u(h,m)}}function X0(u,h,m,$,T,A,B,G,X,le){var ae=h&I,he=ae?B:o,Ee=ae?o:B,Be=ae?A:o,We=ae?o:A;h|=ae?W:j,h&=~(ae?j:W),h&k||(h&=~(N|w));var ut=[u,h,T,Be,he,We,Ee,G,X,le],Pe=m.apply(o,ut);return Us(u)&&Ld(Pe,ut),Pe.placeholder=$,Md(Pe,u,h)}function Ba(u){var h=mn[u];return function(m,$){if(m=Br(m),$=$==null?0:vn(Qe($),292),$&&Pf(m)){var T=(Tt(m)+"e").split("e"),A=h(T[0]+"e"+(+T[1]+$));return T=(Tt(A)+"e").split("e"),+(T[0]+"e"+(+T[1]-$))}return h(m)}}var Y0=Ds&&1/Ku(new Ds([,-0]))[1]==qe?function(u){return new Ds(u)}:xi;function Pa(u){return function(h){var m=$n(h);return m==Rt?Yu(h):m==tt?a0(h):o0(h,u(h))}}function Bo(u,h,m,$,T,A,B,G){var X=h&w;if(!X&&typeof u!="function")throw new Jr(f);var le=$?$.length:0;if(le||(h&=~(W|j),$=T=o),B=B===o?B:_n(Qe(B),0),G=G===o?G:Qe(G),le-=T?T.length:0,h&j){var ae=$,he=T;$=T=o}var Ee=X?o:gi(u),Be=[u,h,m,$,T,ae,he,A,B,G];if(Ee&&yn(Be,Ee),u=Be[0],h=Be[1],m=Be[2],$=Be[3],T=Be[4],G=Be[9]=Be[9]===o?X?0:u.length:_n(Be[9]-le,0),!G&&h&(I|P)&&(h&=~(I|P)),!h||h==N)var We=Ps(u,h,m);else h==I||h==P?We=ve(u,h,G):(h==W||h==(N|W))&&!T.length?We=$g(u,h,m,$):We=os.apply(o,Be);var ut=Ee?Ed:Ld;return Md(ut(We,Be),u,h)}function Dn(u,h,m,$){return u===o||Ue(u,Ki[m])&&!kt.call($,m)?h:u}function Po(u,h,m,$,T,A){return Wt(u)&&Wt(h)&&(A.set(h,u),Da(u,h,o,Po,A),A.delete(h)),u}function Rn(u){return on(u)?o:u}function Kn(u,h,m,$,T,A){var B=m&D,G=u.length,X=h.length;if(G!=X&&!(B&&X>G))return!1;var le=A.get(u),ae=A.get(h);if(le&&ae)return le==h&&ae==u;var he=-1,Ee=!0,Be=m&L?new Ns:o;for(A.set(u,h),A.set(h,u);++he<G;){var We=u[he],ut=h[he];if($)var Pe=B?$(ut,We,he,h,u,A):$(We,ut,he,u,h,A);if(Pe!==o){if(Pe)continue;Ee=!1;break}if(Be){if(!Hu(h,function(ft,ht){if(!Rs(Be,ht)&&(We===ft||T(We,ft,m,$,A)))return Be.push(ht)})){Ee=!1;break}}else if(!(We===ut||T(We,ut,m,$,A))){Ee=!1;break}}return A.delete(u),A.delete(h),Ee}function bl(u,h,m,$,T,A,B){switch(m){case rr:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case Er:return!(u.byteLength!=h.byteLength||!A(new dl(u),new dl(h)));case It:case Ct:case Gt:return Ue(+u,+h);case jn:return u.name==h.name&&u.message==h.message;case ye:case Oe:return u==h+"";case Rt:var G=Yu;case tt:var X=$&D;if(G||(G=Ku),u.size!=h.size&&!X)return!1;var le=B.get(u);if(le)return le==h;$|=L,B.set(u,h);var ae=Kn(G(u),G(h),$,T,A,B);return B.delete(u),ae;case en:if(gl)return gl.call(u)==gl.call(h)}return!1}function Fa(u,h,m,$,T,A){var B=m&D,G=$l(u),X=G.length,le=$l(h),ae=le.length;if(X!=ae&&!B)return!1;for(var he=X;he--;){var Ee=G[he];if(!(B?Ee in h:kt.call(h,Ee)))return!1}var Be=A.get(u),We=A.get(h);if(Be&&We)return Be==h&&We==u;var ut=!0;A.set(u,h),A.set(h,u);for(var Pe=B;++he<X;){Ee=G[he];var ft=u[Ee],ht=h[Ee];if($)var Gr=B?$(ht,ft,Ee,h,u,A):$(ft,ht,Ee,u,h,A);if(!(Gr===o?ft===ht||T(ft,ht,m,$,A):Gr)){ut=!1;break}Pe||(Pe=Ee=="constructor")}if(ut&&!Pe){var Zn=u.constructor,gr=h.constructor;Zn!=gr&&"constructor"in u&&"constructor"in h&&!(typeof Zn=="function"&&Zn instanceof Zn&&typeof gr=="function"&&gr instanceof gr)&&(ut=!1)}return A.delete(u),A.delete(h),ut}function eo(u){return kl(wg(u,o,Fd),u+"")}function $l(u){return hd(u,wn,is)}function Fs(u){return hd(u,qn,wl)}var gi=sc?function(u){return sc.get(u)}:xi;function Fo(u){for(var h=u.name+"",m=Os[h],$=kt.call(Os,h)?m.length:0;$--;){var T=m[$],A=T.func;if(A==null||A==u)return T.name}return h}function mi(u){var h=kt.call(x,"placeholder")?x:u;return h.placeholder}function Fe(){var u=x.iteratee||Tm;return u=u===Tm?md:u,arguments.length?u(arguments[0],arguments[1]):u}function Gs(u,h){var m=u.__data__;return Eg(h)?m[typeof h=="string"?"string":"hash"]:m.map}function yl(u){for(var h=wn(u),m=h.length;m--;){var $=h[m],T=u[$];h[m]=[$,T,mo(T)]}return h}function Go(u,h){var m=Af(u,h);return gd(m)?m:o}function El(u){var h=kt.call(u,Sn),m=u[Sn];try{u[Sn]=o;var $=!0}catch{}var T=Mt.call(u);return $&&(h?u[Sn]=m:delete u[Sn]),T}var is=ed?function(u){return u==null?[]:(u=xt(u),zi(ed(u),function(h){return Zh.call(u,h)}))}:Vn,wl=ed?function(u){for(var h=[];u;)ji(h,is(u)),u=va(u);return h}:Vn,$n=Un;(ya&&$n(new ya(new ArrayBuffer(1)))!=rr||Ea&&$n(new Ea)!=Rt||wa&&$n(wa.resolve())!=yr||Ds&&$n(new Ds)!=tt||pl&&$n(new pl)!=tn)&&($n=function(u){var h=Un(u),m=h==Fn?u.constructor:o,$=m?ge(m):"";if($)switch($){case td:return rr;case _0:return Rt;case v0:return yr;case b0:return tt;case Ff:return tn}return h});function ss(u,h,m){for(var $=-1,T=m.length;++$<T;){var A=m[$],B=A.size;switch(A.type){case"drop":u+=B;break;case"dropRight":h-=B;break;case"take":h=vn(h,u+B);break;case"takeRight":u=_n(u,h-B);break}}return{start:u,end:h}}function Ga(u){var h=u.match(uf);return h?h[1].split(G_):[]}function Ad(u,h,m){h=ts(h,u);for(var $=-1,T=h.length,A=!1;++$<T;){var B=_o(h[$]);if(!(A=u!=null&&m(u,B)))break;u=u[B]}return A||++$!=T?A:(T=u==null?0:u.length,!!T&&hs(T)&&cr(B,T)&&(Ze(u)||Ei(u)))}function Ua(u){var h=u.length,m=new u.constructor(h);return h&&typeof u[0]=="string"&&kt.call(u,"index")&&(m.index=u.index,m.input=u.input),m}function Dd(u){return typeof u.constructor=="function"&&!xr(u)?ci(va(u)):{}}function rt(u,h,m){var $=u.constructor;switch(h){case Er:return Rd(u);case It:case Ct:return new $(+u);case rr:return G0(u,m);case uo:case bh:case Ui:case na:case ra:case ol:case $h:case oa:case yh:return gg(u,m);case Rt:return new $;case Gt:case Oe:return new $(u);case ye:return U0(u);case tt:return new $;case en:return H0(u)}}function et(u,h){var m=h.length;if(!m)return u;var $=m-1;return h[$]=(m>1?"& ":"")+h[$],h=h.join(m>2?", ":" "),u.replace(af,`{
/* [wrapped with `+h+`] */
`)}function On(u){return Ze(u)||Ei(u)||!!(Mf&&u&&u[Mf])}function cr(u,h){var m=typeof u;return h=h??z,!!h&&(m=="number"||m!="symbol"&&Nu.test(u))&&u>-1&&u%1==0&&u<h}function Nn(u,h,m){if(!Wt(m))return!1;var $=typeof h;return($=="number"?Mr(m)&&cr(h,m.length):$=="string"&&h in m)?Ue(m[h],u):!1}function Ha(u,h){if(Ze(u))return!1;var m=typeof u;return m=="number"||m=="symbol"||m=="boolean"||u==null||hn(u)?!0:P_.test(u)||!sf.test(u)||h!=null&&u in xt(h)}function Eg(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function Us(u){var h=Fo(u),m=x[h];if(typeof m!="function"||!(h in je.prototype))return!1;if(u===m)return!0;var $=gi(m);return!!$&&u===$[0]}function Uo(u){return!!Zu&&Zu in u}var Rr=ul?us:cp;function xr(u){var h=u&&u.constructor,m=typeof h=="function"&&h.prototype||Ki;return u===m}function mo(u){return u===u&&!Wt(u)}function Od(u,h){return function(m){return m==null?!1:m[u]===h&&(h!==o||u in xt(m))}}function Nd(u){var h=Or(u,function($){return m.size===_&&m.clear(),$}),m=h.cache;return h}function yn(u,h){var m=u[1],$=h[1],T=m|$,A=T<(N|w|H),B=$==H&&m==I||$==H&&m==K&&u[7].length<=h[8]||$==(H|K)&&h[7].length<=h[8]&&m==I;if(!(A||B))return u;$&N&&(u[2]=h[2],T|=m&N?0:k);var G=h[3];if(G){var X=u[3];u[3]=X?_g(X,G,h[4]):G,u[4]=X?li(u[3],b):h[4]}return G=h[5],G&&(X=u[5],u[5]=X?vg(X,G,h[6]):G,u[6]=X?li(u[5],b):h[6]),G=h[7],G&&(u[7]=G),$&H&&(u[8]=u[8]==null?h[8]:vn(u[8],h[8])),u[9]==null&&(u[9]=h[9]),u[0]=h[0],u[1]=T,u}function K0(u){var h=[];if(u!=null)for(var m in xt(u))h.push(m);return h}function J0(u){return Mt.call(u)}function wg(u,h,m){return h=_n(h===o?u.length-1:h,0),function(){for(var $=arguments,T=-1,A=_n($.length-h,0),B=te(A);++T<A;)B[T]=$[h+T];T=-1;for(var G=te(h+1);++T<h;)G[T]=$[T];return G[h]=m(B),kr(u,this,G)}}function kg(u,h){return h.length<2?u:es(u,Ir(h,0,-1))}function Ar(u,h){for(var m=u.length,$=vn(h.length,m),T=lr(u);$--;){var A=h[$];u[$]=cr(A,m)?T[A]:o}return u}function Ve(u,h){if(!(h==="constructor"&&typeof u[h]=="function")&&h!="__proto__")return u[h]}var Ld=Va(Ed),_i=No||function(u,h){return An.setTimeout(u,h)},kl=Va(ug);function Md(u,h,m){var $=h+"";return kl(u,et($,vi(Ga($),m)))}function Va(u){var h=0,m=0;return function(){var $=g0(),T=xe-($-m);if(m=$,T>0){if(++h>=ne)return arguments[0]}else h=0;return u.apply(o,arguments)}}function Tl(u,h){var m=-1,$=u.length,T=$-1;for(h=h===o?$:h;++m<h;){var A=$d(m,T),B=u[A];u[A]=u[m],u[m]=B}return u.length=h,u}var bc=Nd(function(u){var h=[];return u.charCodeAt(0)===46&&h.push(""),u.replace(Sh,function(m,$,T,A){h.push(T?A.replace(Du,"$1"):$||m)}),h});function _o(u){if(typeof u=="string"||hn(u))return u;var h=u+"";return h=="0"&&1/u==-qe?"-0":h}function ge(u){if(u!=null){try{return ai.call(u)}catch{}try{return u+""}catch{}}return""}function vi(u,h){return Yr(be,function(m){var $="_."+m[0];h&m[1]&&!pa(u,$)&&u.push($)}),u.sort()}function vo(u){if(u instanceof je)return u.clone();var h=new qr(u.__wrapped__,u.__chain__);return h.__actions__=lr(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}function Tg(u,h,m){(m?Nn(u,h,m):h===o)?h=1:h=_n(Qe(h),0);var $=u==null?0:u.length;if(!$||h<1)return[];for(var T=0,A=0,B=te(Ot($/h));T<$;)B[A++]=Ir(u,T,T+=h);return B}function wy(u){for(var h=-1,m=u==null?0:u.length,$=0,T=[];++h<m;){var A=u[h];A&&(T[$++]=A)}return T}function q0(){var u=arguments.length;if(!u)return[];for(var h=te(u-1),m=arguments[0],$=u;$--;)h[$-1]=arguments[$];return ji(Ze(m)?lr(m):[m],In(h,1))}var Bd=ct(function(u,h){return cn(u)?ml(u,In(h,1,cn,!0)):[]}),Cl=ct(function(u,h){var m=Dr(h);return cn(m)&&(m=o),cn(u)?ml(u,In(h,1,cn,!0),Fe(m,2)):[]}),Pd=ct(function(u,h){var m=Dr(h);return cn(m)&&(m=o),cn(u)?ml(u,In(h,1,cn,!0),o,m):[]});function to(u,h,m){var $=u==null?0:u.length;return $?(h=m||h===o?1:Qe(h),Ir(u,h<0?0:h,$)):[]}function Cg(u,h,m){var $=u==null?0:u.length;return $?(h=m||h===o?1:Qe(h),h=$-h,Ir(u,0,h<0?0:h)):[]}function Z0(u,h){return u&&u.length?La(u,Fe(h,3),!0,!0):[]}function Q0(u,h){return u&&u.length?La(u,Fe(h,3),!0):[]}function ev(u,h,m,$){var T=u==null?0:u.length;return T?(m&&typeof m!="number"&&Nn(u,h,m)&&(m=0,$=T),ad(u,h,m,$)):[]}function $c(u,h,m){var $=u==null?0:u.length;if(!$)return-1;var T=m==null?0:Qe(m);return T<0&&(T=_n($+T,0)),Xi(u,Fe(h,3),T)}function yc(u,h,m){var $=u==null?0:u.length;if(!$)return-1;var T=$-1;return m!==o&&(T=Qe(m),T=m<0?_n($+T,0):vn(T,$-1)),Xi(u,Fe(h,3),T,!0)}function Fd(u){var h=u==null?0:u.length;return h?In(u,1):[]}function tv(u){var h=u==null?0:u.length;return h?In(u,qe):[]}function nv(u,h){var m=u==null?0:u.length;return m?(h=h===o?1:Qe(h),In(u,h)):[]}function rv(u){for(var h=-1,m=u==null?0:u.length,$={};++h<m;){var T=u[h];$[T[0]]=T[1]}return $}function ov(u){return u&&u.length?u[0]:o}function iv(u,h,m){var $=u==null?0:u.length;if(!$)return-1;var T=m==null?0:Qe(m);return T<0&&(T=_n($+T,0)),Yi(u,h,T)}function Sg(u){var h=u==null?0:u.length;return h?Ir(u,0,-1):[]}var Gd=ct(function(u){var h=Vt(u,Sd);return h.length&&h[0]===u[0]?Aa(h):[]}),Wa=ct(function(u){var h=Dr(u),m=Vt(u,Sd);return h===Dr(m)?h=o:m.pop(),m.length&&m[0]===u[0]?Aa(m,Fe(h,2)):[]}),sv=ct(function(u){var h=Dr(u),m=Vt(u,Sd);return h=typeof h=="function"?h:o,h&&m.pop(),m.length&&m[0]===u[0]?Aa(m,o,h):[]});function Ig(u,h){return u==null?"":f0.call(u,h)}function Dr(u){var h=u==null?0:u.length;return h?u[h-1]:o}function ls(u,h,m){var $=u==null?0:u.length;if(!$)return-1;var T=$;return m!==o&&(T=Qe(m),T=T<0?_n($+T,0):vn(T,$-1)),h===h?c0(u,h,T):Xi(u,If,T,!0)}function lv(u,h){return u&&u.length?vd(u,Qe(h)):o}var av=ct(bi);function bi(u,h){return u&&u.length&&h&&h.length?Oa(u,h):u}function Rg(u,h,m){return u&&u.length&&h&&h.length?Oa(u,h,Fe(m,2)):u}function xg(u,h,m){return u&&u.length&&h&&h.length?Oa(u,h,o,m):u}var Ag=eo(function(u,h){var m=u==null?0:u.length,$=od(u,h);return ag(u,Vt(h,function(T){return cr(T,m)?+T:T}).sort(mg)),$});function Yt(u,h){var m=[];if(!(u&&u.length))return m;var $=-1,T=[],A=u.length;for(h=Fe(h,3);++$<A;){var B=u[$];h(B,$,u)&&(m.push(B),T.push($))}return ag(u,T),m}function U(u){return u==null?u:m0.call(u)}function uv(u,h,m){var $=u==null?0:u.length;return $?(m&&typeof m!="number"&&Nn(u,h,m)?(h=0,m=$):(h=h==null?0:Qe(h),m=m===o?$:Qe(m)),Ir(u,h,m)):[]}function $i(u,h){return fc(u,h)}function cv(u,h,m){return gc(u,h,Fe(m,2))}function hv(u,h){var m=u==null?0:u.length;if(m){var $=fc(u,h);if($<m&&Ue(u[$],h))return $}return-1}function ky(u,h){return fc(u,h,!0)}function Hs(u,h,m){return gc(u,h,Fe(m,2),!0)}function En(u,h){var m=u==null?0:u.length;if(m){var $=fc(u,h,!0)-1;if(Ue(u[$],h))return $}return-1}function Ud(u){return u&&u.length?wd(u):[]}function Ty(u,h){return u&&u.length?wd(u,Fe(h,2)):[]}function Jn(u){var h=u==null?0:u.length;return h?Ir(u,1,h):[]}function Ec(u,h,m){return u&&u.length?(h=m||h===o?1:Qe(h),Ir(u,0,h<0?0:h)):[]}function dv(u,h,m){var $=u==null?0:u.length;return $?(h=m||h===o?1:Qe(h),h=$-h,Ir(u,h<0?0:h,$)):[]}function wc(u,h){return u&&u.length?La(u,Fe(h,3),!1,!0):[]}function pv(u,h){return u&&u.length?La(u,Fe(h,3)):[]}var fv=ct(function(u){return pi(In(u,1,cn,!0))}),za=ct(function(u){var h=Dr(u);return cn(h)&&(h=o),pi(In(u,1,cn,!0),Fe(h,2))}),gv=ct(function(u){var h=Dr(u);return h=typeof h=="function"?h:o,pi(In(u,1,cn,!0),o,h)});function mv(u){return u&&u.length?pi(u):[]}function _v(u,h){return u&&u.length?pi(u,Fe(h,2)):[]}function Hd(u,h){return h=typeof h=="function"?h:o,u&&u.length?pi(u,o,h):[]}function kc(u){if(!(u&&u.length))return[];var h=0;return u=zi(u,function(m){if(cn(m))return h=_n(m.length,h),!0}),ju(h,function(m){return Vt(u,Vu(m))})}function Dg(u,h){if(!(u&&u.length))return[];var m=kc(u);return h==null?m:Vt(m,function($){return kr(h,o,$)})}var Tc=ct(function(u,h){return cn(u)?ml(u,h):[]}),ja=ct(function(u){return Cd(zi(u,cn))}),Og=ct(function(u){var h=Dr(u);return cn(h)&&(h=o),Cd(zi(u,cn),Fe(h,2))}),vv=ct(function(u){var h=Dr(u);return h=typeof h=="function"?h:o,Cd(zi(u,cn),o,h)}),bv=ct(kc);function Sl(u,h){return dg(u||[],h||[],Cr)}function Ng(u,h){return dg(u||[],h||[],Na)}var Ce=ct(function(u){var h=u.length,m=h>1?u[h-1]:o;return m=typeof m=="function"?(u.pop(),m):o,Dg(u,m)});function gt(u){var h=x(u);return h.__chain__=!0,h}function Xa(u,h){return h(u),u}function Il(u,h){return h(u)}var Lg=eo(function(u){var h=u.length,m=h?u[0]:0,$=this.__wrapped__,T=function(A){return od(A,u)};return h>1||this.__actions__.length||!($ instanceof je)||!cr(m)?this.thru(T):($=$.slice(m,+m+(h?1:0)),$.__actions__.push({func:Il,args:[T],thisArg:o}),new qr($,this.__chain__).thru(function(A){return h&&!A.length&&A.push(o),A}))});function Vd(){return gt(this)}function Cc(){return new qr(this.value(),this.__chain__)}function Mg(){this.__values__===o&&(this.__values__=em(this.value()));var u=this.__index__>=this.__values__.length,h=u?o:this.__values__[this.__index__++];return{done:u,value:h}}function $v(){return this}function Bg(u){for(var h,m=this;m instanceof ac;){var $=vo(m);$.__index__=0,$.__values__=o,h?T.__wrapped__=$:h=$;var T=$;m=m.__wrapped__}return T.__wrapped__=u,h}function Wd(){var u=this.__wrapped__;if(u instanceof je){var h=u;return this.__actions__.length&&(h=new je(this)),h=h.reverse(),h.__actions__.push({func:Il,args:[U],thisArg:o}),new qr(h,this.__chain__)}return this.thru(U)}function Pg(){return hg(this.__wrapped__,this.__actions__)}var Rl=_c(function(u,h,m){kt.call(u,m)?++u[m]:Lo(u,m,1)});function Ya(u,h,m){var $=Ze(u)?Tf:qf;return m&&Nn(u,h,m)&&(h=o),$(u,Fe(h,3))}function Ka(u,h){var m=Ze(u)?zi:Ra;return m(u,Fe(h,3))}var vt=go($c),Ja=go(yc);function xl(u,h){return In(as(u,h),1)}function Fg(u,h){return In(as(u,h),qe)}function Vs(u,h,m){return m=m===o?1:Qe(m),In(as(u,h),m)}function Gg(u,h){var m=Ze(u)?Yr:di;return m(u,Fe(h,3))}function zd(u,h){var m=Ze(u)?r0:ld;return m(u,Fe(h,3))}var nn=_c(function(u,h,m){kt.call(u,m)?u[m].push(h):Lo(u,m,[h])});function Sc(u,h,m,$){u=Mr(u)?u:Si(u),m=m&&!$?Qe(m):0;var T=u.length;return m<0&&(m=_n(T+m,0)),Bc(u)?m<=T&&u.indexOf(h,m)>-1:!!T&&Yi(u,h,m)>-1}var jd=ct(function(u,h,m){var $=-1,T=typeof h=="function",A=Mr(u)?te(u.length):[];return di(u,function(B){A[++$]=T?kr(h,B,m):_l(B,h,m)}),A}),Ic=_c(function(u,h,m){Lo(u,m,h)});function as(u,h){var m=Ze(u)?Vt:og;return m(u,Fe(h,3))}function yv(u,h,m,$){return u==null?[]:(Ze(h)||(h=h==null?[]:[h]),m=$?o:m,Ze(m)||(m=m==null?[]:[m]),dc(u,h,m))}var Ev=_c(function(u,h,m){u[m?0:1].push(h)},function(){return[[],[]]});function Al(u,h,m){var $=Ze(u)?Vh:jh,T=arguments.length<3;return $(u,Fe(h,4),m,T,di)}function Ug(u,h,m){var $=Ze(u)?fa:jh,T=arguments.length<3;return $(u,Fe(h,4),m,T,ld)}function Hg(u,h){var m=Ze(u)?zi:Ra;return m(u,Nr(Fe(h,3)))}function bo(u){var h=Ze(u)?Le:M0;return h(u)}function Rc(u,h,m){(m?Nn(u,h,m):h===o)?h=1:h=Qe(h);var $=Ze(u)?Tr:B0;return $(u,h)}function Vg(u){var h=Ze(u)?Gn:cg;return h(u)}function Wg(u){if(u==null)return 0;if(Mr(u))return Bc(u)?Do(u):u.length;var h=$n(u);return h==Rt||h==tt?u.size:vl(u).length}function wv(u,h,m){var $=Ze(u)?Hu:P0;return m&&Nn(u,h,m)&&(h=o),$(u,Fe(h,3))}var kv=ct(function(u,h){if(u==null)return[];var m=h.length;return m>1&&Nn(u,h[0],h[1])?h=[]:m>2&&Nn(h[0],h[1],h[2])&&(h=[h[0]]),dc(u,In(h,1),[])}),Dl=p0||function(){return An.Date.now()};function un(u,h){if(typeof h!="function")throw new Jr(f);return u=Qe(u),function(){if(--u<1)return h.apply(this,arguments)}}function Kt(u,h,m){return h=m?o:h,h=u&&h==null?u.length:h,Bo(u,H,o,o,o,o,h)}function Xd(u,h){var m;if(typeof h!="function")throw new Jr(f);return u=Qe(u),function(){return--u>0&&(m=h.apply(this,arguments)),u<=1&&(h=o),m}}var xc=ct(function(u,h,m){var $=N;if(m.length){var T=li(m,mi(xc));$|=W}return Bo(u,$,h,m,T)}),zg=ct(function(u,h,m){var $=N|w;if(m.length){var T=li(m,mi(zg));$|=W}return Bo(h,$,u,m,T)});function Hn(u,h,m){h=m?o:h;var $=Bo(u,I,o,o,o,o,o,h);return $.placeholder=Hn.placeholder,$}function qa(u,h,m){h=m?o:h;var $=Bo(u,P,o,o,o,o,o,h);return $.placeholder=qa.placeholder,$}function Ac(u,h,m){var $,T,A,B,G,X,le=0,ae=!1,he=!1,Ee=!0;if(typeof u!="function")throw new Jr(f);h=Br(h)||0,Wt(m)&&(ae=!!m.leading,he="maxWait"in m,A=he?_n(Br(m.maxWait)||0,h):A,Ee="trailing"in m?!!m.trailing:Ee);function Be(dn){var ze=$,Ln=T;return $=T=o,le=dn,B=u.apply(Ln,ze),B}function We(dn){return le=dn,G=_i(ft,h),ae?Be(dn):B}function ut(dn){var ze=dn-X,Ln=dn-le,zo=h-ze;return he?vn(zo,A-Ln):zo}function Pe(dn){var ze=dn-X,Ln=dn-le;return X===o||ze>=h||ze<0||he&&Ln>=A}function ft(){var dn=Dl();if(Pe(dn))return ht(dn);G=_i(ft,ut(dn))}function ht(dn){return G=o,Ee&&$?Be(dn):($=T=o,B)}function Gr(){G!==o&&pg(G),le=0,$=X=T=G=o}function Zn(){return G===o?B:ht(Dl())}function gr(){var dn=Dl(),ze=Pe(dn);if($=arguments,T=this,X=dn,ze){if(G===o)return We(X);if(he)return pg(G),G=_i(ft,h),Be(X)}return G===o&&(G=_i(ft,h)),B}return gr.cancel=Gr,gr.flush=Zn,gr}var Yd=ct(function(u,h){return sd(u,1,h)}),Za=ct(function(u,h,m){return sd(u,Br(h)||0,m)});function Qa(u){return Bo(u,$e)}function Or(u,h){if(typeof u!="function"||h!=null&&typeof h!="function")throw new Jr(f);var m=function(){var $=arguments,T=h?h.apply(this,$):$[0],A=m.cache;if(A.has(T))return A.get(T);var B=u.apply(this,$);return m.cache=A.set(T,B)||A,B};return m.cache=new(Or.Cache||Zr),m}Or.Cache=Zr;function Nr(u){if(typeof u!="function")throw new Jr(f);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}function pt(u){return Xd(2,u)}var rn=F0(function(u,h){h=h.length==1&&Ze(h[0])?Vt(h[0],or(Fe())):Vt(In(h,1),or(Fe()));var m=h.length;return ct(function($){for(var T=-1,A=vn($.length,m);++T<A;)$[T]=h[T].call(this,$[T]);return kr(u,this,$)})}),Dc=ct(function(u,h){var m=li(h,mi(Dc));return Bo(u,W,o,h,m)}),Tv=ct(function(u,h){var m=li(h,mi(Tv));return Bo(u,j,o,h,m)}),Cy=eo(function(u,h){return Bo(u,K,o,o,o,h)});function Lr(u,h){if(typeof u!="function")throw new Jr(f);return h=h===o?h:Qe(h),ct(u,h)}function Ht(u,h){if(typeof u!="function")throw new Jr(f);return h=h==null?0:_n(Qe(h),0),ct(function(m){var $=m[h],T=ns(m,0,h);return $&&ji(T,$),kr(u,this,T)})}function Oc(u,h,m){var $=!0,T=!0;if(typeof u!="function")throw new Jr(f);return Wt(m)&&($="leading"in m?!!m.leading:$,T="trailing"in m?!!m.trailing:T),Ac(u,h,{leading:$,maxWait:h,trailing:T})}function jg(u){return Kt(u,1)}function Xg(u,h){return Dc(Id(h),u)}function yi(){if(!arguments.length)return[];var u=arguments[0];return Ze(u)?u:[u]}function Sy(u){return Sr(u,S)}function Iy(u,h){return h=typeof h=="function"?h:o,Sr(u,S,h)}function Yg(u){return Sr(u,y|S)}function Kg(u,h){return h=typeof h=="function"?h:o,Sr(u,y|S,h)}function zt(u,h){return h==null||id(u,h,wn(h))}function Ue(u,h){return u===h||u!==u&&h!==h}var Jg=vc(dd),Cv=vc(function(u,h){return u>=h}),Ei=eg(function(){return arguments}())?eg:function(u){return Jt(u)&&kt.call(u,"callee")&&!Zh.call(u,"callee")},Ze=te.isArray,Ol=Gh?or(Gh):tg;function Mr(u){return u!=null&&hs(u.length)&&!us(u)}function cn(u){return Jt(u)&&Mr(u)}function Kd(u){return u===!0||u===!1||Jt(u)&&Un(u)==It}var wi=Bf||cp,Sv=Wi?or(Wi):x0;function Xe(u){return Jt(u)&&u.nodeType===1&&!on(u)}function Iv(u){if(u==null)return!0;if(Mr(u)&&(Ze(u)||typeof u=="string"||typeof u.splice=="function"||wi(u)||zs(u)||Ei(u)))return!u.length;var h=$n(u);if(h==Rt||h==tt)return!u.size;if(xr(u))return!vl(u).length;for(var m in u)if(kt.call(u,m))return!1;return!0}function Ws(u,h){return Ms(u,h)}function Ho(u,h,m){m=typeof m=="function"?m:o;var $=m?m(u,h):o;return $===o?Ms(u,h,o,m):!!$}function Jd(u){if(!Jt(u))return!1;var h=Un(u);return h==jn||h==we||typeof u.message=="string"&&typeof u.name=="string"&&!on(u)}function eu(u){return typeof u=="number"&&Pf(u)}function us(u){if(!Wt(u))return!1;var h=Un(u);return h==Xn||h==ao||h==Ke||h==J}function cs(u){return typeof u=="number"&&u==Qe(u)}function hs(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=z}function Wt(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function Jt(u){return u!=null&&typeof u=="object"}var Nl=Uu?or(Uu):rg;function Nc(u,h){return u===h||fd(u,h,yl(h))}function Lc(u,h,m){return m=typeof m=="function"?m:o,fd(u,h,yl(h),m)}function Mc(u){return ki(u)&&u!=+u}function Rv(u){if(Rr(u))throw new nt(c);return gd(u)}function qg(u){return u===null}function qd(u){return u==null}function ki(u){return typeof u=="number"||Jt(u)&&Un(u)==Gt}function on(u){if(!Jt(u)||Un(u)!=Fn)return!1;var h=va(u);if(h===null)return!0;var m=kt.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&ai.call(m)==Qu}var Zd=Uh?or(Uh):A0;function no(u){return cs(u)&&u>=-z&&u<=z}var Zg=wf?or(wf):D0;function Bc(u){return typeof u=="string"||!Ze(u)&&Jt(u)&&Un(u)==Oe}function hn(u){return typeof u=="symbol"||Jt(u)&&Un(u)==en}var zs=kf?or(kf):O0;function Pc(u){return u===o}function Fc(u){return Jt(u)&&$n(u)==tn}function Qg(u){return Jt(u)&&Un(u)==ks}var Gc=vc(Bs),bt=vc(function(u,h){return u<=h});function em(u){if(!u)return[];if(Mr(u))return Bc(u)?Kr(u):lr(u);if($a&&u[$a])return Yh(u[$a]());var h=$n(u),m=h==Rt?Yu:h==tt?Ku:Si;return m(u)}function Ti(u){if(!u)return u===0?u:0;if(u=Br(u),u===qe||u===-qe){var h=u<0?-1:1;return h*Y}return u===u?u:0}function Qe(u){var h=Ti(u),m=h%1;return h===h?m?h-m:h:0}function Qd(u){return u?Qi(Qe(u),0,ee):0}function Br(u){if(typeof u=="number")return u;if(hn(u))return Q;if(Wt(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=Wt(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=_a(u);var m=hf.test(u);return m||oi.test(u)?e0(u.slice(2),m?2:8):Ih.test(u)?Q:+u}function ue(u){return Mo(u,qn(u))}function xv(u){return u?Qi(Qe(u),-z,z):u===0?u:0}function Tt(u){return u==null?"":sr(u)}var Uc=Ne(function(u,h){if(xr(h)||Mr(h)){Mo(h,wn(h),u);return}for(var m in h)kt.call(h,m)&&Cr(u,m,h[m])}),tm=Ne(function(u,h){Mo(h,qn(h),u)}),$o=Ne(function(u,h,m,$){Mo(h,qn(h),u,$)}),nm=Ne(function(u,h,m,$){Mo(h,wn(h),u,$)}),hr=eo(od);function Av(u,h){var m=ci(u);return h==null?m:Xt(m,h)}var ep=ct(function(u,h){u=xt(u);var m=-1,$=h.length,T=$>2?h[2]:o;for(T&&Nn(h[0],h[1],T)&&($=1);++m<$;)for(var A=h[m],B=qn(A),G=-1,X=B.length;++G<X;){var le=B[G],ae=u[le];(ae===o||Ue(ae,Ki[le])&&!kt.call(u,le))&&(u[le]=A[le])}return u}),tp=ct(function(u){return u.push(o,Po),kr(np,o,u)});function rm(u,h){return Wh(u,Fe(h,3),fo)}function yo(u,h){return Wh(u,Fe(h,3),hc)}function Dv(u,h){return u==null?u:ud(u,Fe(h,3),qn)}function Ov(u,h){return u==null?u:cd(u,Fe(h,3),qn)}function tu(u,h){return u&&fo(u,Fe(h,3))}function om(u,h){return u&&hc(u,Fe(h,3))}function im(u){return u==null?[]:xa(u,wn(u))}function sm(u){return u==null?[]:xa(u,qn(u))}function Ci(u,h,m){var $=u==null?o:es(u,h);return $===o?m:$}function lm(u,h){return u!=null&&Ad(u,h,Zf)}function Hc(u,h){return u!=null&&Ad(u,h,Ls)}var am=bg(function(u,h,m){h!=null&&typeof h.toString!="function"&&(h=Mt.call(h)),u[h]=m},fr(Fr)),um=bg(function(u,h,m){h!=null&&typeof h.toString!="function"&&(h=Mt.call(h)),kt.call(u,h)?u[h].push(m):u[h]=[m]},Fe),cm=ct(_l);function wn(u){return Mr(u)?Sa(u):vl(u)}function qn(u){return Mr(u)?Sa(u,!0):N0(u)}function hm(u,h){var m={};return h=Fe(h,3),fo(u,function($,T,A){Lo(m,h($,T,A),$)}),m}function dm(u,h){var m={};return h=Fe(h,3),fo(u,function($,T,A){Lo(m,T,h($,T,A))}),m}var pm=Ne(function(u,h,m){Da(u,h,m)}),np=Ne(function(u,h,m,$){Da(u,h,m,$)}),dr=eo(function(u,h){var m={};if(u==null)return m;var $=!1;h=Vt(h,function(A){return A=ts(A,u),$||($=A.length>1),A}),Mo(u,Fs(u),m),$&&(m=Sr(m,y|E|S,Rn));for(var T=h.length;T--;)mc(m,h[T]);return m});function Nv(u,h){return nu(u,Nr(Fe(h)))}var rp=eo(function(u,h){return u==null?{}:lg(u,h)});function nu(u,h){if(u==null)return{};var m=Vt(Fs(u),function($){return[$]});return h=Fe(h),pc(u,m,function($,T){return h($,T[0])})}function at(u,h,m){h=ts(h,u);var $=-1,T=h.length;for(T||(T=1,u=o);++$<T;){var A=u==null?o:u[_o(h[$])];A===o&&($=T,A=m),u=us(A)?A.call(u):A}return u}function op(u,h,m){return u==null?u:Na(u,h,m)}function Ll(u,h,m,$){return $=typeof $=="function"?$:o,u==null?u:Na(u,h,m,$)}var Pr=Pa(wn),js=Pa(qn);function Lv(u,h,m){var $=Ze(u),T=$||wi(u)||zs(u);if(h=Fe(h,4),m==null){var A=u&&u.constructor;T?m=$?new A:[]:Wt(u)?m=us(A)?ci(va(u)):{}:m={}}return(T?Yr:fo)(u,function(B,G,X){return h(m,B,G,X)}),m}function ru(u,h){return u==null?!0:mc(u,h)}function fm(u,h,m){return u==null?u:Td(u,h,Id(m))}function gm(u,h,m,$){return $=typeof $=="function"?$:o,u==null?u:Td(u,h,Id(m),$)}function Si(u){return u==null?[]:Is(u,wn(u))}function Vo(u){return u==null?[]:Is(u,qn(u))}function mm(u,h,m){return m===o&&(m=h,h=o),m!==o&&(m=Br(m),m=m===m?m:0),h!==o&&(h=Br(h),h=h===h?h:0),Qi(Br(u),h,m)}function Mv(u,h,m){return h=Ti(h),m===o?(m=h,h=0):m=Ti(m),u=Br(u),pd(u,h,m)}function _m(u,h,m){if(m&&typeof m!="boolean"&&Nn(u,h,m)&&(h=m=o),m===o&&(typeof h=="boolean"?(m=h,h=o):typeof u=="boolean"&&(m=u,u=o)),u===o&&h===o?(u=0,h=1):(u=Ti(u),h===o?(h=u,u=0):h=Ti(h)),u>h){var $=u;u=h,h=$}if(m||u%1||h%1){var T=ic();return vn(u+T*(h-u+Bh("1e-"+((T+"").length-1))),h)}return $d(u,h)}var Bv=rs(function(u,h,m){return h=h.toLowerCase(),u+(m?Pv(h):h)});function Pv(u){return Pl(Tt(u).toLowerCase())}function Fv(u){return u=Tt(u),u&&u.replace(sa,s0).replace(bf,"")}function Ii(u,h,m){u=Tt(u),h=sr(h);var $=u.length;m=m===o?$:Qi(Qe(m),0,$);var T=m;return m-=h.length,m>=0&&u.slice(m,T)==h}function vm(u){return u=Tt(u),u&&kh.test(u)?u.replace(il,Xu):u}function pr(u){return u=Tt(u),u&&lf.test(u)?u.replace(Ts,"\\$&"):u}var Gv=rs(function(u,h,m){return u+(m?"-":"")+h.toLowerCase()}),ip=rs(function(u,h,m){return u+(m?" ":"")+h.toLowerCase()}),bm=j0("toLowerCase");function Ry(u,h,m){u=Tt(u),h=Qe(h);var $=h?Do(u):0;if(!h||$>=h)return u;var T=(h-$)/2;return fi(rc(T),m)+u+fi(Ot(T),m)}function F(u,h,m){u=Tt(u),h=Qe(h);var $=h?Do(u):0;return h&&$<h?u+fi(h-$,m):u}function Ri(u,h,m){u=Tt(u),h=Qe(h);var $=h?Do(u):0;return h&&$<h?fi(h-$,m)+u:u}function Vc(u,h,m){return m||h==null?h=0:h&&(h=+h),oc(Tt(u).replace(ia,""),h||0)}function $m(u,h,m){return(m?Nn(u,h,m):h===o)?h=1:h=Qe(h),yd(Tt(u),h)}function Ml(){var u=arguments,h=Tt(u[0]);return u.length<3?h:h.replace(u[1],u[2])}var ds=rs(function(u,h,m){return u+(m?"_":"")+h.toLowerCase()});function sp(u,h,m){return m&&typeof m!="number"&&Nn(u,h,m)&&(h=m=o),m=m===o?ee:m>>>0,m?(u=Tt(u),u&&(typeof h=="string"||h!=null&&!Zd(h))&&(h=sr(h),!h&&xs(u))?ns(Kr(u),0,m):u.split(h,m)):[]}var Bl=rs(function(u,h,m){return u+(m?" ":"")+Pl(h)});function ym(u,h,m){return u=Tt(u),m=m==null?0:Qi(Qe(m),0,u.length),h=sr(h),u.slice(m,m+h.length)==h}function Uv(u,h,m){var $=x.templateSettings;m&&Nn(u,h,m)&&(h=o),u=Tt(u),h=$o({},h,$,Dn);var T=$o({},h.imports,$.imports,Dn),A=wn(T),B=Is(T,A),G,X,le=0,ae=h.interpolate||la,he="__p += '",Ee=Jh((h.escape||la).source+"|"+ae.source+"|"+(ae===Ch?Ou:la).source+"|"+(h.evaluate||la).source+"|$","g"),Be="//# sourceURL="+(kt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$f+"]")+`
`;u.replace(Ee,function(Pe,ft,ht,Gr,Zn,gr){return ht||(ht=Gr),he+=u.slice(le,gr).replace(H_,xf),ft&&(G=!0,he+=`' +
__e(`+ft+`) +
'`),Zn&&(X=!0,he+=`';
`+Zn+`;
__p += '`),ht&&(he+=`' +
((__t = (`+ht+`)) == null ? '' : __t) +
'`),le=gr+Pe.length,Pe}),he+=`';
`;var We=kt.call(h,"variable")&&h.variable;if(!We)he=`with (obj) {
`+he+`
}
`;else if(sl.test(We))throw new nt(d);he=(X?he.replace(N_,""):he).replace(Eh,"$1").replace(L_,"$1;"),he="function("+(We||"obj")+`) {
`+(We?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(G?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+he+`return __p
}`;var ut=ou(function(){return wt(A,Be+"return "+he).apply(o,B)});if(ut.source=he,Jd(ut))throw ut;return ut}function ro(u){return Tt(u).toLowerCase()}function Em(u){return Tt(u).toUpperCase()}function Wc(u,h,m){if(u=Tt(u),u&&(m||h===o))return _a(u);if(!u||!(h=sr(h)))return u;var $=Kr(u),T=Kr(h),A=ho($,T),B=Xh($,T)+1;return ns($,A,B).join("")}function wm(u,h,m){if(u=Tt(u),u&&(m||h===o))return u.slice(0,Kh(u)+1);if(!u||!(h=sr(h)))return u;var $=Kr(u),T=Xh($,Kr(h))+1;return ns($,0,T).join("")}function Hv(u,h,m){if(u=Tt(u),u&&(m||h===o))return u.replace(ia,"");if(!u||!(h=sr(h)))return u;var $=Kr(u),T=ho($,Kr(h));return ns($,T).join("")}function Vv(u,h){var m=re,$=pe;if(Wt(h)){var T="separator"in h?h.separator:T;m="length"in h?Qe(h.length):m,$="omission"in h?sr(h.omission):$}u=Tt(u);var A=u.length;if(xs(u)){var B=Kr(u);A=B.length}if(m>=A)return u;var G=m-Do($);if(G<1)return $;var X=B?ns(B,0,G).join(""):u.slice(0,G);if(T===o)return X+$;if(B&&(G+=X.length-G),Zd(T)){if(u.slice(G).search(T)){var le,ae=X;for(T.global||(T=Jh(T.source,Tt(cf.exec(T))+"g")),T.lastIndex=0;le=T.exec(ae);)var he=le.index;X=X.slice(0,he===o?G:he)}}else if(u.indexOf(sr(T),G)!=G){var Ee=X.lastIndexOf(T);Ee>-1&&(X=X.slice(0,Ee))}return X+$}function Wv(u){return u=Tt(u),u&&M_.test(u)?u.replace(wh,Ju):u}var zv=rs(function(u,h,m){return u+(m?" ":"")+h.toUpperCase()}),Pl=j0("toUpperCase");function lp(u,h,m){return u=Tt(u),h=m?o:h,h===o?l0(u)?d0(u):Sf(u):u.match(h)||[]}var ou=ct(function(u,h){try{return kr(u,o,h)}catch(m){return Jd(m)?m:new nt(m)}}),km=eo(function(u,h){return Yr(h,function(m){m=_o(m),Lo(u,m,xc(u[m],u))}),u});function zc(u){var h=u==null?0:u.length,m=Fe();return u=h?Vt(u,function($){if(typeof $[1]!="function")throw new Jr(f);return[m($[0]),$[1]]}):[],ct(function($){for(var T=-1;++T<h;){var A=u[T];if(kr(A[0],this,$))return kr(A[1],this,$)}})}function jv(u){return Jf(Sr(u,y))}function fr(u){return function(){return u}}function jc(u,h){return u==null||u!==u?h:u}var iu=ur(),xy=ur(!0);function Fr(u){return u}function Tm(u){return md(typeof u=="function"?u:Sr(u,y))}function Cm(u){return ig(Sr(u,y))}function ap(u,h){return _d(u,Sr(h,y))}var Xc=ct(function(u,h){return function(m){return _l(m,u,h)}}),$t=ct(function(u,h){return function(m){return _l(u,m,h)}});function up(u,h,m){var $=wn(h),T=xa(h,$);m==null&&!(Wt(h)&&(T.length||!$.length))&&(m=h,h=u,u=this,T=xa(h,wn(h)));var A=!(Wt(m)&&"chain"in m)||!!m.chain,B=us(u);return Yr(T,function(G){var X=h[G];u[G]=X,B&&(u.prototype[G]=function(){var le=this.__chain__;if(A||le){var ae=u(this.__wrapped__),he=ae.__actions__=lr(this.__actions__);return he.push({func:X,args:arguments,thisArg:u}),ae.__chain__=le,ae}return X.apply(u,ji([this.value()],arguments))})}),u}function Sm(){return An._===this&&(An._=cl),this}function xi(){}function Im(u){return u=Qe(u),ct(function(h){return vd(h,u)})}var Yc=xd(Vt),Ay=xd(Tf),Xv=xd(Hu);function Ai(u){return Ha(u)?Vu(_o(u)):bd(u)}function su(u){return function(h){return u==null?o:es(u,h)}}var Xs=yg(),Fl=yg(!0);function Vn(){return[]}function cp(){return!1}function Dy(){return{}}function Wo(){return""}function lu(){return!0}function hp(u,h){if(u=Qe(u),u<1||u>z)return[];var m=ee,$=vn(u,ee);h=Fe(h),u-=ee;for(var T=ju($,h);++m<u;)h(m);return T}function Yv(u){return Ze(u)?Vt(u,_o):hn(u)?[u]:lr(bc(Tt(u)))}function Rm(u){var h=++qh;return Tt(u)+h}var Et=Ma(function(u,h){return u+h},0),Kv=Ba("ceil"),Jv=Ma(function(u,h){return u/h},1),qv=Ba("floor");function Zv(u){return u&&u.length?Ia(u,Fr,dd):o}function Qv(u,h){return u&&u.length?Ia(u,Fe(h,2),dd):o}function eb(u){return ma(u,Fr)}function tb(u,h){return ma(u,Fe(h,2))}function nb(u){return u&&u.length?Ia(u,Fr,Bs):o}function rb(u,h){return u&&u.length?Ia(u,Fe(h,2),Bs):o}var ob=Ma(function(u,h){return u*h},1),ib=Ba("round"),Di=Ma(function(u,h){return u-h},0);function sb(u){return u&&u.length?zu(u,Fr):0}function lb(u,h){return u&&u.length?zu(u,Fe(h,2)):0}return x.after=un,x.ary=Kt,x.assign=Uc,x.assignIn=tm,x.assignInWith=$o,x.assignWith=nm,x.at=hr,x.before=Xd,x.bind=xc,x.bindAll=km,x.bindKey=zg,x.castArray=yi,x.chain=gt,x.chunk=Tg,x.compact=wy,x.concat=q0,x.cond=zc,x.conforms=jv,x.constant=fr,x.countBy=Rl,x.create=Av,x.curry=Hn,x.curryRight=qa,x.debounce=Ac,x.defaults=ep,x.defaultsDeep=tp,x.defer=Yd,x.delay=Za,x.difference=Bd,x.differenceBy=Cl,x.differenceWith=Pd,x.drop=to,x.dropRight=Cg,x.dropRightWhile=Z0,x.dropWhile=Q0,x.fill=ev,x.filter=Ka,x.flatMap=xl,x.flatMapDeep=Fg,x.flatMapDepth=Vs,x.flatten=Fd,x.flattenDeep=tv,x.flattenDepth=nv,x.flip=Qa,x.flow=iu,x.flowRight=xy,x.fromPairs=rv,x.functions=im,x.functionsIn=sm,x.groupBy=nn,x.initial=Sg,x.intersection=Gd,x.intersectionBy=Wa,x.intersectionWith=sv,x.invert=am,x.invertBy=um,x.invokeMap=jd,x.iteratee=Tm,x.keyBy=Ic,x.keys=wn,x.keysIn=qn,x.map=as,x.mapKeys=hm,x.mapValues=dm,x.matches=Cm,x.matchesProperty=ap,x.memoize=Or,x.merge=pm,x.mergeWith=np,x.method=Xc,x.methodOf=$t,x.mixin=up,x.negate=Nr,x.nthArg=Im,x.omit=dr,x.omitBy=Nv,x.once=pt,x.orderBy=yv,x.over=Yc,x.overArgs=rn,x.overEvery=Ay,x.overSome=Xv,x.partial=Dc,x.partialRight=Tv,x.partition=Ev,x.pick=rp,x.pickBy=nu,x.property=Ai,x.propertyOf=su,x.pull=av,x.pullAll=bi,x.pullAllBy=Rg,x.pullAllWith=xg,x.pullAt=Ag,x.range=Xs,x.rangeRight=Fl,x.rearg=Cy,x.reject=Hg,x.remove=Yt,x.rest=Lr,x.reverse=U,x.sampleSize=Rc,x.set=op,x.setWith=Ll,x.shuffle=Vg,x.slice=uv,x.sortBy=kv,x.sortedUniq=Ud,x.sortedUniqBy=Ty,x.split=sp,x.spread=Ht,x.tail=Jn,x.take=Ec,x.takeRight=dv,x.takeRightWhile=wc,x.takeWhile=pv,x.tap=Xa,x.throttle=Oc,x.thru=Il,x.toArray=em,x.toPairs=Pr,x.toPairsIn=js,x.toPath=Yv,x.toPlainObject=ue,x.transform=Lv,x.unary=jg,x.union=fv,x.unionBy=za,x.unionWith=gv,x.uniq=mv,x.uniqBy=_v,x.uniqWith=Hd,x.unset=ru,x.unzip=kc,x.unzipWith=Dg,x.update=fm,x.updateWith=gm,x.values=Si,x.valuesIn=Vo,x.without=Tc,x.words=lp,x.wrap=Xg,x.xor=ja,x.xorBy=Og,x.xorWith=vv,x.zip=bv,x.zipObject=Sl,x.zipObjectDeep=Ng,x.zipWith=Ce,x.entries=Pr,x.entriesIn=js,x.extend=tm,x.extendWith=$o,up(x,x),x.add=Et,x.attempt=ou,x.camelCase=Bv,x.capitalize=Pv,x.ceil=Kv,x.clamp=mm,x.clone=Sy,x.cloneDeep=Yg,x.cloneDeepWith=Kg,x.cloneWith=Iy,x.conformsTo=zt,x.deburr=Fv,x.defaultTo=jc,x.divide=Jv,x.endsWith=Ii,x.eq=Ue,x.escape=vm,x.escapeRegExp=pr,x.every=Ya,x.find=vt,x.findIndex=$c,x.findKey=rm,x.findLast=Ja,x.findLastIndex=yc,x.findLastKey=yo,x.floor=qv,x.forEach=Gg,x.forEachRight=zd,x.forIn=Dv,x.forInRight=Ov,x.forOwn=tu,x.forOwnRight=om,x.get=Ci,x.gt=Jg,x.gte=Cv,x.has=lm,x.hasIn=Hc,x.head=ov,x.identity=Fr,x.includes=Sc,x.indexOf=iv,x.inRange=Mv,x.invoke=cm,x.isArguments=Ei,x.isArray=Ze,x.isArrayBuffer=Ol,x.isArrayLike=Mr,x.isArrayLikeObject=cn,x.isBoolean=Kd,x.isBuffer=wi,x.isDate=Sv,x.isElement=Xe,x.isEmpty=Iv,x.isEqual=Ws,x.isEqualWith=Ho,x.isError=Jd,x.isFinite=eu,x.isFunction=us,x.isInteger=cs,x.isLength=hs,x.isMap=Nl,x.isMatch=Nc,x.isMatchWith=Lc,x.isNaN=Mc,x.isNative=Rv,x.isNil=qd,x.isNull=qg,x.isNumber=ki,x.isObject=Wt,x.isObjectLike=Jt,x.isPlainObject=on,x.isRegExp=Zd,x.isSafeInteger=no,x.isSet=Zg,x.isString=Bc,x.isSymbol=hn,x.isTypedArray=zs,x.isUndefined=Pc,x.isWeakMap=Fc,x.isWeakSet=Qg,x.join=Ig,x.kebabCase=Gv,x.last=Dr,x.lastIndexOf=ls,x.lowerCase=ip,x.lowerFirst=bm,x.lt=Gc,x.lte=bt,x.max=Zv,x.maxBy=Qv,x.mean=eb,x.meanBy=tb,x.min=nb,x.minBy=rb,x.stubArray=Vn,x.stubFalse=cp,x.stubObject=Dy,x.stubString=Wo,x.stubTrue=lu,x.multiply=ob,x.nth=lv,x.noConflict=Sm,x.noop=xi,x.now=Dl,x.pad=Ry,x.padEnd=F,x.padStart=Ri,x.parseInt=Vc,x.random=_m,x.reduce=Al,x.reduceRight=Ug,x.repeat=$m,x.replace=Ml,x.result=at,x.round=ib,x.runInContext=V,x.sample=bo,x.size=Wg,x.snakeCase=ds,x.some=wv,x.sortedIndex=$i,x.sortedIndexBy=cv,x.sortedIndexOf=hv,x.sortedLastIndex=ky,x.sortedLastIndexBy=Hs,x.sortedLastIndexOf=En,x.startCase=Bl,x.startsWith=ym,x.subtract=Di,x.sum=sb,x.sumBy=lb,x.template=Uv,x.times=hp,x.toFinite=Ti,x.toInteger=Qe,x.toLength=Qd,x.toLower=ro,x.toNumber=Br,x.toSafeInteger=xv,x.toString=Tt,x.toUpper=Em,x.trim=Wc,x.trimEnd=wm,x.trimStart=Hv,x.truncate=Vv,x.unescape=Wv,x.uniqueId=Rm,x.upperCase=zv,x.upperFirst=Pl,x.each=Gg,x.eachRight=zd,x.first=ov,up(x,function(){var u={};return fo(x,function(h,m){kt.call(x.prototype,m)||(u[m]=h)}),u}(),{chain:!1}),x.VERSION=l,Yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){x[u].placeholder=x}),Yr(["drop","take"],function(u,h){je.prototype[u]=function(m){m=m===o?1:_n(Qe(m),0);var $=this.__filtered__&&!h?new je(this):this.clone();return $.__filtered__?$.__takeCount__=vn(m,$.__takeCount__):$.__views__.push({size:vn(m,ee),type:u+($.__dir__<0?"Right":"")}),$},je.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),Yr(["filter","map","takeWhile"],function(u,h){var m=h+1,$=m==Se||m==ce;je.prototype[u]=function(T){var A=this.clone();return A.__iteratees__.push({iteratee:Fe(T,3),type:m}),A.__filtered__=A.__filtered__||$,A}}),Yr(["head","last"],function(u,h){var m="take"+(h?"Right":"");je.prototype[u]=function(){return this[m](1).value()[0]}}),Yr(["initial","tail"],function(u,h){var m="drop"+(h?"":"Right");je.prototype[u]=function(){return this.__filtered__?new je(this):this[m](1)}}),je.prototype.compact=function(){return this.filter(Fr)},je.prototype.find=function(u){return this.filter(u).head()},je.prototype.findLast=function(u){return this.reverse().find(u)},je.prototype.invokeMap=ct(function(u,h){return typeof u=="function"?new je(this):this.map(function(m){return _l(m,u,h)})}),je.prototype.reject=function(u){return this.filter(Nr(Fe(u)))},je.prototype.slice=function(u,h){u=Qe(u);var m=this;return m.__filtered__&&(u>0||h<0)?new je(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),h!==o&&(h=Qe(h),m=h<0?m.dropRight(-h):m.take(h-u)),m)},je.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},je.prototype.toArray=function(){return this.take(ee)},fo(je.prototype,function(u,h){var m=/^(?:filter|find|map|reject)|While$/.test(h),$=/^(?:head|last)$/.test(h),T=x[$?"take"+(h=="last"?"Right":""):h],A=$||/^find/.test(h);T&&(x.prototype[h]=function(){var B=this.__wrapped__,G=$?[1]:arguments,X=B instanceof je,le=G[0],ae=X||Ze(B),he=function(ft){var ht=T.apply(x,ji([ft],G));return $&&Ee?ht[0]:ht};ae&&m&&typeof le=="function"&&le.length!=1&&(X=ae=!1);var Ee=this.__chain__,Be=!!this.__actions__.length,We=A&&!Ee,ut=X&&!Be;if(!A&&ae){B=ut?B:new je(this);var Pe=u.apply(B,G);return Pe.__actions__.push({func:Il,args:[he],thisArg:o}),new qr(Pe,Ee)}return We&&ut?u.apply(this,G):(Pe=this.thru(he),We?$?Pe.value()[0]:Pe.value():Pe)})}),Yr(["pop","push","shift","sort","splice","unshift"],function(u){var h=Oo[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",$=/^(?:pop|shift)$/.test(u);x.prototype[u]=function(){var T=arguments;if($&&!this.__chain__){var A=this.value();return h.apply(Ze(A)?A:[],T)}return this[m](function(B){return h.apply(Ze(B)?B:[],T)})}}),fo(je.prototype,function(u,h){var m=x[h];if(m){var $=m.name+"";kt.call(Os,$)||(Os[$]=[]),Os[$].push({name:h,func:m})}}),Os[os(o,w).name]=[{name:"wrapper",func:o}],je.prototype.clone=Gf,je.prototype.reverse=Uf,je.prototype.value=Hf,x.prototype.at=Lg,x.prototype.chain=Vd,x.prototype.commit=Cc,x.prototype.next=Mg,x.prototype.plant=Bg,x.prototype.reverse=Wd,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=Pg,x.prototype.first=x.prototype.head,$a&&(x.prototype[$a]=$v),x},As=Nf();Ss?((Ss.exports=As)._=As,Ph._=As):An._=As}).call(Li)})(N$,N$.exports);var AF=N$.exports;const Pt=Iu(AF);function DF({title:n,titleId:r,...o},l){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":r},o),n?O.createElement("title",{id:r},n):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5"}))}const OF=O.forwardRef(DF),NF=OF;function LF({title:n,titleId:r,...o},l){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":r},o),n?O.createElement("title",{id:r},n):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"}))}const MF=O.forwardRef(LF),BF=MF;function PF({title:n,titleId:r,...o},l){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":r},o),n?O.createElement("title",{id:r},n):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"}))}const FF=O.forwardRef(PF),GF=FF;function UF({title:n,titleId:r,...o},l){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":r},o),n?O.createElement("title",{id:r},n):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))}const HF=O.forwardRef(UF),VF=HF;var WF={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const T_=WF,QA={};for(const n of Object.keys(T_))QA[T_[n]]=n;const Ge={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var eD=Ge;for(const n of Object.keys(Ge)){if(!("channels"in Ge[n]))throw new Error("missing channels property: "+n);if(!("labels"in Ge[n]))throw new Error("missing channel labels property: "+n);if(Ge[n].labels.length!==Ge[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:r,labels:o}=Ge[n];delete Ge[n].channels,delete Ge[n].labels,Object.defineProperty(Ge[n],"channels",{value:r}),Object.defineProperty(Ge[n],"labels",{value:o})}Ge.rgb.hsl=function(n){const r=n[0]/255,o=n[1]/255,l=n[2]/255,s=Math.min(r,o,l),c=Math.max(r,o,l),f=c-s;let d,g;c===s?d=0:r===c?d=(o-l)/f:o===c?d=2+(l-r)/f:l===c&&(d=4+(r-o)/f),d=Math.min(d*60,360),d<0&&(d+=360);const _=(s+c)/2;return c===s?g=0:_<=.5?g=f/(c+s):g=f/(2-c-s),[d,g*100,_*100]};Ge.rgb.hsv=function(n){let r,o,l,s,c;const f=n[0]/255,d=n[1]/255,g=n[2]/255,_=Math.max(f,d,g),b=_-Math.min(f,d,g),y=function(E){return(_-E)/6/b+1/2};return b===0?(s=0,c=0):(c=b/_,r=y(f),o=y(d),l=y(g),f===_?s=l-o:d===_?s=1/3+r-l:g===_&&(s=2/3+o-r),s<0?s+=1:s>1&&(s-=1)),[s*360,c*100,_*100]};Ge.rgb.hwb=function(n){const r=n[0],o=n[1];let l=n[2];const s=Ge.rgb.hsl(n)[0],c=1/255*Math.min(r,Math.min(o,l));return l=1-1/255*Math.max(r,Math.max(o,l)),[s,c*100,l*100]};Ge.rgb.cmyk=function(n){const r=n[0]/255,o=n[1]/255,l=n[2]/255,s=Math.min(1-r,1-o,1-l),c=(1-r-s)/(1-s)||0,f=(1-o-s)/(1-s)||0,d=(1-l-s)/(1-s)||0;return[c*100,f*100,d*100,s*100]};function zF(n,r){return(n[0]-r[0])**2+(n[1]-r[1])**2+(n[2]-r[2])**2}Ge.rgb.keyword=function(n){const r=QA[n];if(r)return r;let o=1/0,l;for(const s of Object.keys(T_)){const c=T_[s],f=zF(n,c);f<o&&(o=f,l=s)}return l};Ge.keyword.rgb=function(n){return T_[n]};Ge.rgb.xyz=function(n){let r=n[0]/255,o=n[1]/255,l=n[2]/255;r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;const s=r*.4124+o*.3576+l*.1805,c=r*.2126+o*.7152+l*.0722,f=r*.0193+o*.1192+l*.9505;return[s*100,c*100,f*100]};Ge.rgb.lab=function(n){const r=Ge.rgb.xyz(n);let o=r[0],l=r[1],s=r[2];o/=95.047,l/=100,s/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;const c=116*l-16,f=500*(o-l),d=200*(l-s);return[c,f,d]};Ge.hsl.rgb=function(n){const r=n[0]/360,o=n[1]/100,l=n[2]/100;let s,c,f;if(o===0)return f=l*255,[f,f,f];l<.5?s=l*(1+o):s=l+o-l*o;const d=2*l-s,g=[0,0,0];for(let _=0;_<3;_++)c=r+1/3*-(_-1),c<0&&c++,c>1&&c--,6*c<1?f=d+(s-d)*6*c:2*c<1?f=s:3*c<2?f=d+(s-d)*(2/3-c)*6:f=d,g[_]=f*255;return g};Ge.hsl.hsv=function(n){const r=n[0];let o=n[1]/100,l=n[2]/100,s=o;const c=Math.max(l,.01);l*=2,o*=l<=1?l:2-l,s*=c<=1?c:2-c;const f=(l+o)/2,d=l===0?2*s/(c+s):2*o/(l+o);return[r,d*100,f*100]};Ge.hsv.rgb=function(n){const r=n[0]/60,o=n[1]/100;let l=n[2]/100;const s=Math.floor(r)%6,c=r-Math.floor(r),f=255*l*(1-o),d=255*l*(1-o*c),g=255*l*(1-o*(1-c));switch(l*=255,s){case 0:return[l,g,f];case 1:return[d,l,f];case 2:return[f,l,g];case 3:return[f,d,l];case 4:return[g,f,l];case 5:return[l,f,d]}};Ge.hsv.hsl=function(n){const r=n[0],o=n[1]/100,l=n[2]/100,s=Math.max(l,.01);let c,f;f=(2-o)*l;const d=(2-o)*s;return c=o*s,c/=d<=1?d:2-d,c=c||0,f/=2,[r,c*100,f*100]};Ge.hwb.rgb=function(n){const r=n[0]/360;let o=n[1]/100,l=n[2]/100;const s=o+l;let c;s>1&&(o/=s,l/=s);const f=Math.floor(6*r),d=1-l;c=6*r-f,f&1&&(c=1-c);const g=o+c*(d-o);let _,b,y;switch(f){default:case 6:case 0:_=d,b=g,y=o;break;case 1:_=g,b=d,y=o;break;case 2:_=o,b=d,y=g;break;case 3:_=o,b=g,y=d;break;case 4:_=g,b=o,y=d;break;case 5:_=d,b=o,y=g;break}return[_*255,b*255,y*255]};Ge.cmyk.rgb=function(n){const r=n[0]/100,o=n[1]/100,l=n[2]/100,s=n[3]/100,c=1-Math.min(1,r*(1-s)+s),f=1-Math.min(1,o*(1-s)+s),d=1-Math.min(1,l*(1-s)+s);return[c*255,f*255,d*255]};Ge.xyz.rgb=function(n){const r=n[0]/100,o=n[1]/100,l=n[2]/100;let s,c,f;return s=r*3.2406+o*-1.5372+l*-.4986,c=r*-.9689+o*1.8758+l*.0415,f=r*.0557+o*-.204+l*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,c=c>.0031308?1.055*c**(1/2.4)-.055:c*12.92,f=f>.0031308?1.055*f**(1/2.4)-.055:f*12.92,s=Math.min(Math.max(0,s),1),c=Math.min(Math.max(0,c),1),f=Math.min(Math.max(0,f),1),[s*255,c*255,f*255]};Ge.xyz.lab=function(n){let r=n[0],o=n[1],l=n[2];r/=95.047,o/=100,l/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const s=116*o-16,c=500*(r-o),f=200*(o-l);return[s,c,f]};Ge.lab.xyz=function(n){const r=n[0],o=n[1],l=n[2];let s,c,f;c=(r+16)/116,s=o/500+c,f=c-l/200;const d=c**3,g=s**3,_=f**3;return c=d>.008856?d:(c-16/116)/7.787,s=g>.008856?g:(s-16/116)/7.787,f=_>.008856?_:(f-16/116)/7.787,s*=95.047,c*=100,f*=108.883,[s,c,f]};Ge.lab.lch=function(n){const r=n[0],o=n[1],l=n[2];let s;s=Math.atan2(l,o)*360/2/Math.PI,s<0&&(s+=360);const f=Math.sqrt(o*o+l*l);return[r,f,s]};Ge.lch.lab=function(n){const r=n[0],o=n[1],s=n[2]/360*2*Math.PI,c=o*Math.cos(s),f=o*Math.sin(s);return[r,c,f]};Ge.rgb.ansi16=function(n,r=null){const[o,l,s]=n;let c=r===null?Ge.rgb.hsv(n)[2]:r;if(c=Math.round(c/50),c===0)return 30;let f=30+(Math.round(s/255)<<2|Math.round(l/255)<<1|Math.round(o/255));return c===2&&(f+=60),f};Ge.hsv.ansi16=function(n){return Ge.rgb.ansi16(Ge.hsv.rgb(n),n[2])};Ge.rgb.ansi256=function(n){const r=n[0],o=n[1],l=n[2];return r===o&&o===l?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(o/255*5)+Math.round(l/255*5)};Ge.ansi16.rgb=function(n){let r=n%10;if(r===0||r===7)return n>50&&(r+=3.5),r=r/10.5*255,[r,r,r];const o=(~~(n>50)+1)*.5,l=(r&1)*o*255,s=(r>>1&1)*o*255,c=(r>>2&1)*o*255;return[l,s,c]};Ge.ansi256.rgb=function(n){if(n>=232){const c=(n-232)*10+8;return[c,c,c]}n-=16;let r;const o=Math.floor(n/36)/5*255,l=Math.floor((r=n%36)/6)/5*255,s=r%6/5*255;return[o,l,s]};Ge.rgb.hex=function(n){const o=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(o.length)+o};Ge.hex.rgb=function(n){const r=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r)return[0,0,0];let o=r[0];r[0].length===3&&(o=o.split("").map(d=>d+d).join(""));const l=parseInt(o,16),s=l>>16&255,c=l>>8&255,f=l&255;return[s,c,f]};Ge.rgb.hcg=function(n){const r=n[0]/255,o=n[1]/255,l=n[2]/255,s=Math.max(Math.max(r,o),l),c=Math.min(Math.min(r,o),l),f=s-c;let d,g;return f<1?d=c/(1-f):d=0,f<=0?g=0:s===r?g=(o-l)/f%6:s===o?g=2+(l-r)/f:g=4+(r-o)/f,g/=6,g%=1,[g*360,f*100,d*100]};Ge.hsl.hcg=function(n){const r=n[1]/100,o=n[2]/100,l=o<.5?2*r*o:2*r*(1-o);let s=0;return l<1&&(s=(o-.5*l)/(1-l)),[n[0],l*100,s*100]};Ge.hsv.hcg=function(n){const r=n[1]/100,o=n[2]/100,l=r*o;let s=0;return l<1&&(s=(o-l)/(1-l)),[n[0],l*100,s*100]};Ge.hcg.rgb=function(n){const r=n[0]/360,o=n[1]/100,l=n[2]/100;if(o===0)return[l*255,l*255,l*255];const s=[0,0,0],c=r%1*6,f=c%1,d=1-f;let g=0;switch(Math.floor(c)){case 0:s[0]=1,s[1]=f,s[2]=0;break;case 1:s[0]=d,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=f;break;case 3:s[0]=0,s[1]=d,s[2]=1;break;case 4:s[0]=f,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=d}return g=(1-o)*l,[(o*s[0]+g)*255,(o*s[1]+g)*255,(o*s[2]+g)*255]};Ge.hcg.hsv=function(n){const r=n[1]/100,o=n[2]/100,l=r+o*(1-r);let s=0;return l>0&&(s=r/l),[n[0],s*100,l*100]};Ge.hcg.hsl=function(n){const r=n[1]/100,l=n[2]/100*(1-r)+.5*r;let s=0;return l>0&&l<.5?s=r/(2*l):l>=.5&&l<1&&(s=r/(2*(1-l))),[n[0],s*100,l*100]};Ge.hcg.hwb=function(n){const r=n[1]/100,o=n[2]/100,l=r+o*(1-r);return[n[0],(l-r)*100,(1-l)*100]};Ge.hwb.hcg=function(n){const r=n[1]/100,l=1-n[2]/100,s=l-r;let c=0;return s<1&&(c=(l-s)/(1-s)),[n[0],s*100,c*100]};Ge.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};Ge.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};Ge.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};Ge.gray.hsl=function(n){return[0,0,n[0]]};Ge.gray.hsv=Ge.gray.hsl;Ge.gray.hwb=function(n){return[0,100,n[0]]};Ge.gray.cmyk=function(n){return[0,0,0,n[0]]};Ge.gray.lab=function(n){return[n[0],0,0]};Ge.gray.hex=function(n){const r=Math.round(n[0]/100*255)&255,l=((r<<16)+(r<<8)+r).toString(16).toUpperCase();return"000000".substring(l.length)+l};Ge.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};const L$=eD;function jF(){const n={},r=Object.keys(L$);for(let o=r.length,l=0;l<o;l++)n[r[l]]={distance:-1,parent:null};return n}function XF(n){const r=jF(),o=[n];for(r[n].distance=0;o.length;){const l=o.pop(),s=Object.keys(L$[l]);for(let c=s.length,f=0;f<c;f++){const d=s[f],g=r[d];g.distance===-1&&(g.distance=r[l].distance+1,g.parent=l,o.unshift(d))}}return r}function YF(n,r){return function(o){return r(n(o))}}function KF(n,r){const o=[r[n].parent,n];let l=L$[r[n].parent][n],s=r[n].parent;for(;r[s].parent;)o.unshift(r[s].parent),l=YF(L$[r[s].parent][s],l),s=r[s].parent;return l.conversion=o,l}var JF=function(n){const r=XF(n),o={},l=Object.keys(r);for(let s=l.length,c=0;c<s;c++){const f=l[c];r[f].parent!==null&&(o[f]=KF(f,r))}return o};const jw=eD,qF=JF,Ep={},ZF=Object.keys(jw);function QF(n){const r=function(...o){const l=o[0];return l==null?l:(l.length>1&&(o=l),n(o))};return"conversion"in n&&(r.conversion=n.conversion),r}function eG(n){const r=function(...o){const l=o[0];if(l==null)return l;l.length>1&&(o=l);const s=n(o);if(typeof s=="object")for(let c=s.length,f=0;f<c;f++)s[f]=Math.round(s[f]);return s};return"conversion"in n&&(r.conversion=n.conversion),r}ZF.forEach(n=>{Ep[n]={},Object.defineProperty(Ep[n],"channels",{value:jw[n].channels}),Object.defineProperty(Ep[n],"labels",{value:jw[n].labels});const r=qF(n);Object.keys(r).forEach(l=>{const s=r[l];Ep[n][l]=eG(s),Ep[n][l].raw=QF(s)})});var tG=Ep;const S1=Iu(tG);function nG(n,r){const o=S1.rgb.hsl(n[0],n[1],n[2]),l=[o[0],o[1],Pt.clamp(o[2]+r,0,100)];return S1.hsl.rgb(l)}function I1(n,r){return"rgb("+n[0]+","+n[1]+","+n[2]+","+r+")"}const gh=({move:n,className:r,transparency:o})=>{r===void 0&&(r="h-4 w-4 my-1 mx-1 rounded-sm border-2 drop-shadow-md hover:ring-grey-700 focus:ring-blue-800 hover:ring-blue-500 focus:ring-2 hover:ring-2"),o===void 0&&(o=.75);const l=I1(n.color,o),s=I1(nG(n.color,-20),o);return R("div",{className:r,style:{backgroundColor:l,borderColor:s},children:R("p",{className:"text-m absolute font-mono",style:{letterSpacing:"-.41rem",lineHeight:".85rem",fontSize:".69rem",textAlign:"center"},children:n.symbol})})},R1=n=>{let r;const o=new Set,l=(g,_)=>{const b=typeof g=="function"?g(r):g;if(!Object.is(b,r)){const y=r;r=_??typeof b!="object"?b:Object.assign({},r,b),o.forEach(E=>E(r,y))}},s=()=>r,d={setState:l,getState:s,subscribe:g=>(o.add(g),()=>o.delete(g)),destroy:()=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}};return r=n(l,s,d),d},rG=n=>n?R1(n):R1;var tD={exports:{}},nD={},rD={exports:{}},oD={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=O;function oG(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var iG=typeof Object.is=="function"?Object.is:oG,sG=Qp.useState,lG=Qp.useEffect,aG=Qp.useLayoutEffect,uG=Qp.useDebugValue;function cG(n,r){var o=r(),l=sG({inst:{value:o,getSnapshot:r}}),s=l[0].inst,c=l[1];return aG(function(){s.value=o,s.getSnapshot=r,yE(s)&&c({inst:s})},[n,o,r]),lG(function(){return yE(s)&&c({inst:s}),n(function(){yE(s)&&c({inst:s})})},[n]),uG(o),o}function yE(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!iG(n,o)}catch{return!0}}function hG(n,r){return r()}var dG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hG:cG;oD.useSyncExternalStore=Qp.useSyncExternalStore!==void 0?Qp.useSyncExternalStore:dG;rD.exports=oD;var pG=rD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by=O,fG=pG;function gG(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var mG=typeof Object.is=="function"?Object.is:gG,_G=fG.useSyncExternalStore,vG=by.useRef,bG=by.useEffect,$G=by.useMemo,yG=by.useDebugValue;nD.useSyncExternalStoreWithSelector=function(n,r,o,l,s){var c=vG(null);if(c.current===null){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=$G(function(){function g(S){if(!_){if(_=!0,b=S,S=l(S),s!==void 0&&f.hasValue){var D=f.value;if(s(D,S))return y=D}return y=S}if(D=y,mG(b,S))return D;var L=l(S);return s!==void 0&&s(D,L)?D:(b=S,y=L)}var _=!1,b,y,E=o===void 0?null:o;return[function(){return g(r())},E===null?void 0:function(){return g(E())}]},[r,o,l,s]);var d=_G(n,c[0],c[1]);return bG(function(){f.hasValue=!0,f.value=d},[d]),yG(d),d};tD.exports=nD;var EG=tD.exports;const wG=Iu(EG),{useSyncExternalStoreWithSelector:kG}=wG;function TG(n,r=n.getState,o){const l=kG(n.subscribe,n.getState,n.getServerState||n.getState,r,o);return O.useDebugValue(l),l}const x1=n=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof n=="function"?rG(n):n,o=(l,s)=>TG(r,l,s);return Object.assign(o,r),o},CG=n=>n?x1(n):x1,iD=()=>Array.from({length:8}).map((r,o)=>Array.from({length:8}).map((l,s)=>null)),pT=({savingState:n})=>{let r=R("p",{children:n});return n=="fail"&&(r=R("p",{children:"fail"})),n=="saving"&&(r=R("p",{children:"saving..."})),n=="ok"&&(r=R("p",{})),r},SG=n=>{const r=[];console.assert(n.length==15),console.assert(n[0].length==15);for(let o=0;o<15;o++)for(let l=0;l<15;l++){const s=n[o][l];s!=null&&r.push({relative_row:o-7,relative_col:l-7,move:s})}return r},fT=n=>{const r=Array.from({length:15}).map(()=>Array.from({length:15}).map(()=>null));for(const o of Object.values(n))r[o.relative_row+7][o.relative_col+7]=o.move;return r};function Xw(n){let r=R("span",{children:n});if(n.includes("@")){const[o,l]=n.split("@");r=de("span",{children:[o,de("span",{className:" text-slate-300",children:["@",l]})]})}return r}function IG(n){const r=lt.getState().username;let o=!1;return(n.whiteToMove&&n.whiteUser==r||!n.whiteToMove&&n.blackUser==r)&&(o=!0),o}const A1=n=>{switch(n.cat){case"UI":return 0;case"official":return 1;case"custom":return 2;case"unmade":return 3;default:return console.error("Got bad move category: "+n.cat),3}},lt=CG()(n=>({userMoves:[],userPieces:[],boardSetups:[],lobbySetups:[],lobby:null,pkToMove:new Map,pkToPiece:new Map,gamePkToMove:new Map,games:[],username:"",mouseDownState:0,errorMessage:""})),sD=n=>lt.setState(r=>{let o=Pt.uniqBy([...n,...r.userMoves],s=>s.pk);o.sort((s,c)=>A1(s)-A1(c));const l=new Map(r.pkToMove);for(let s of n)l.set(s.pk,s);return{userMoves:o,pkToMove:l}}),M$=n=>lt.setState(()=>({errorMessage:n})),D1=n=>lt.setState(()=>({mouseDownState:n})),lD=n=>lt.setState(r=>{const o=Pt.map(n,c=>({moves:fT(c.piece_moves),imageBlack:c.image_black,imageWhite:c.image_white,pk:c.pk,author:c.author,name:c.name})),l=Pt.uniqBy([...o,...r.userPieces],c=>c.pk),s=new Map(r.pkToPiece);return Pt.forEach(l,function(c){s.set(c.pk,c)}),{userPieces:l,pkToPiece:s}}),RG=n=>lt.setState(r=>{const o=new Map(r.pkToMove);for(let[l,s]of Object.entries(n))o.set(parseInt(l),s);return{pkToMove:o}}),gT=n=>lt.setState(r=>{const o=new Map(r.pkToPiece);for(let[l,s]of Object.entries(n)){const c={moves:fT(s.piece_moves),name:s.name,imageBlack:s.image_black,imageWhite:s.image_white,pk:s.pk,author:s.author};o.set(parseInt(l),c)}return{pkToPiece:o}}),xG=(n,r)=>lt.setState(o=>{const l=new Map(o.gamePkToMove.get(r));for(let[c,f]of Object.entries(n))l.set(parseInt(c),f);const s=Pt.clone(o.gamePkToMove);return s.set(r,l),{gamePkToMove:s}}),AG=(n,r)=>lt.setState(o=>({games:Pt.map(o.games,s=>s.pk==n?{...s,errorMessage:r}:s)})),DG=n=>lt.setState(r=>({games:Pt.reject(r.games,l=>l.pk==n?(l.websocket.close(1e3),!0):!1)})),aD="http://127.0.0.1:8000/api",uD=-1;var Gl=(n=>(n.WHITE_WIN="W",n.WHITE_WIN_RESIGN="Y",n.BLACK_WIN="B",n.BLACK_WIN_RESIGN="C",n.DRAW="D",n.DRAW_AGREED="E",n.IN_PROGRESS="P",n))(Gl||{});const OG=[{name:"Delete",imageWhite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAADQCAYAAAB2pO90AAAAAXNSR0IArs4c6QAAEAxJREFUeF7tnU3uLTcRxZ0pE2AFISsAFoACC0CBFQRWAMyRgAHjwAqAFQAS85AVACsIYQMBhJiCfnrXwTF2f/mjy9XH0tX/vXvbbvtUHbtcLttvBSUhIAQuI/DW5ZzKKASEQBCBpARCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6sIfAV0IIXw0hfO31+fNehgO//zGE8NGB58w/IgLNEdGXXkrIXxQRBYrpm69//DWEwOcvIYS/d67Wu1l5kQzxb+fXHSqONkJGsOBvbDOE5Tv+/49DJd34kAj0P/BR7p+8FLynSFBSyj6aomIdfX7vuUjQvecs/f6dEMLvLVWoVhcR6A0yPwgh/PSkoq8g31Xr+MMQwm9DCH+z3oCnEwhz4VchhBV76Zm6xXwFM4sPmI1IjNJ0ZKRfv/79zxEv6lnmkwn0QQiBnm5WinMblBCzLqY4H0IxIfLbAyr0yWt+FYuO8y3enc7HBrz6VJH/eT2NGQtG1Nt0ehqB6OUYcbCxS4lJK6ZcD09TrqxHFaH3aNh7TnW0HVeeA3c8fqTvhRB+c6WQmXmeRqAPN8w1zBSI1dsDNlOeq78L0+39ZBR6x7o8nkQgenYIlCdGnV+8Rp7VFXD1+jPqYCHE9PMQwo8tN+opBMKehjy5OxkTAZONOYHS/QgwD/w4qcYfQgjfvr9a9Ro8gUA18nz/5e2xLJ+n1Y0O7tOk0ZjTX7YMgmcCYbKxMFqalP9MJptJtczNbOalvZ0qXRvukUB7azs/es15ugKpwrogkJtwGoG6wHq8kJq5Fkv45eS1n+M115MRgbgWFP/PupjZiARPI9AWeTAFcBZYWjQUZcoIIKM0+NX0XNULgZjrQJA8iThvPI/vvTyQBGha9zgiR+QZk+n5qgcCsW7A+kGecFGXvn9az88aV4wxY6X/68YBEIEmCkjk2Qa7ZNZCoJ6hSr3FLQL1RrRQXi2mjagCRp3fDaxDag5ZDvvBo/WnwuIx6yqW6y0CDVReioY8RBWkEc18T+Qu341UjpXMIciTY7SCC18EGkggFIKNVvmeFLYKMPKMNk0IM0nf/d3Bo91VKFOixzJWIA91FYGuSn0nHwRhD08ezwZ5WK0eOfLEqqXh9vE79hSxvmQl5YuR1Gslh4oI1FmTtkJycMtCrBnkoVlsd2AEzBNh+PTws+qxBXGugDNM254iz+tvmvyW3djxkI/artG7gM1D7tPR6Vs3k6hUN9MLkQXm5fFwpsN5rBIIM4SePp8EgzeeNkhFr39XYiTi/V/MKoCJdweJtrySYGlhZDwjKxZ7063tZl3vFgmEcrK+UzoKisgCelkLq+koJu7yuAU5HYkw52aFDdW8ktTHqpNjj0x5OA+d0iw89+r2ud+tEagWkoMdD3GsgYjy4vGK25BTcKkr5tNospc8bjPWw04p2smHc28nW7tH43iyim8et0KgrcM+mOtgslk1Q6g7ZMlHIvClzpBo1MIu70bZ0tEarySjuEmFO6ileUS2FT39v+pbqNjWfGeVtQsUGO9RjDnLgeY3giJ7plKnw8iz4pwnx0UEOqgpeFxwFuTzHRSBXtSaybbXLNoDWfKzqMmH04HRqEeqzRNNRy6faDgjd+qgMRt+dOcIVJvveDBBMDlZ9M1TDy9dLcZttfWeLT7lTgSzlsgdBMI1jZet5KK2Pt850Yl+dgtDb1d3vtBInWaFMp1pf8uzeRvNno0wm0C1UQewvZgfqeJsubqvrBfR6RAkmiaPuC1zuMgsAm2NOlZd1C09aJq35qXDzodERwNgS3t7wG7UYe+92n+lHBEoQW1r1Jkdy3ZFmD3ybLm6j4Ta1M57MLvA2AiaCPSa49TmOvScTLRHrY80ym9IdkhEe2seulowao08nk8YKpmqJhdTR5lwW6MOgmeSaHVhdAh7kkJLkQP8XPLQPZE8Eap864jJsKTeBHryXOcM8WrBqOm8qBRlwDvuikI/074ezy6xL6gXgeLtYqWjpQDz6aNOSaHobFhczUOAIokwcfMYu6eQB7weQyB6UxYNS94g7x621p6WjgcScVBJmv4dQvhC9t2TyPMIAm3tFI2mhuUg0Fbl75k/vViqVK5Xd/UWhm5HIHpNRpzaoYVP9LD1IFONRP963ZGzWlxgKyYuCbS12U1znVaVeeOJy+dEEOgbJxZc22thowRXBNq7nJcFUcy1lfeg3K02Na8b9cKxgPu795aIu9v8CBOudhYbjSeIEeI8zbwYoXhs66jdHh7f13NLxIg29Cxz+REI4rBBrDbX8RjE2FMBzpRVOuObzqm0y/UpJFqaQLWNbnHUmXEK6BkFXPnZGnnowGoLrk8g0dIEImYrX5uIToLaOW0rK/FddS/t7WE3Lh1YjNKuBaL22Jx3V7uPvHdpAuU7AuO6ju7bOSL6Y8+UAiZz8sSSIBEOmnxzHs4FYsQ8zkGXJhDCRSipwBAWB9zJ03aMIFtPlc5yq5EnllPbnMfvR7ZEtNd6bglLEwioSiSS46BdiWoHIR7Z21ML/aFWI07+aW/t9RKWJxBNz89aPruL8jp8PnPWyHM2zq00dwIxT/MiFwRCKPkRQyLRNXLXyHP1ehbLh9xfQ+jzudwQqHREEyRih+BTN8WdVZBeI0/+XmuH3J/FZet5NwSK9nV69TjfEVrCNmSlbQRGkSf10JW2RGDO4Vw4emiJNTnmO3dNzr/PbKgr2d1PWNBrUazR5EnrVormHn02dws2e3mXuKHhDIFqaxG4tVmLWLWn2xPk1d9nkoc6bh1asqK1kJ+PbfJ43zMEQkgl13Z0NJw54+yqUq6SbzZ59kYifl/JWsiPtTK7ofAsgUSifQrXLkM+66ref1P9iZqHbpWjsNyfC8eqON65/DqPp7u4S4GhqDn7pfa2KrQQppS3Zi2sMBK5J1AUWKmneyqJtsgz8ybxlEyrkuhRh8uLRG9c+vloTGwbisBvd6Za1ILlkYgD9NPbO0y6sBHqlTlQSRlqJEJ42N2eU6nte4Ghs/HA3EYWeTQ321ZYK7K2IL6EB64ngSirdqkU/nw8dB4T3jZ6y/RMPGvkibiv5EF97BWPtaOZzA7BjazOTQ2Ks9zWLRJZ2leUL6KyjcbkOmMvEy7VQ0wa7P7cXDALwkUSlUy3O7xtZ6tfO1KYcuLJP3ebdEtEIfQ24VJBYtrQY7ydfOnJO0f7Pi1o7kqdRM25gJyIccSauCs9nkAAz7oHRzWlCeF4cCzk6xS00exFuBssqJGILHeGzohAL6HV7sJZ3bGQj0Ds6SldmnxXD37mvXQGjDaptTDSOjlSt48zx4zZkX3EHCgHyKtjARLF6ALcwXfPG44oZu0Z2oIXlQ9z1zvPWMgtF7ya1M9kmkEgGl5yLHg+UcaksBepVG5WzowhPA3RLAJRsZJjge9XDLU/DbQyHEZgiZ2osTUzCVRzLPC9p8MwDmuKHiwiIALtKIb3wzDEizYEltjKfdcIFN9b8/wwGWdFXOm5CLC+ljoNTN7OfTeB4pwId3Z+A8GRAwafq16+W05MIS7smEx74Kjk7DlQLv7SwenyzvkmyVbrltlIZ2EESs25Dwuosn7E6v7K6yvPpcK1lucL1MieiAiz6e4RKAJTi1hY+Vgms0I3XrFltjJYMOFSWdb2E/HMnSvjxvXNXfVEoAaRYgMzGpWuNhSJGoBdKKsI1EFYtShhkagDuMaLEIE6Cai2e9LbPTid4HJTjAjUUZQ1ErF+xGik2/I6gm2kKBGosyBqW8Q97XDtDNnSxYlAA8S30okyA5r/qCJFoEHirt0PqpFoEOA3FSsCDQa+dg+ObocYDPyk4kWgCUCLRBNAvukVItAk4EWiSUBPfo0INBFwkWgi2JNeJQJNAjq+RiSaDPjA1+Ft5bjkNN15Pt1uU61EY+9WdOeBGone0XaIVmin5i/dw2v6Vj0vBELKJRKZBn+qaq7zslIcpNldyp4IVCIRa0ScaqmQn3UIVDr+zOzZcN4IhJpAlvSYWo7MgkRKayDAuQicqZ4elfxRCIGtLuaSRwKVDrW3fGePOaWYVCFGGvZ9QRRIw18+pWN8zV4b45FAyJ/jsd7LFMH08UiTlPaO15whSq1+ZueyXglU8uZoPjSWPmD+bjaStJpdHGuFc4jt/iaTVwIBdmlNweN8iHbmtwGOUjZMLT4lYrSSJa0zcx6sCD6mHUCeCYRASgeVmDUHCloPOZgnxDlCPEePR+P1KukFx6OIM6pc7lWCIHRsfOK/R72ve7neCVSbD7HA2qtnizZ+Kpw4Ia711t0FabzAlCjsJsacNnlp8Fkcn0Cgq+sK77/uNdrCNJo0Z3H3+jxEgSDpaOL6YMwnEAhlLd0IwfFZqXCjC3U1UjDRntWbx5GD9+XEKH3ntaP4rF1PIRANzhdYVxBuJAe9OvVHadMFRpSWibbSTQg8iUC1e4n2oEeJ97xcmC5pj4yy84nmjGszZg9Az78/iUClmyC2ZPtJ4krdeg6SKD0UgScRCBFDIkaiUrhIHDXceIgeqtNTm/00Ak0FVy/zj4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABP4LJsAG/ndmmjgAAAAASUVORK5CYII=",imageBlack:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAADQCAYAAAB2pO90AAAAAXNSR0IArs4c6QAAEAxJREFUeF7tnU3uLTcRxZ0pE2AFISsAFoACC0CBFQRWAMyRgAHjwAqAFQAS85AVACsIYQMBhJiCfnrXwTF2f/mjy9XH0tX/vXvbbvtUHbtcLttvBSUhIAQuI/DW5ZzKKASEQBCBpARCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6sIfAV0IIXw0hfO31+fNehgO//zGE8NGB58w/IgLNEdGXXkrIXxQRBYrpm69//DWEwOcvIYS/d67Wu1l5kQzxb+fXHSqONkJGsOBvbDOE5Tv+/49DJd34kAj0P/BR7p+8FLynSFBSyj6aomIdfX7vuUjQvecs/f6dEMLvLVWoVhcR6A0yPwgh/PSkoq8g31Xr+MMQwm9DCH+z3oCnEwhz4VchhBV76Zm6xXwFM4sPmI1IjNJ0ZKRfv/79zxEv6lnmkwn0QQiBnm5WinMblBCzLqY4H0IxIfLbAyr0yWt+FYuO8y3enc7HBrz6VJH/eT2NGQtG1Nt0ehqB6OUYcbCxS4lJK6ZcD09TrqxHFaH3aNh7TnW0HVeeA3c8fqTvhRB+c6WQmXmeRqAPN8w1zBSI1dsDNlOeq78L0+39ZBR6x7o8nkQgenYIlCdGnV+8Rp7VFXD1+jPqYCHE9PMQwo8tN+opBMKehjy5OxkTAZONOYHS/QgwD/w4qcYfQgjfvr9a9Ro8gUA18nz/5e2xLJ+n1Y0O7tOk0ZjTX7YMgmcCYbKxMFqalP9MJptJtczNbOalvZ0qXRvukUB7azs/es15ugKpwrogkJtwGoG6wHq8kJq5Fkv45eS1n+M115MRgbgWFP/PupjZiARPI9AWeTAFcBZYWjQUZcoIIKM0+NX0XNULgZjrQJA8iThvPI/vvTyQBGha9zgiR+QZk+n5qgcCsW7A+kGecFGXvn9az88aV4wxY6X/68YBEIEmCkjk2Qa7ZNZCoJ6hSr3FLQL1RrRQXi2mjagCRp3fDaxDag5ZDvvBo/WnwuIx6yqW6y0CDVReioY8RBWkEc18T+Qu341UjpXMIciTY7SCC18EGkggFIKNVvmeFLYKMPKMNk0IM0nf/d3Bo91VKFOixzJWIA91FYGuSn0nHwRhD08ezwZ5WK0eOfLEqqXh9vE79hSxvmQl5YuR1Gslh4oI1FmTtkJycMtCrBnkoVlsd2AEzBNh+PTws+qxBXGugDNM254iz+tvmvyW3djxkI/artG7gM1D7tPR6Vs3k6hUN9MLkQXm5fFwpsN5rBIIM4SePp8EgzeeNkhFr39XYiTi/V/MKoCJdweJtrySYGlhZDwjKxZ7063tZl3vFgmEcrK+UzoKisgCelkLq+koJu7yuAU5HYkw52aFDdW8ktTHqpNjj0x5OA+d0iw89+r2ud+tEagWkoMdD3GsgYjy4vGK25BTcKkr5tNospc8bjPWw04p2smHc28nW7tH43iyim8et0KgrcM+mOtgslk1Q6g7ZMlHIvClzpBo1MIu70bZ0tEarySjuEmFO6ileUS2FT39v+pbqNjWfGeVtQsUGO9RjDnLgeY3giJ7plKnw8iz4pwnx0UEOqgpeFxwFuTzHRSBXtSaybbXLNoDWfKzqMmH04HRqEeqzRNNRy6faDgjd+qgMRt+dOcIVJvveDBBMDlZ9M1TDy9dLcZttfWeLT7lTgSzlsgdBMI1jZet5KK2Pt850Yl+dgtDb1d3vtBInWaFMp1pf8uzeRvNno0wm0C1UQewvZgfqeJsubqvrBfR6RAkmiaPuC1zuMgsAm2NOlZd1C09aJq35qXDzodERwNgS3t7wG7UYe+92n+lHBEoQW1r1Jkdy3ZFmD3ybLm6j4Ta1M57MLvA2AiaCPSa49TmOvScTLRHrY80ym9IdkhEe2seulowao08nk8YKpmqJhdTR5lwW6MOgmeSaHVhdAh7kkJLkQP8XPLQPZE8Eap864jJsKTeBHryXOcM8WrBqOm8qBRlwDvuikI/074ezy6xL6gXgeLtYqWjpQDz6aNOSaHobFhczUOAIokwcfMYu6eQB7weQyB6UxYNS94g7x621p6WjgcScVBJmv4dQvhC9t2TyPMIAm3tFI2mhuUg0Fbl75k/vViqVK5Xd/UWhm5HIHpNRpzaoYVP9LD1IFONRP963ZGzWlxgKyYuCbS12U1znVaVeeOJy+dEEOgbJxZc22thowRXBNq7nJcFUcy1lfeg3K02Na8b9cKxgPu795aIu9v8CBOudhYbjSeIEeI8zbwYoXhs66jdHh7f13NLxIg29Cxz+REI4rBBrDbX8RjE2FMBzpRVOuObzqm0y/UpJFqaQLWNbnHUmXEK6BkFXPnZGnnowGoLrk8g0dIEImYrX5uIToLaOW0rK/FddS/t7WE3Lh1YjNKuBaL22Jx3V7uPvHdpAuU7AuO6ju7bOSL6Y8+UAiZz8sSSIBEOmnxzHs4FYsQ8zkGXJhDCRSipwBAWB9zJ03aMIFtPlc5yq5EnllPbnMfvR7ZEtNd6bglLEwioSiSS46BdiWoHIR7Z21ML/aFWI07+aW/t9RKWJxBNz89aPruL8jp8PnPWyHM2zq00dwIxT/MiFwRCKPkRQyLRNXLXyHP1ehbLh9xfQ+jzudwQqHREEyRih+BTN8WdVZBeI0/+XmuH3J/FZet5NwSK9nV69TjfEVrCNmSlbQRGkSf10JW2RGDO4Vw4emiJNTnmO3dNzr/PbKgr2d1PWNBrUazR5EnrVormHn02dws2e3mXuKHhDIFqaxG4tVmLWLWn2xPk1d9nkoc6bh1asqK1kJ+PbfJ43zMEQkgl13Z0NJw54+yqUq6SbzZ59kYifl/JWsiPtTK7ofAsgUSifQrXLkM+66ref1P9iZqHbpWjsNyfC8eqON65/DqPp7u4S4GhqDn7pfa2KrQQppS3Zi2sMBK5J1AUWKmneyqJtsgz8ybxlEyrkuhRh8uLRG9c+vloTGwbisBvd6Za1ILlkYgD9NPbO0y6sBHqlTlQSRlqJEJ42N2eU6nte4Ghs/HA3EYWeTQ321ZYK7K2IL6EB64ngSirdqkU/nw8dB4T3jZ6y/RMPGvkibiv5EF97BWPtaOZzA7BjazOTQ2Ks9zWLRJZ2leUL6KyjcbkOmMvEy7VQ0wa7P7cXDALwkUSlUy3O7xtZ6tfO1KYcuLJP3ebdEtEIfQ24VJBYtrQY7ydfOnJO0f7Pi1o7kqdRM25gJyIccSauCs9nkAAz7oHRzWlCeF4cCzk6xS00exFuBssqJGILHeGzohAL6HV7sJZ3bGQj0Ds6SldmnxXD37mvXQGjDaptTDSOjlSt48zx4zZkX3EHCgHyKtjARLF6ALcwXfPG44oZu0Z2oIXlQ9z1zvPWMgtF7ya1M9kmkEgGl5yLHg+UcaksBepVG5WzowhPA3RLAJRsZJjge9XDLU/DbQyHEZgiZ2osTUzCVRzLPC9p8MwDmuKHiwiIALtKIb3wzDEizYEltjKfdcIFN9b8/wwGWdFXOm5CLC+ljoNTN7OfTeB4pwId3Z+A8GRAwafq16+W05MIS7smEx74Kjk7DlQLv7SwenyzvkmyVbrltlIZ2EESs25Dwuosn7E6v7K6yvPpcK1lucL1MieiAiz6e4RKAJTi1hY+Vgms0I3XrFltjJYMOFSWdb2E/HMnSvjxvXNXfVEoAaRYgMzGpWuNhSJGoBdKKsI1EFYtShhkagDuMaLEIE6Cai2e9LbPTid4HJTjAjUUZQ1ErF+xGik2/I6gm2kKBGosyBqW8Q97XDtDNnSxYlAA8S30okyA5r/qCJFoEHirt0PqpFoEOA3FSsCDQa+dg+ObocYDPyk4kWgCUCLRBNAvukVItAk4EWiSUBPfo0INBFwkWgi2JNeJQJNAjq+RiSaDPjA1+Ft5bjkNN15Pt1uU61EY+9WdOeBGone0XaIVmin5i/dw2v6Vj0vBELKJRKZBn+qaq7zslIcpNldyp4IVCIRa0ScaqmQn3UIVDr+zOzZcN4IhJpAlvSYWo7MgkRKayDAuQicqZ4elfxRCIGtLuaSRwKVDrW3fGePOaWYVCFGGvZ9QRRIw18+pWN8zV4b45FAyJ/jsd7LFMH08UiTlPaO15whSq1+ZueyXglU8uZoPjSWPmD+bjaStJpdHGuFc4jt/iaTVwIBdmlNweN8iHbmtwGOUjZMLT4lYrSSJa0zcx6sCD6mHUCeCYRASgeVmDUHCloPOZgnxDlCPEePR+P1KukFx6OIM6pc7lWCIHRsfOK/R72ve7neCVSbD7HA2qtnizZ+Kpw4Ia711t0FabzAlCjsJsacNnlp8Fkcn0Cgq+sK77/uNdrCNJo0Z3H3+jxEgSDpaOL6YMwnEAhlLd0IwfFZqXCjC3U1UjDRntWbx5GD9+XEKH3ntaP4rF1PIRANzhdYVxBuJAe9OvVHadMFRpSWibbSTQg8iUC1e4n2oEeJ97xcmC5pj4yy84nmjGszZg9Az78/iUClmyC2ZPtJ4krdeg6SKD0UgScRCBFDIkaiUrhIHDXceIgeqtNTm/00Ak0FVy/zj4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABP4LJsAG/ndmmjgAAAAASUVORK5CYII=",moves:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],pk:-2},{name:"Color switch",imageWhite:"static/color-switch.png",imageBlack:"static/color-switch.png",moves:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],pk:-1}],NG=new Map;Pt.forEach(OG,function(n,r){NG.set(n.pk,n)});const cD=({moveGrid:n,changeMoveGrid:r,selectedMove:o})=>{const l=lt(f=>f.pkToMove),s=lt(f=>f.mouseDownState),c=r!==void 0&&o!==void 0;return R("div",{className:"grid grid-cols-15 grid-rows-15 gap-x-0 w-75 h-75 border-gray-900 border-2 p-0 m-0",children:n.map((f,d)=>f.map((g,_)=>{const b=(d+_)%2===0?"dark":"light";let y="h-5 w-5 m-0 b-0 min-w-full";b==="light"?y+=" bg-grid_light hover:bg-blue-100 focus:bg-blue-300":y+=" bg-grid_dark hover:bg-green-100 focus:bg-green-300";let E=R(Pn,{});d==7&&_==7&&(E=R("div",{className:"rounded-full",children:R(GF,{})})),g&&(E=R("div",{className:"-translate-y-0.5 -translate-x-0.5",children:R(gh,{move:l.get(g)})}));let S;return c&&(S=D=>{if(!(d==7&&_==7)&&(D.type=="mousedown"||s>=0)){const L=Pt.cloneDeep(n);o.pk==uD||s==2||D.button==2?(L[d][_]=null,L[d][15-_-1]=null):(L[d][_]=o.pk,L[d][15-_-1]=o.pk),r(L)}}),R("button",{className:y,onMouseDown:S,onMouseEnter:S,children:E},d*15+_)}))})},hD=({piece:n})=>{const r=lt(o=>o.pkToMove);return de("div",{children:[de("p",{className:"inline-flex",children:[R("img",{draggable:"false",src:n.imageWhite}),n.name]}),R("div",{className:"container mx-auto p-1",onContextMenu:o=>o.preventDefault(),children:R(cD,{moveGrid:n.moves})}),R("div",{className:"container mx-auto p-1",children:Pt.uniq(Pt.flatMap(n.moves)).filter(o=>o!=null).map(o=>{const l=r.get(o);return de("div",{className:"inline-flex",children:[" ",R(gh,{move:l}),l.overview]},o)})})]})};var mT={exports:{}},dD=function(r,o){return function(){for(var s=new Array(arguments.length),c=0;c<s.length;c++)s[c]=arguments[c];return r.apply(o,s)}},LG=dD,vh=Object.prototype.toString;function _T(n){return vh.call(n)==="[object Array]"}function Yw(n){return typeof n>"u"}function MG(n){return n!==null&&!Yw(n)&&n.constructor!==null&&!Yw(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function BG(n){return vh.call(n)==="[object ArrayBuffer]"}function PG(n){return typeof FormData<"u"&&n instanceof FormData}function FG(n){var r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&n.buffer instanceof ArrayBuffer,r}function GG(n){return typeof n=="string"}function UG(n){return typeof n=="number"}function pD(n){return n!==null&&typeof n=="object"}function qb(n){if(vh.call(n)!=="[object Object]")return!1;var r=Object.getPrototypeOf(n);return r===null||r===Object.prototype}function HG(n){return vh.call(n)==="[object Date]"}function VG(n){return vh.call(n)==="[object File]"}function WG(n){return vh.call(n)==="[object Blob]"}function fD(n){return vh.call(n)==="[object Function]"}function zG(n){return pD(n)&&fD(n.pipe)}function jG(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function XG(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function YG(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function vT(n,r){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),_T(n))for(var o=0,l=n.length;o<l;o++)r.call(null,n[o],o,n);else for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.call(null,n[s],s,n)}function Kw(){var n={};function r(s,c){qb(n[c])&&qb(s)?n[c]=Kw(n[c],s):qb(s)?n[c]=Kw({},s):_T(s)?n[c]=s.slice():n[c]=s}for(var o=0,l=arguments.length;o<l;o++)vT(arguments[o],r);return n}function KG(n,r,o){return vT(r,function(s,c){o&&typeof s=="function"?n[c]=LG(s,o):n[c]=s}),n}function JG(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}var ni={isArray:_T,isArrayBuffer:BG,isBuffer:MG,isFormData:PG,isArrayBufferView:FG,isString:GG,isNumber:UG,isObject:pD,isPlainObject:qb,isUndefined:Yw,isDate:HG,isFile:VG,isBlob:WG,isFunction:fD,isStream:zG,isURLSearchParams:jG,isStandardBrowserEnv:YG,forEach:vT,merge:Kw,extend:KG,trim:XG,stripBOM:JG},bp=ni;function O1(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var gD=function(r,o,l){if(!o)return r;var s;if(l)s=l(o);else if(bp.isURLSearchParams(o))s=o.toString();else{var c=[];bp.forEach(o,function(g,_){g===null||typeof g>"u"||(bp.isArray(g)?_=_+"[]":g=[g],bp.forEach(g,function(y){bp.isDate(y)?y=y.toISOString():bp.isObject(y)&&(y=JSON.stringify(y)),c.push(O1(_)+"="+O1(y))}))}),s=c.join("&")}if(s){var f=r.indexOf("#");f!==-1&&(r=r.slice(0,f)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r},qG=ni;function $y(){this.handlers=[]}$y.prototype.use=function(r,o,l){return this.handlers.push({fulfilled:r,rejected:o,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1};$y.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};$y.prototype.forEach=function(r){qG.forEach(this.handlers,function(l){l!==null&&r(l)})};var ZG=$y,QG=ni,e5=function(r,o){QG.forEach(r,function(s,c){c!==o&&c.toUpperCase()===o.toUpperCase()&&(r[o]=s,delete r[c])})},mD=function(r,o,l,s,c){return r.config=o,l&&(r.code=l),r.request=s,r.response=c,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},r},EE,N1;function _D(){if(N1)return EE;N1=1;var n=mD;return EE=function(o,l,s,c,f){var d=new Error(o);return n(d,l,s,c,f)},EE}var wE,L1;function t5(){if(L1)return wE;L1=1;var n=_D();return wE=function(o,l,s){var c=s.config.validateStatus;!s.status||!c||c(s.status)?o(s):l(n("Request failed with status code "+s.status,s.config,null,s.request,s))},wE}var kE,M1;function n5(){if(M1)return kE;M1=1;var n=ni;return kE=n.isStandardBrowserEnv()?function(){return{write:function(l,s,c,f,d,g){var _=[];_.push(l+"="+encodeURIComponent(s)),n.isNumber(c)&&_.push("expires="+new Date(c).toGMTString()),n.isString(f)&&_.push("path="+f),n.isString(d)&&_.push("domain="+d),g===!0&&_.push("secure"),document.cookie=_.join("; ")},read:function(l){var s=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),kE}var TE,B1;function r5(){return B1||(B1=1,TE=function(r){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r)}),TE}var CE,P1;function o5(){return P1||(P1=1,CE=function(r,o){return o?r.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):r}),CE}var SE,F1;function i5(){if(F1)return SE;F1=1;var n=r5(),r=o5();return SE=function(l,s){return l&&!n(s)?r(l,s):s},SE}var IE,G1;function s5(){if(G1)return IE;G1=1;var n=ni,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return IE=function(l){var s={},c,f,d;return l&&n.forEach(l.split(`
`),function(_){if(d=_.indexOf(":"),c=n.trim(_.substr(0,d)).toLowerCase(),f=n.trim(_.substr(d+1)),c){if(s[c]&&r.indexOf(c)>=0)return;c==="set-cookie"?s[c]=(s[c]?s[c]:[]).concat([f]):s[c]=s[c]?s[c]+", "+f:f}}),s},IE}var RE,U1;function l5(){if(U1)return RE;U1=1;var n=ni;return RE=n.isStandardBrowserEnv()?function(){var o=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a"),s;function c(f){var d=f;return o&&(l.setAttribute("href",d),d=l.href),l.setAttribute("href",d),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return s=c(window.location.href),function(d){var g=n.isString(d)?c(d):d;return g.protocol===s.protocol&&g.host===s.host}}():function(){return function(){return!0}}(),RE}var xE,H1;function V1(){if(H1)return xE;H1=1;var n=ni,r=t5(),o=n5(),l=gD,s=i5(),c=s5(),f=l5(),d=_D();return xE=function(_){return new Promise(function(y,E){var S=_.data,D=_.headers,L=_.responseType;n.isFormData(S)&&delete D["Content-Type"];var N=new XMLHttpRequest;if(_.auth){var w=_.auth.username||"",k=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";D.Authorization="Basic "+btoa(w+":"+k)}var I=s(_.baseURL,_.url);N.open(_.method.toUpperCase(),l(I,_.params,_.paramsSerializer),!0),N.timeout=_.timeout;function P(){if(N){var j="getAllResponseHeaders"in N?c(N.getAllResponseHeaders()):null,H=!L||L==="text"||L==="json"?N.responseText:N.response,K={data:H,status:N.status,statusText:N.statusText,headers:j,config:_,request:N};r(y,E,K),N=null}}if("onloadend"in N?N.onloadend=P:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(P)},N.onabort=function(){N&&(E(d("Request aborted",_,"ECONNABORTED",N)),N=null)},N.onerror=function(){E(d("Network Error",_,null,N)),N=null},N.ontimeout=function(){var H="timeout of "+_.timeout+"ms exceeded";_.timeoutErrorMessage&&(H=_.timeoutErrorMessage),E(d(H,_,_.transitional&&_.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",N)),N=null},n.isStandardBrowserEnv()){var W=(_.withCredentials||f(I))&&_.xsrfCookieName?o.read(_.xsrfCookieName):void 0;W&&(D[_.xsrfHeaderName]=W)}"setRequestHeader"in N&&n.forEach(D,function(H,K){typeof S>"u"&&K.toLowerCase()==="content-type"?delete D[K]:N.setRequestHeader(K,H)}),n.isUndefined(_.withCredentials)||(N.withCredentials=!!_.withCredentials),L&&L!=="json"&&(N.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&N.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&N.upload&&N.upload.addEventListener("progress",_.onUploadProgress),_.cancelToken&&_.cancelToken.promise.then(function(H){N&&(N.abort(),E(H),N=null)}),S||(S=null),N.send(S)})},xE}var _r=ni,W1=e5,a5=mD,u5={"Content-Type":"application/x-www-form-urlencoded"};function z1(n,r){!_r.isUndefined(n)&&_r.isUndefined(n["Content-Type"])&&(n["Content-Type"]=r)}function c5(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=V1()),n}function h5(n,r,o){if(_r.isString(n))try{return(r||JSON.parse)(n),_r.trim(n)}catch(l){if(l.name!=="SyntaxError")throw l}return(o||JSON.stringify)(n)}var yy={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:c5(),transformRequest:[function(r,o){return W1(o,"Accept"),W1(o,"Content-Type"),_r.isFormData(r)||_r.isArrayBuffer(r)||_r.isBuffer(r)||_r.isStream(r)||_r.isFile(r)||_r.isBlob(r)?r:_r.isArrayBufferView(r)?r.buffer:_r.isURLSearchParams(r)?(z1(o,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):_r.isObject(r)||o&&o["Content-Type"]==="application/json"?(z1(o,"application/json"),h5(r)):r}],transformResponse:[function(r){var o=this.transitional,l=o&&o.silentJSONParsing,s=o&&o.forcedJSONParsing,c=!l&&this.responseType==="json";if(c||s&&_r.isString(r)&&r.length)try{return JSON.parse(r)}catch(f){if(c)throw f.name==="SyntaxError"?a5(f,this,"E_JSON_PARSE"):f}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(r){return r>=200&&r<300}};yy.headers={common:{Accept:"application/json, text/plain, */*"}};_r.forEach(["delete","get","head"],function(r){yy.headers[r]={}});_r.forEach(["post","put","patch"],function(r){yy.headers[r]=_r.merge(u5)});var bT=yy,d5=ni,p5=bT,f5=function(r,o,l){var s=this||p5;return d5.forEach(l,function(f){r=f.call(s,r,o)}),r},AE,j1;function vD(){return j1||(j1=1,AE=function(r){return!!(r&&r.__CANCEL__)}),AE}var X1=ni,DE=f5,g5=vD(),m5=bT;function OE(n){n.cancelToken&&n.cancelToken.throwIfRequested()}var _5=function(r){OE(r),r.headers=r.headers||{},r.data=DE.call(r,r.data,r.headers,r.transformRequest),r.headers=X1.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),X1.forEach(["delete","get","head","post","put","patch","common"],function(s){delete r.headers[s]});var o=r.adapter||m5.adapter;return o(r).then(function(s){return OE(r),s.data=DE.call(r,s.data,s.headers,r.transformResponse),s},function(s){return g5(s)||(OE(r),s&&s.response&&(s.response.data=DE.call(r,s.response.data,s.response.headers,r.transformResponse))),Promise.reject(s)})},Vr=ni,bD=function(r,o){o=o||{};var l={},s=["url","method","data"],c=["headers","auth","proxy","params"],f=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],d=["validateStatus"];function g(E,S){return Vr.isPlainObject(E)&&Vr.isPlainObject(S)?Vr.merge(E,S):Vr.isPlainObject(S)?Vr.merge({},S):Vr.isArray(S)?S.slice():S}function _(E){Vr.isUndefined(o[E])?Vr.isUndefined(r[E])||(l[E]=g(void 0,r[E])):l[E]=g(r[E],o[E])}Vr.forEach(s,function(S){Vr.isUndefined(o[S])||(l[S]=g(void 0,o[S]))}),Vr.forEach(c,_),Vr.forEach(f,function(S){Vr.isUndefined(o[S])?Vr.isUndefined(r[S])||(l[S]=g(void 0,r[S])):l[S]=g(void 0,o[S])}),Vr.forEach(d,function(S){S in o?l[S]=g(r[S],o[S]):S in r&&(l[S]=g(void 0,r[S]))});var b=s.concat(c).concat(f).concat(d),y=Object.keys(r).concat(Object.keys(o)).filter(function(S){return b.indexOf(S)===-1});return Vr.forEach(y,_),l};const v5="axios",b5="0.21.4",$5="Promise based HTTP client for the browser and node.js",y5="index.js",E5={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},w5={type:"git",url:"https://github.com/axios/axios.git"},k5=["xhr","http","ajax","promise","node"],T5="Matt Zabriskie",C5="MIT",S5={url:"https://github.com/axios/axios/issues"},I5="https://axios-http.com",R5={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},x5={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},A5="dist/axios.min.js",D5="dist/axios.min.js",O5="./index.d.ts",N5={"follow-redirects":"^1.14.0"},L5=[{path:"./dist/axios.min.js",threshold:"5kB"}],M5={name:v5,version:b5,description:$5,main:y5,scripts:E5,repository:w5,keywords:k5,author:T5,license:C5,bugs:S5,homepage:I5,devDependencies:R5,browser:x5,jsdelivr:A5,unpkg:D5,typings:O5,dependencies:N5,bundlesize:L5};var $D=M5,$T={};["object","boolean","number","function","string","symbol"].forEach(function(n,r){$T[n]=function(l){return typeof l===n||"a"+(r<1?"n ":" ")+n}});var Y1={},B5=$D.version.split(".");function yD(n,r){for(var o=r?r.split("."):B5,l=n.split("."),s=0;s<3;s++){if(o[s]>l[s])return!0;if(o[s]<l[s])return!1}return!1}$T.transitional=function(r,o,l){var s=o&&yD(o);function c(f,d){return"[Axios v"+$D.version+"] Transitional option '"+f+"'"+d+(l?". "+l:"")}return function(f,d,g){if(r===!1)throw new Error(c(d," has been removed in "+o));return s&&!Y1[d]&&(Y1[d]=!0,console.warn(c(d," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(f,d,g):!0}};function P5(n,r,o){if(typeof n!="object")throw new TypeError("options must be an object");for(var l=Object.keys(n),s=l.length;s-- >0;){var c=l[s],f=r[c];if(f){var d=n[c],g=d===void 0||f(d,c,n);if(g!==!0)throw new TypeError("option "+c+" must be "+g);continue}if(o!==!0)throw Error("Unknown option "+c)}}var F5={isOlderVersion:yD,assertOptions:P5,validators:$T},ED=ni,G5=gD,K1=ZG,J1=_5,Ey=bD,wD=F5,$p=wD.validators;function O_(n){this.defaults=n,this.interceptors={request:new K1,response:new K1}}O_.prototype.request=function(r){typeof r=="string"?(r=arguments[1]||{},r.url=arguments[0]):r=r||{},r=Ey(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var o=r.transitional;o!==void 0&&wD.assertOptions(o,{silentJSONParsing:$p.transitional($p.boolean,"1.0.0"),forcedJSONParsing:$p.transitional($p.boolean,"1.0.0"),clarifyTimeoutError:$p.transitional($p.boolean,"1.0.0")},!1);var l=[],s=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(r)===!1||(s=s&&E.synchronous,l.unshift(E.fulfilled,E.rejected))});var c=[];this.interceptors.response.forEach(function(E){c.push(E.fulfilled,E.rejected)});var f;if(!s){var d=[J1,void 0];for(Array.prototype.unshift.apply(d,l),d=d.concat(c),f=Promise.resolve(r);d.length;)f=f.then(d.shift(),d.shift());return f}for(var g=r;l.length;){var _=l.shift(),b=l.shift();try{g=_(g)}catch(y){b(y);break}}try{f=J1(g)}catch(y){return Promise.reject(y)}for(;c.length;)f=f.then(c.shift(),c.shift());return f};O_.prototype.getUri=function(r){return r=Ey(this.defaults,r),G5(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")};ED.forEach(["delete","get","head","options"],function(r){O_.prototype[r]=function(o,l){return this.request(Ey(l||{},{method:r,url:o,data:(l||{}).data}))}});ED.forEach(["post","put","patch"],function(r){O_.prototype[r]=function(o,l,s){return this.request(Ey(s||{},{method:r,url:o,data:l}))}});var U5=O_,NE,q1;function kD(){if(q1)return NE;q1=1;function n(r){this.message=r}return n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,NE=n,NE}var LE,Z1;function H5(){if(Z1)return LE;Z1=1;var n=kD();function r(o){if(typeof o!="function")throw new TypeError("executor must be a function.");var l;this.promise=new Promise(function(f){l=f});var s=this;o(function(f){s.reason||(s.reason=new n(f),l(s.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var l,s=new r(function(f){l=f});return{token:s,cancel:l}},LE=r,LE}var ME,Q1;function V5(){return Q1||(Q1=1,ME=function(r){return function(l){return r.apply(null,l)}}),ME}var BE,eS;function W5(){return eS||(eS=1,BE=function(r){return typeof r=="object"&&r.isAxiosError===!0}),BE}var tS=ni,z5=dD,Zb=U5,j5=bD,X5=bT;function TD(n){var r=new Zb(n),o=z5(Zb.prototype.request,r);return tS.extend(o,Zb.prototype,r),tS.extend(o,r),o}var ws=TD(X5);ws.Axios=Zb;ws.create=function(r){return TD(j5(ws.defaults,r))};ws.Cancel=kD();ws.CancelToken=H5();ws.isCancel=vD();ws.all=function(r){return Promise.all(r)};ws.spread=V5();ws.isAxiosError=W5();mT.exports=ws;mT.exports.default=ws;var Y5=mT.exports,K5=Y5;const CD=Iu(K5),J5=n=>{const r=new WebSocket("ws://"+window.location.host+"/ws/game/"+n.toString()+"/");return r.onmessage=function(o){const l=JSON.parse(o.data);if(l.event_type=="invalid_move"||l.event_type=="fail")AG(n,l.message);else if(l.event_type=="board_update"||l.event_type=="agreement"){const s=l.game_data;xG(s.game_state.moves,s.pk),rU(s)}},r.onclose=function(o){o.code!=1e3&&(console.error("Game socket closed with message: "),console.error(o),M$("Game socket has closed, the dev is bad! Todo: a way to reset connection"))},r},q5=({locToHandler:n,gameState:r,selectedTile:o})=>{const l=lt(s=>s.pkToMove);return R("div",{className:"grid grid-cols-8 grid-rows-8 gap-x-0 h-98 w-98 border-gray-900 border-2 p-0 m-0",children:r.map((s,c)=>s.map((f,d)=>{const g=(c+d)%2===0?"dark":"light";let _="h-12 w-12 m-0 b-0 min-w-full";const b=o&&o.row==c&&o.col==d;g==="light"?b?_+=" bg-grid_light_highlight":_+=" bg-grid_light":b?_+=" bg-grid_dark_highlight":_+=" bg-grid_dark";let y=R("div",{className:"relative h-12"}),E=R(Pn,{}),S=R(Pn,{}),D="";if(f.piece!=null&&(f.piece.team=="white"?D=f.piece.imageWhite:D=f.piece.imageBlack,y=R("img",{draggable:"false",src:D,className:"relative z-10"}),f.piece.isRoyal&&(S=R("img",{draggable:"false",src:"static/crown.png",className:"absolute z-20 top-0 left-0 h-4 w-4 rotate-12 mx-8 -my-1 rounded-md drop-shadow-md"}))),o!=null&&o.piece){let N=c-o.row;o.piece.team=="black"&&(N*=-1),N+=7;const w=o.piece.moves[N][d-o.col+7];if(w!=null){const k=l.get(w);E=R(gh,{move:k,transparency:.5,className:"absolute z-30 h-6 w-6 my-3 mx-3 rounded-md border-2 drop-shadow-md top-0 left-0"})}}const L=de("div",{className:"relative",children:[y,E,S]});return R("button",{className:_,onMouseDown:n(c,d),children:L},c*15+d)}))})},Z5=({gameInfo:n})=>{const[r,o]=O.useState(null),l=(S,D)=>N=>{let w=n.gameState[S][D].piece;if(r==null)N.button==0&&o({row:S,col:D,piece:w});else if(N.button==0)if(r.piece==null)o({row:S,col:D,piece:w});else{let k=S-r.row;r.piece.team=="black"&&(k*=-1),k+=7,r.piece.moves[k][D-r.col+7]==null?o({row:S,col:D,piece:w}):(n.websocket.send(JSON.stringify({event_type:"move",from_loc:[r.row,r.col],to_loc:[S,D]})),o(null))}else N.button==2&&r!=null&&o(null)},s=()=>{n.websocket.send(JSON.stringify({event_type:"resign"}))},c=()=>{n.websocket.send(JSON.stringify({event_type:"draw"}))};let f=Xw(n.whiteUser),d=Xw(n.blackUser),g=R("span",{});switch(n.result){case Gl.BLACK_WIN:g=de("span",{children:[d," wins as Black"]});break;case Gl.BLACK_WIN_RESIGN:g=de("span",{children:[f," resigns. ",d," wins as Black"]});break;case Gl.WHITE_WIN:g=de("span",{children:[f," wins as White"]});break;case Gl.WHITE_WIN_RESIGN:g=de("span",{children:[d," resigns. ",f," wins as White"]});break;case Gl.DRAW:g=R("span",{children:"Draw"});break;case Gl.DRAW_AGREED:g=R("span",{children:"Draw by agreement"});break;case Gl.IN_PROGRESS:}let _="Offer Draw",b=!1;if(n.drawOffer!="none"){const S=lt.getState().username;n.drawOffer=="black"&&n.whiteUser==S||n.drawOffer=="white"&&n.blackUser==S?_="Accept Draw":b=!0}const y=n.errorMessage.replace("\\n",`
`);let E="Resign";return n.whiteUser==n.blackUser&&(n.whiteToMove?E="Resign as white":E="Resign as black"),de("div",{children:[de("p",{children:[f," (white) vs ",d," (black)"]}),de("div",{className:"grid md:grid-cols-2",children:[de("div",{className:"col-span-1",children:[R(q5,{locToHandler:l,gameState:n.gameState,selectedTile:r}),n.result==Gl.IN_PROGRESS?de("div",{className:"inline-flex",children:[R(Jo,{onClick:s,children:E}),R(Jo,{onClick:c,disabled:b,children:_})]}):de("div",{children:[g,R(Jo,{onClick:()=>DG(n.pk),children:"Exit game"})]}),R("p",{style:{whiteSpace:"pre-line"},children:y})]}),R("div",{className:"col-span-1",children:(r==null?void 0:r.piece)==null?R(Pn,{}):R(hD,{piece:r.piece})})]})]})},Q5=document.querySelector("[name=csrfmiddlewaretoken]").value,sh=CD.create({baseURL:aD,timeout:1e3,headers:{"X-CSRFToken":Q5}});sh.interceptors.response.use(n=>n,n=>{var o,l;console.error(n);const r=(l=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:l.message;throw r&&lt.setState(()=>({errorMessage:JSON.stringify(r)})),n});const eU=async()=>{const n=await sh.get("/moves",{params:{}});sD(n.data)},tU=n=>{const r=[];console.assert(n.length==8),console.assert(n[0].length==8);for(let o=0;o<8;o++)for(let l=0;l<8;l++){const s=n[o][l];s!=null&&r.push({piece:s.piecePk,row:o,col:l,team:s.team,is_royal:s.isRoyal})}return r},SD=n=>{const r=Pt.map(n,o=>({cat:o.cat,name:o.name,pk:o.pk,author:o.author,boardSetup:RD(o.piece_locations)}));lt.setState(o=>({boardSetups:Pt.uniqBy([...r,...o.boardSetups],s=>s.pk)}))},nU=async(n,r,o,l)=>{const s=tU(n);return await sh.post("/boardSetups",{params:{name:r,piece_locations:s,wincon_white:o,wincon_black:l}}).then(c=>SD([c.data.new_board_setups]))},nS=async(n={})=>sh.get("/boardSetups",{params:n}).then(r=>{const o=r.data;o.pieces=Pt.mapValues(o.pieces,l=>(l.piecePk=l.piece,delete l.piece,l)),gT(o.pieces),SD(o.boards)}),ID=n=>{const r=Array.from({length:8}).map((l,s)=>Array.from({length:8}).map((c,f)=>({row:s,col:f,piece:null}))),o=lt.getState().pkToPiece;for(let[l,s]of Object.entries(n.board)){let[c,f]=l.split(",");const d=s.piece;if(d!=null){const g=o.get(d.piece_pk),_={team:d.team,isRoyal:d.is_royal,moves:fT(d.piece_moves),name:d.name,pk:d.piece_pk,author:g==null?void 0:g.author,imageBlack:g==null?void 0:g.imageBlack,imageWhite:g==null?void 0:g.imageWhite};r[parseInt(c)][parseInt(f)].piece=_}}return r},rU=n=>lt.setState(r=>{const o=ID(n.game_state),l=n.pk;return{games:Pt.map(r.games,c=>c.pk==l?{websocket:c.websocket,whiteUser:n.white_user,blackUser:n.black_user,whiteToMove:n.white_to_move,gameState:o,boardName:c.boardName,boardPk:c.boardPk,pk:n.pk,result:n.result,errorMessage:"",drawOffer:n.game_state.draw_offer}:c)}}),RD=n=>{const r=iD();for(let o of Object.values(n))r[o.row][o.col]={piecePk:o.piece,team:o.team,isRoyal:o.is_royal};return r},xD=(n,r=!0)=>lt.setState(o=>{const l=n.map(s=>({requestingUser:s.requesting_user,pk:s.pk,boardSetupMeta:{...s.board_setup,boardSetup:RD(s.board_setup.piece_locations)}}));return r?{lobbySetups:Pt.uniqBy([...l,...o.lobbySetups],c=>c.pk)}:{lobbySetups:l}}),rS=n=>lt.setState(r=>({lobbySetups:r.lobbySetups.filter(l=>n.indexOf(l.pk)==-1)})),AD=n=>{lt.setState(r=>{const o=n.pk,l={websocket:J5(o),whiteUser:n.white_user,blackUser:n.black_user,whiteToMove:n.white_to_move,boardName:n.setup.name,boardPk:n.setup.pk,gameState:ID(n.game_state),pk:o,result:n.result,errorMessage:"",drawOffer:n.game_state.draw_offer};return{games:[...r.games,l]}})},oU=n=>(n.onmessage=function(r){const o=JSON.parse(r.data);if(o.event_type=="begin_game"){const l=o.game_data,s=o.whoami==l.white_user,c=o.whoami==l.black_user;(s||c)&&AD(l),rS(o.deleted_ids)}else o.event_type=="delete_game"?rS(o.deleted_ids):o.event_type=="fail"?lt.setState(()=>({errorMessage:o.message})):o.event_type=="new_game"&&(xD([o.request]),gT(o.pieces))},n.onclose=function(r){M$("Lobby socket closed unexpectedly, you need to restart to join a new game."),console.log("Lobby socket closed with message: "),console.log(r)},n),iU=n=>{lt.setState(()=>({username:n})),n!=""&&(eU(),sh.get("/pieces",{params:{}}).then(r=>{const o=r.data;lD(o.pieces);const l=o.move_map;RG(l)}),nS(),lt.setState(r=>{if(r.lobby!=null)return{};const o=new WebSocket("ws://"+window.location.host+"/ws/lobby/");return{lobby:oU(o)}}),sh.get("/gameRequests").then(r=>{const o=r.data;gT(o.pieces),xD(o.game_requests,!1)}),sh.get("/games").then(r=>{const o=r.data.games;let l=[];for(const s of o)l.push(s.setup.pk);l=Pt.uniq(l),nS({pk_list:l.join(",")}).then(()=>{const s=lt.getState().games;for(const c of o){let f=!1;for(const d of s)d.pk==c.pk&&(f=!0);f||AD(c)}})}))},oS=-10,DD=-8,OD=-5,sU=({selectedPiece:n,setSelectedPiece:r,pieces:o,swapColors:l,swapRoyal:s,placingWhite:c,placingRoyal:f})=>R("div",{className:"grid grid-cols-8 grid-rows-8 gap-x-0 w-96 border-gray-900 border-2 p-0 m-0",children:o.map(d=>{let g="hover:bg-slate-300";d.pk===(n==null?void 0:n.pk)&&(g+=" bg-slate-200");let _;if(d.pk==DD)_=()=>{l()};else{if(d.pk==OD)return _=()=>{s()},R("button",{onClick:_,className:g,children:R("img",{draggable:"false",src:f?d.imageWhite:d.imageBlack})},d.pk);_=()=>{r(d)}}return R("button",{onClick:_,className:g,children:R("img",{draggable:"false",src:c?d.imageWhite:d.imageBlack})},d.pk)})}),lU=({locToHandler:n,boardSetup:r})=>{const o=lt(l=>l.pkToPiece);return R("div",{className:"grid grid-cols-8 grid-rows-8 gap-x-0 w-96 border-gray-900 border-2 p-0 m-0",onContextMenu:l=>l.preventDefault(),children:r.map((l,s)=>l.map((c,f)=>{const d=(s+f)%2===0?"dark":"light";let g="h-12 w-12 m-0 b-0 min-w-full";d==="light"?g+=" bg-grid_light hover:bg-blue-100 focus:bg-blue-300":g+=" bg-grid_dark hover:bg-green-100 focus:bg-green-300";let _=R(Pn,{});if(c!=null){let b="";const y=o.get(c.piecePk);c.team=="white"?b=y.imageWhite:b=y.imageBlack,c.isRoyal?_=de("div",{className:"relative",children:[R("img",{draggable:"false",src:b,className:"top-0 left-0"}),R("img",{draggable:"false",src:"static/crown.png",className:"absolute top-0 left-0 h-4 w-4 rotate-12 mx-8 -my-1 rounded-md drop-shadow-md"})]}):_=R("img",{draggable:"false",src:b})}return R("button",{className:g,onMouseDown:n(s,f),children:_},s*15+f)}))})},yp=[{value:"anyR",label:"Kill any enemy royal"},{value:"allR",label:"Kill all enemy royals"},{value:"all",label:"Kill all enemy pieces"}],aU=()=>{const n=lt(H=>H.userPieces),r=[{name:"Delete",imageWhite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAADQCAYAAAB2pO90AAAAAXNSR0IArs4c6QAAEAxJREFUeF7tnU3uLTcRxZ0pE2AFISsAFoACC0CBFQRWAMyRgAHjwAqAFQAS85AVACsIYQMBhJiCfnrXwTF2f/mjy9XH0tX/vXvbbvtUHbtcLttvBSUhIAQuI/DW5ZzKKASEQBCBpARCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6sIfAV0IIXw0hfO31+fNehgO//zGE8NGB58w/IgLNEdGXXkrIXxQRBYrpm69//DWEwOcvIYS/d67Wu1l5kQzxb+fXHSqONkJGsOBvbDOE5Tv+/49DJd34kAj0P/BR7p+8FLynSFBSyj6aomIdfX7vuUjQvecs/f6dEMLvLVWoVhcR6A0yPwgh/PSkoq8g31Xr+MMQwm9DCH+z3oCnEwhz4VchhBV76Zm6xXwFM4sPmI1IjNJ0ZKRfv/79zxEv6lnmkwn0QQiBnm5WinMblBCzLqY4H0IxIfLbAyr0yWt+FYuO8y3enc7HBrz6VJH/eT2NGQtG1Nt0ehqB6OUYcbCxS4lJK6ZcD09TrqxHFaH3aNh7TnW0HVeeA3c8fqTvhRB+c6WQmXmeRqAPN8w1zBSI1dsDNlOeq78L0+39ZBR6x7o8nkQgenYIlCdGnV+8Rp7VFXD1+jPqYCHE9PMQwo8tN+opBMKehjy5OxkTAZONOYHS/QgwD/w4qcYfQgjfvr9a9Ro8gUA18nz/5e2xLJ+n1Y0O7tOk0ZjTX7YMgmcCYbKxMFqalP9MJptJtczNbOalvZ0qXRvukUB7azs/es15ugKpwrogkJtwGoG6wHq8kJq5Fkv45eS1n+M115MRgbgWFP/PupjZiARPI9AWeTAFcBZYWjQUZcoIIKM0+NX0XNULgZjrQJA8iThvPI/vvTyQBGha9zgiR+QZk+n5qgcCsW7A+kGecFGXvn9az88aV4wxY6X/68YBEIEmCkjk2Qa7ZNZCoJ6hSr3FLQL1RrRQXi2mjagCRp3fDaxDag5ZDvvBo/WnwuIx6yqW6y0CDVReioY8RBWkEc18T+Qu341UjpXMIciTY7SCC18EGkggFIKNVvmeFLYKMPKMNk0IM0nf/d3Bo91VKFOixzJWIA91FYGuSn0nHwRhD08ezwZ5WK0eOfLEqqXh9vE79hSxvmQl5YuR1Gslh4oI1FmTtkJycMtCrBnkoVlsd2AEzBNh+PTws+qxBXGugDNM254iz+tvmvyW3djxkI/artG7gM1D7tPR6Vs3k6hUN9MLkQXm5fFwpsN5rBIIM4SePp8EgzeeNkhFr39XYiTi/V/MKoCJdweJtrySYGlhZDwjKxZ7063tZl3vFgmEcrK+UzoKisgCelkLq+koJu7yuAU5HYkw52aFDdW8ktTHqpNjj0x5OA+d0iw89+r2ud+tEagWkoMdD3GsgYjy4vGK25BTcKkr5tNospc8bjPWw04p2smHc28nW7tH43iyim8et0KgrcM+mOtgslk1Q6g7ZMlHIvClzpBo1MIu70bZ0tEarySjuEmFO6ileUS2FT39v+pbqNjWfGeVtQsUGO9RjDnLgeY3giJ7plKnw8iz4pwnx0UEOqgpeFxwFuTzHRSBXtSaybbXLNoDWfKzqMmH04HRqEeqzRNNRy6faDgjd+qgMRt+dOcIVJvveDBBMDlZ9M1TDy9dLcZttfWeLT7lTgSzlsgdBMI1jZet5KK2Pt850Yl+dgtDb1d3vtBInWaFMp1pf8uzeRvNno0wm0C1UQewvZgfqeJsubqvrBfR6RAkmiaPuC1zuMgsAm2NOlZd1C09aJq35qXDzodERwNgS3t7wG7UYe+92n+lHBEoQW1r1Jkdy3ZFmD3ybLm6j4Ta1M57MLvA2AiaCPSa49TmOvScTLRHrY80ym9IdkhEe2seulowao08nk8YKpmqJhdTR5lwW6MOgmeSaHVhdAh7kkJLkQP8XPLQPZE8Eap864jJsKTeBHryXOcM8WrBqOm8qBRlwDvuikI/074ezy6xL6gXgeLtYqWjpQDz6aNOSaHobFhczUOAIokwcfMYu6eQB7weQyB6UxYNS94g7x621p6WjgcScVBJmv4dQvhC9t2TyPMIAm3tFI2mhuUg0Fbl75k/vViqVK5Xd/UWhm5HIHpNRpzaoYVP9LD1IFONRP963ZGzWlxgKyYuCbS12U1znVaVeeOJy+dEEOgbJxZc22thowRXBNq7nJcFUcy1lfeg3K02Na8b9cKxgPu795aIu9v8CBOudhYbjSeIEeI8zbwYoXhs66jdHh7f13NLxIg29Cxz+REI4rBBrDbX8RjE2FMBzpRVOuObzqm0y/UpJFqaQLWNbnHUmXEK6BkFXPnZGnnowGoLrk8g0dIEImYrX5uIToLaOW0rK/FddS/t7WE3Lh1YjNKuBaL22Jx3V7uPvHdpAuU7AuO6ju7bOSL6Y8+UAiZz8sSSIBEOmnxzHs4FYsQ8zkGXJhDCRSipwBAWB9zJ03aMIFtPlc5yq5EnllPbnMfvR7ZEtNd6bglLEwioSiSS46BdiWoHIR7Z21ML/aFWI07+aW/t9RKWJxBNz89aPruL8jp8PnPWyHM2zq00dwIxT/MiFwRCKPkRQyLRNXLXyHP1ehbLh9xfQ+jzudwQqHREEyRih+BTN8WdVZBeI0/+XmuH3J/FZet5NwSK9nV69TjfEVrCNmSlbQRGkSf10JW2RGDO4Vw4emiJNTnmO3dNzr/PbKgr2d1PWNBrUazR5EnrVormHn02dws2e3mXuKHhDIFqaxG4tVmLWLWn2xPk1d9nkoc6bh1asqK1kJ+PbfJ43zMEQkgl13Z0NJw54+yqUq6SbzZ59kYifl/JWsiPtTK7ofAsgUSifQrXLkM+66ref1P9iZqHbpWjsNyfC8eqON65/DqPp7u4S4GhqDn7pfa2KrQQppS3Zi2sMBK5J1AUWKmneyqJtsgz8ybxlEyrkuhRh8uLRG9c+vloTGwbisBvd6Za1ILlkYgD9NPbO0y6sBHqlTlQSRlqJEJ42N2eU6nte4Ghs/HA3EYWeTQ321ZYK7K2IL6EB64ngSirdqkU/nw8dB4T3jZ6y/RMPGvkibiv5EF97BWPtaOZzA7BjazOTQ2Ks9zWLRJZ2leUL6KyjcbkOmMvEy7VQ0wa7P7cXDALwkUSlUy3O7xtZ6tfO1KYcuLJP3ebdEtEIfQ24VJBYtrQY7ydfOnJO0f7Pi1o7kqdRM25gJyIccSauCs9nkAAz7oHRzWlCeF4cCzk6xS00exFuBssqJGILHeGzohAL6HV7sJZ3bGQj0Ds6SldmnxXD37mvXQGjDaptTDSOjlSt48zx4zZkX3EHCgHyKtjARLF6ALcwXfPG44oZu0Z2oIXlQ9z1zvPWMgtF7ya1M9kmkEgGl5yLHg+UcaksBepVG5WzowhPA3RLAJRsZJjge9XDLU/DbQyHEZgiZ2osTUzCVRzLPC9p8MwDmuKHiwiIALtKIb3wzDEizYEltjKfdcIFN9b8/wwGWdFXOm5CLC+ljoNTN7OfTeB4pwId3Z+A8GRAwafq16+W05MIS7smEx74Kjk7DlQLv7SwenyzvkmyVbrltlIZ2EESs25Dwuosn7E6v7K6yvPpcK1lucL1MieiAiz6e4RKAJTi1hY+Vgms0I3XrFltjJYMOFSWdb2E/HMnSvjxvXNXfVEoAaRYgMzGpWuNhSJGoBdKKsI1EFYtShhkagDuMaLEIE6Cai2e9LbPTid4HJTjAjUUZQ1ErF+xGik2/I6gm2kKBGosyBqW8Q97XDtDNnSxYlAA8S30okyA5r/qCJFoEHirt0PqpFoEOA3FSsCDQa+dg+ObocYDPyk4kWgCUCLRBNAvukVItAk4EWiSUBPfo0INBFwkWgi2JNeJQJNAjq+RiSaDPjA1+Ft5bjkNN15Pt1uU61EY+9WdOeBGone0XaIVmin5i/dw2v6Vj0vBELKJRKZBn+qaq7zslIcpNldyp4IVCIRa0ScaqmQn3UIVDr+zOzZcN4IhJpAlvSYWo7MgkRKayDAuQicqZ4elfxRCIGtLuaSRwKVDrW3fGePOaWYVCFGGvZ9QRRIw18+pWN8zV4b45FAyJ/jsd7LFMH08UiTlPaO15whSq1+ZueyXglU8uZoPjSWPmD+bjaStJpdHGuFc4jt/iaTVwIBdmlNweN8iHbmtwGOUjZMLT4lYrSSJa0zcx6sCD6mHUCeCYRASgeVmDUHCloPOZgnxDlCPEePR+P1KukFx6OIM6pc7lWCIHRsfOK/R72ve7neCVSbD7HA2qtnizZ+Kpw4Ia711t0FabzAlCjsJsacNnlp8Fkcn0Cgq+sK77/uNdrCNJo0Z3H3+jxEgSDpaOL6YMwnEAhlLd0IwfFZqXCjC3U1UjDRntWbx5GD9+XEKH3ntaP4rF1PIRANzhdYVxBuJAe9OvVHadMFRpSWibbSTQg8iUC1e4n2oEeJ97xcmC5pj4yy84nmjGszZg9Az78/iUClmyC2ZPtJ4krdeg6SKD0UgScRCBFDIkaiUrhIHDXceIgeqtNTm/00Ak0FVy/zj4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABP4LJsAG/ndmmjgAAAAASUVORK5CYII=",imageBlack:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAADQCAYAAAB2pO90AAAAAXNSR0IArs4c6QAAEAxJREFUeF7tnU3uLTcRxZ0pE2AFISsAFoACC0CBFQRWAMyRgAHjwAqAFQAS85AVACsIYQMBhJiCfnrXwTF2f/mjy9XH0tX/vXvbbvtUHbtcLttvBSUhIAQuI/DW5ZzKKASEQBCBpARCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6IAQaEBCBGsBTViEgAkkHhEADAiJQA3jKKgREIOmAEGhAQARqAE9ZhYAIJB0QAg0IiEAN4CmrEBCBpANCoAEBEagBPGUVAiKQdEAINCAgAjWAp6xCQASSDgiBBgREoAbwlFUIiEDSASHQgIAI1ACesgoBEUg6sIfAV0IIXw0hfO31+fNehgO//zGE8NGB58w/IgLNEdGXXkrIXxQRBYrpm69//DWEwOcvIYS/d67Wu1l5kQzxb+fXHSqONkJGsOBvbDOE5Tv+/49DJd34kAj0P/BR7p+8FLynSFBSyj6aomIdfX7vuUjQvecs/f6dEMLvLVWoVhcR6A0yPwgh/PSkoq8g31Xr+MMQwm9DCH+z3oCnEwhz4VchhBV76Zm6xXwFM4sPmI1IjNJ0ZKRfv/79zxEv6lnmkwn0QQiBnm5WinMblBCzLqY4H0IxIfLbAyr0yWt+FYuO8y3enc7HBrz6VJH/eT2NGQtG1Nt0ehqB6OUYcbCxS4lJK6ZcD09TrqxHFaH3aNh7TnW0HVeeA3c8fqTvhRB+c6WQmXmeRqAPN8w1zBSI1dsDNlOeq78L0+39ZBR6x7o8nkQgenYIlCdGnV+8Rp7VFXD1+jPqYCHE9PMQwo8tN+opBMKehjy5OxkTAZONOYHS/QgwD/w4qcYfQgjfvr9a9Ro8gUA18nz/5e2xLJ+n1Y0O7tOk0ZjTX7YMgmcCYbKxMFqalP9MJptJtczNbOalvZ0qXRvukUB7azs/es15ugKpwrogkJtwGoG6wHq8kJq5Fkv45eS1n+M115MRgbgWFP/PupjZiARPI9AWeTAFcBZYWjQUZcoIIKM0+NX0XNULgZjrQJA8iThvPI/vvTyQBGha9zgiR+QZk+n5qgcCsW7A+kGecFGXvn9az88aV4wxY6X/68YBEIEmCkjk2Qa7ZNZCoJ6hSr3FLQL1RrRQXi2mjagCRp3fDaxDag5ZDvvBo/WnwuIx6yqW6y0CDVReioY8RBWkEc18T+Qu341UjpXMIciTY7SCC18EGkggFIKNVvmeFLYKMPKMNk0IM0nf/d3Bo91VKFOixzJWIA91FYGuSn0nHwRhD08ezwZ5WK0eOfLEqqXh9vE79hSxvmQl5YuR1Gslh4oI1FmTtkJycMtCrBnkoVlsd2AEzBNh+PTws+qxBXGugDNM254iz+tvmvyW3djxkI/artG7gM1D7tPR6Vs3k6hUN9MLkQXm5fFwpsN5rBIIM4SePp8EgzeeNkhFr39XYiTi/V/MKoCJdweJtrySYGlhZDwjKxZ7063tZl3vFgmEcrK+UzoKisgCelkLq+koJu7yuAU5HYkw52aFDdW8ktTHqpNjj0x5OA+d0iw89+r2ud+tEagWkoMdD3GsgYjy4vGK25BTcKkr5tNospc8bjPWw04p2smHc28nW7tH43iyim8et0KgrcM+mOtgslk1Q6g7ZMlHIvClzpBo1MIu70bZ0tEarySjuEmFO6ileUS2FT39v+pbqNjWfGeVtQsUGO9RjDnLgeY3giJ7plKnw8iz4pwnx0UEOqgpeFxwFuTzHRSBXtSaybbXLNoDWfKzqMmH04HRqEeqzRNNRy6faDgjd+qgMRt+dOcIVJvveDBBMDlZ9M1TDy9dLcZttfWeLT7lTgSzlsgdBMI1jZet5KK2Pt850Yl+dgtDb1d3vtBInWaFMp1pf8uzeRvNno0wm0C1UQewvZgfqeJsubqvrBfR6RAkmiaPuC1zuMgsAm2NOlZd1C09aJq35qXDzodERwNgS3t7wG7UYe+92n+lHBEoQW1r1Jkdy3ZFmD3ybLm6j4Ta1M57MLvA2AiaCPSa49TmOvScTLRHrY80ym9IdkhEe2seulowao08nk8YKpmqJhdTR5lwW6MOgmeSaHVhdAh7kkJLkQP8XPLQPZE8Eap864jJsKTeBHryXOcM8WrBqOm8qBRlwDvuikI/074ezy6xL6gXgeLtYqWjpQDz6aNOSaHobFhczUOAIokwcfMYu6eQB7weQyB6UxYNS94g7x621p6WjgcScVBJmv4dQvhC9t2TyPMIAm3tFI2mhuUg0Fbl75k/vViqVK5Xd/UWhm5HIHpNRpzaoYVP9LD1IFONRP963ZGzWlxgKyYuCbS12U1znVaVeeOJy+dEEOgbJxZc22thowRXBNq7nJcFUcy1lfeg3K02Na8b9cKxgPu795aIu9v8CBOudhYbjSeIEeI8zbwYoXhs66jdHh7f13NLxIg29Cxz+REI4rBBrDbX8RjE2FMBzpRVOuObzqm0y/UpJFqaQLWNbnHUmXEK6BkFXPnZGnnowGoLrk8g0dIEImYrX5uIToLaOW0rK/FddS/t7WE3Lh1YjNKuBaL22Jx3V7uPvHdpAuU7AuO6ju7bOSL6Y8+UAiZz8sSSIBEOmnxzHs4FYsQ8zkGXJhDCRSipwBAWB9zJ03aMIFtPlc5yq5EnllPbnMfvR7ZEtNd6bglLEwioSiSS46BdiWoHIR7Z21ML/aFWI07+aW/t9RKWJxBNz89aPruL8jp8PnPWyHM2zq00dwIxT/MiFwRCKPkRQyLRNXLXyHP1ehbLh9xfQ+jzudwQqHREEyRih+BTN8WdVZBeI0/+XmuH3J/FZet5NwSK9nV69TjfEVrCNmSlbQRGkSf10JW2RGDO4Vw4emiJNTnmO3dNzr/PbKgr2d1PWNBrUazR5EnrVormHn02dws2e3mXuKHhDIFqaxG4tVmLWLWn2xPk1d9nkoc6bh1asqK1kJ+PbfJ43zMEQkgl13Z0NJw54+yqUq6SbzZ59kYifl/JWsiPtTK7ofAsgUSifQrXLkM+66ref1P9iZqHbpWjsNyfC8eqON65/DqPp7u4S4GhqDn7pfa2KrQQppS3Zi2sMBK5J1AUWKmneyqJtsgz8ybxlEyrkuhRh8uLRG9c+vloTGwbisBvd6Za1ILlkYgD9NPbO0y6sBHqlTlQSRlqJEJ42N2eU6nte4Ghs/HA3EYWeTQ321ZYK7K2IL6EB64ngSirdqkU/nw8dB4T3jZ6y/RMPGvkibiv5EF97BWPtaOZzA7BjazOTQ2Ks9zWLRJZ2leUL6KyjcbkOmMvEy7VQ0wa7P7cXDALwkUSlUy3O7xtZ6tfO1KYcuLJP3ebdEtEIfQ24VJBYtrQY7ydfOnJO0f7Pi1o7kqdRM25gJyIccSauCs9nkAAz7oHRzWlCeF4cCzk6xS00exFuBssqJGILHeGzohAL6HV7sJZ3bGQj0Ds6SldmnxXD37mvXQGjDaptTDSOjlSt48zx4zZkX3EHCgHyKtjARLF6ALcwXfPG44oZu0Z2oIXlQ9z1zvPWMgtF7ya1M9kmkEgGl5yLHg+UcaksBepVG5WzowhPA3RLAJRsZJjge9XDLU/DbQyHEZgiZ2osTUzCVRzLPC9p8MwDmuKHiwiIALtKIb3wzDEizYEltjKfdcIFN9b8/wwGWdFXOm5CLC+ljoNTN7OfTeB4pwId3Z+A8GRAwafq16+W05MIS7smEx74Kjk7DlQLv7SwenyzvkmyVbrltlIZ2EESs25Dwuosn7E6v7K6yvPpcK1lucL1MieiAiz6e4RKAJTi1hY+Vgms0I3XrFltjJYMOFSWdb2E/HMnSvjxvXNXfVEoAaRYgMzGpWuNhSJGoBdKKsI1EFYtShhkagDuMaLEIE6Cai2e9LbPTid4HJTjAjUUZQ1ErF+xGik2/I6gm2kKBGosyBqW8Q97XDtDNnSxYlAA8S30okyA5r/qCJFoEHirt0PqpFoEOA3FSsCDQa+dg+ObocYDPyk4kWgCUCLRBNAvukVItAk4EWiSUBPfo0INBFwkWgi2JNeJQJNAjq+RiSaDPjA1+Ft5bjkNN15Pt1uU61EY+9WdOeBGone0XaIVmin5i/dw2v6Vj0vBELKJRKZBn+qaq7zslIcpNldyp4IVCIRa0ScaqmQn3UIVDr+zOzZcN4IhJpAlvSYWo7MgkRKayDAuQicqZ4elfxRCIGtLuaSRwKVDrW3fGePOaWYVCFGGvZ9QRRIw18+pWN8zV4b45FAyJ/jsd7LFMH08UiTlPaO15whSq1+ZueyXglU8uZoPjSWPmD+bjaStJpdHGuFc4jt/iaTVwIBdmlNweN8iHbmtwGOUjZMLT4lYrSSJa0zcx6sCD6mHUCeCYRASgeVmDUHCloPOZgnxDlCPEePR+P1KukFx6OIM6pc7lWCIHRsfOK/R72ve7neCVSbD7HA2qtnizZ+Kpw4Ia711t0FabzAlCjsJsacNnlp8Fkcn0Cgq+sK77/uNdrCNJo0Z3H3+jxEgSDpaOL6YMwnEAhlLd0IwfFZqXCjC3U1UjDRntWbx5GD9+XEKH3ntaP4rF1PIRANzhdYVxBuJAe9OvVHadMFRpSWibbSTQg8iUC1e4n2oEeJ97xcmC5pj4yy84nmjGszZg9Az78/iUClmyC2ZPtJ4krdeg6SKD0UgScRCBFDIkaiUrhIHDXceIgeqtNTm/00Ak0FVy/zj4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABESggeCqaP8IiED+ZawWDkRABBoIror2j4AI5F/GauFABP4LJsAG/ndmmjgAAAAASUVORK5CYII=",moves:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],pk:oS},{name:"Color switch",imageWhite:"static/color-switch.png",imageBlack:"static/color-switch.png",moves:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],pk:DD},{name:"Royalty switch",imageWhite:"static/crown.png",imageBlack:"static/crown-dashed.png",moves:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],pk:OD},...n],o=lt(H=>H.pkToPiece);for(let H of r)o.set(H.pk,H);const[l,s]=O.useState(null),[c,f]=O.useState(iD()),[d,g]=O.useState(!0),[_,b]=O.useState(!1),[y,E]=O.useState(""),[S,D]=O.useState(yp[0].value),[L,N]=O.useState(yp[0].value),w=()=>{g(!d)},k=()=>{b(!_)};lt(H=>H.errorMessage);const I=H=>{W("saving"),nU(c,y,L,S).then(K=>{W("ok")}).catch(K=>{W("fail"),console.error(K),lt.setState($e=>{var re,pe;return{errorMessage:(pe=(re=K==null?void 0:K.response)==null?void 0:re.data)==null?void 0:pe.message}})})},[P,W]=O.useState("ok");return de("div",{className:"grid md:grid-cols-2",children:[de("div",{className:"col-span-1 w-96",children:[R(sU,{setSelectedPiece:s,selectedPiece:l,pieces:r,swapColors:w,swapRoyal:k,placingRoyal:_,placingWhite:d}),R(lU,{boardSetup:c,locToHandler:(H,K)=>re=>{var ne;if(c[H][K]!=null&&re.button==1||re.button==0&&re.ctrlKey){s(o.get((ne=c[H][K])==null?void 0:ne.piecePk));return}if(l==null)return;const pe=Pt.cloneDeep(c);re.button==2||l.pk==oS?pe[H][K]=null:pe[H][K]={isRoyal:_,piecePk:l.pk,team:d?"white":"black"},f(pe)}}),de("div",{children:["White win condition: ",R(C1,{options:yp,defaultValue:yp[0],onChange:H=>{H&&N(H.value)}}),"Black win condition: ",R(C1,{options:yp,defaultValue:yp[0],onChange:H=>{H&&D(H.value)}})]}),de("div",{className:"inline-flex",children:[R(ih,{id:"boardName",type:"text",placeholder:"Board Name",value:y,onChange:H=>E(H.target.value),maxLength:63}),R(Jo,{onClick:I,children:"Save"}),R(pT,{savingState:P})]})]}),R("div",{className:"col-span-1",children:l==null?R("div",{}):R(hD,{piece:l})})]})},Db=({text:n})=>{const[r,o]=O.useState(!1);return de("div",{children:[R("div",{onClick:()=>o(!0),className:"h-5 w-5",children:R("i",{children:R(VF,{})})}),de(Yl,{show:r,onClose:()=>o(!1),className:"z-[200]",children:[R(Yl.Header,{children:"Help"}),R(Yl.Body,{children:R("div",{className:"space-y</i>-6",children:R("p",{className:"text-base leading-relaxed text-gray-500 dark:text-gray-400",children:n})})})]})]})},Jw=({min:n,max:r,label:o,formValue:l,setFormValue:s,barStyle:c,labelClass:f,inputClass:d})=>{const g=_=>{const b=_.target.value,y=parseInt(b);y.toString()==b&&y>=n&&y<=r&&s(y)};return f==null&&(f="block mb-2 w-12 pr-4 text-sm font-medium text-gray-900 dark:text-white"),d==null&&(d="h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),de("div",{className:"flex items-center",children:[de("label",{htmlFor:o,className:f,children:[" ",o," "]}),c?R("input",{type:"range",id:o,name:o,min:n,max:r,value:l,onChange:g,className:d},o):R("input",{type:"number",id:o,name:o,min:n,max:r,value:l,onChange:g,className:d},o)]})};var ND={exports:{}},PE={exports:{}},FE={exports:{}},iS;function LD(){return iS||(iS=1,function(n,r){(function(o,l){n.exports=l()})(Li,function(){var o={},l,s,c,f,d,g,_,b,y,E,S,D,L,N,w,k,I,P,W,j,H,K,$e,re,pe,ne,xe,Se,Ie,ce,qe,z,Y,Q,ee,Z,_e,be,se,He,Ke,It,Ct,we,jn,Xn,ao,Rt,Gt,it,Fn,yr,J,ye,tt,Oe,en,st,tn,ks,Er,rr,uo,bh,Ui,na,ra,ol,$h,oa,yh,N_,Eh,L_,wh,il,M_,kh,B_,Th,Ch,sf,P_,Sh,Ts,lf,ia,F_,af,uf,G_,U_,sl,Du,Ou,cf,Ih,hf,ri,oi,Nu,sa,la,H_,Lu,V_,W_,De,Yn,_t,aa,Hi,ll,Mu,co,Rh,ua,df,Bu,ii,pf,xo,xh,ff,Pu,Ah,wr,Fu,Dh,ca,ha,Cs,gf,Oh,Gu,mf,_f,Vi,Nh,si,z_,j_,vf,da,X_,al,bf,Lh,Y_,K_,J_,q_,$f,Ut,Lt,Mh,Z_,Q_,yf,Bh,e0,Ao,t0,An,Ph,Ss,Ef,Fh,Xr,Gh,Wi,Uu,Uh,wf,kf,kr,n0,Yr,r0,Tf,zi,pa,Hh,Vt,ji,Vh,fa,Hu,ga,Cf,Sf,Wh,Xi,Yi,zh,If,ma,Vu,Wu,jh,Rf,zu,ju,o0,_a,or,Is,Rs,ho,Xh,i0,s0,Xu,xf,Af,xs,l0,Yh,Yu,Df,li,Ku,a0,u0,c0,Do,Kr,Kh,Ju,Of,h0,d0,Nf,As,V,oe,te,Ae,nt,wt,mn,xt,Jh,Lf,Jr,Oo,qu,Ki,ul,ai,kt,qh,Zu,Mt,Qu,cl,hl,ec,ui,dl,po,va,tc,Zh,ba,Mf,$a,Sn,nc,Qh,p0,No,Ot,rc,ed,Bf,Pf,f0,Ji,_n,vn,g0,oc,ic,m0,ya,Ea,wa,Ds,pl,ka,sc,Os,td,_0,v0,b0,Ff,fl,gl,lc,x,ci,ac,qr,je,Gf,Uf,Hf,qi,Vf,Wf,Ta,uc,zf,hi,nd,$0,Ca,y0,rd,Zr,E0,w0,jf,cc,k0,Ns,T0,C0,ir,Xf,S0,Yf,Kf,I0,Sa,Le,Tr,Gn,Nt,Cr,Zi,Te,Xt,R0,Lo,od,Qi,Sr,Jf,id,sd,ml,di,ld,qf,Ia,ad,Ra,In,ud,cd,fo,hc,xa,es,hd,Un,dd,Zf,Ls,pd,Aa,Qf,_l,eg,tg,x0,Ms,ng,rg,fd,gd,A0,D0,O0,md,vl,N0,Bs,og,ig,_d,Da,sg,vd,dc,lg,pc,bd,Oa,ag,$d,L0,yd,ct,M0,B0,Na,Ed,ug,cg,Ir,P0,fc,gc,wd,kd,sr,pi,mc,Td,La,hg,Cd,dg,Sd,Id,ts,F0,ns,pg,fg,Rd,G0,U0,H0,gg,mg,V0,_g,vg,lr,Mo,W0,z0,_c,Ne;l=function(e,t,i,a){e=e+" was deprecated in "+t+" and will be deleted in "+i+".",a&&(e+=`
Use `+a+" instead."),console.warn(e)},s=function(e,t,i,a){if(!(e instanceof ve)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof t!="string"||t.trim()==="")throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const p=t.toLowerCase();if(!i)throw Error("Can not register a null value");let v=Ps[e],C=rs[e];if(v||(v=Ps[e]=Object.create(null),C=rs[e]=Object.create(null)),c(e,i),!a&&v[p])throw Error('Name "'+p+'" with type "'+e+'" already registered.');v[p]=i,C[p]=t},c=function(e,t){switch(e){case String(ve.FIELD):if(typeof t.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},f=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const i=Ps[e];i&&i[t]?(delete Ps[e][t],delete rs[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},d=function(e,t,i){e=`${e}`.toLowerCase(),t=t.toLowerCase();const a=Ps[e];if(!a||!a[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",i)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return a[t]},g=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),(e=Ps[e])?!!e[t]:!1},_=function(e,t,i){return d(e,t,i)},b=function(e,t,i){return d(e,t,i)},y=function(e,t,i){e=`${e}`.toLowerCase();var a=Ps[e];if(!a){if(a=`Unable to find [${e}] in the registry.`,i)throw Error(`${a} You must require or register a ${e} plugin.`);return console.warn(a),null}if(!t)return a;e=rs[e],i=Object.create(null);for(const p of Object.keys(a))i[e[p]]=a[p];return i},E=function(e,t,i){return t=t.plugins[String(e)]||Qr,typeof t=="function"?t:_(e,t,i)},S=function(e){return os[e]||null},D=function(){const e=[];for(const t in os)e.push(os[t]);return e},L=function(e){os[e.id]=e},N=function(e){delete os[e.id]},w=function(){return bg},k=function(e){bg=e},I=function(){return Ma},P=function(e){Ma=e},W=function(){return xd},j=function(e){xd=e},H=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),i=e.getCachedParentSvgSize();var a=t.parentElement;if(a instanceof HTMLElement){var p=a.offsetWidth;a=a.offsetHeight,i.width!==p&&(t.setAttribute("width",p+"px"),e.setCachedParentSvgSize(p,null)),i.height!==a&&(t.setAttribute("height",a+"px"),e.setCachedParentSvgSize(null,a)),e.resize()}},K=function(e,t){const i=Object.create(null),a=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=a.indexOf(e),a.splice(e,a.length-e));for(let p=0,v;v=a[p];p++)i[v.type]?i[v.type]++:i[v.type]=1;return i},$e=function(e){return function(){this.jsonInit(e)}},re=function(e){$g.defineBlocksWithJsonArrayInternal(e)},pe=function(e){o.defineBlocks$$module$build$src$core$common(o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let i=0;i<e.length;i++){const a=e[i];if(!a){console.warn(`Block definition #${i} in JSON array is ${a}. Skipping`);continue}const p=a.type;p?t[p]={init:$e(a)}:console.warn(`Block definition #${i} in JSON array is missing a type attribute. Skipping.`)}return t},o.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const i=e[t];t in ur&&console.warn(`Block definiton "${t}" overwrites previous definition.`),ur[t]=i}},ne=function(){return"blockly-"+(X0++).toString(36)},xe=function(){return vc.genUid()},Se=function(e){Pa=e},Ie=function(){return Pa},ce=function(e){Dd.fireInternal(e)},qe=function(e){if(_e()){if(!Ua.length)try{requestAnimationFrame(()=>{setTimeout(z,0)})}catch{setTimeout(z,0)}Ua.push(e)}},z=function(){const e=Y(Ua,!0);Ua.length=0;for(let t=0,i;i=e[t];t++){if(!i.workspaceId)continue;const a=S(i.workspaceId);a&&a.fireChangeListener(i)}},Y=function(e,t){e=e.slice(),t||e.reverse();const i=[],a=Object.create(null);for(let C=0,M;M=e[C];C++)if(!M.isNull()){var p=[M.isUiEvent?$l:M.type,M.blockId,M.workspaceId].join(" "),v=a[p];const ie=v?v.event:null;v?M.type===Kn&&v.index===C-1?(p=M,ie.newParentId=p.newParentId,ie.newInputName=p.newInputName,ie.newCoordinate=p.newCoordinate,v.index=C):M.type===Rn&&M.element===ie.element&&M.name===ie.name?ie.newValue=M.newValue:M.type===El?(v=M,ie.viewTop=v.viewTop,ie.viewLeft=v.viewLeft,ie.scale=v.scale,ie.oldScale=v.oldScale):(M.type!==Fo||ie.type!==Fe)&&(a[p]={event:M,index:C},i.push(M)):(a[p]={event:M,index:C},i.push(M))}e=i.filter(function(C){return!C.isNull()}),t||e.reverse();for(let C=1,M;M=e[C];C++)M.type===Rn&&M.element==="mutation"&&e.unshift(e.splice(C,1)[0]);return e},Q=function(){for(let e=0,t;t=Ua[e];e++)t.recordUndo=!1},ee=function(){Bo++},Z=function(){Bo--},_e=function(){return Bo===0},be=function(){return Y0},se=function(e){Dd.setGroupInternal(e)},He=function(e){Y0=typeof e=="boolean"?e?xe():"":e},Ke=function(e){const t=[];e=e.getDescendants(!1);for(let i=0,a;a=e[i];i++)t[i]=a.id;return t},It=function(e,t){var i=we(e.type);if(!i)throw Error("Unknown event type.");return Ct(i)?i.fromJson(e,t):(i=new i,i.fromJson(e),i.workspaceId=t.id,i)},Ct=function(e){return Object.getOwnPropertyDescriptors(e).fromJson&&typeof e.fromJson=="function"},we=function(e){const t=_(ve.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},jn=function(e){if((e.type===Kn||e.type===Dn)&&e.workspaceId){var t=S(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const i=Pa;try{Pa=!1;const a=e.getParent();if(a&&a.isEnabled()){const p=e.getDescendants(!1);for(let v=0,C;C=p[v];v++)C.setEnabled(!0)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setEnabled(!1),e=e.getNextBlock();while(e)}finally{Pa=i}}}},Xn=function(e){({document:cr=cr,DOMParser:Nn=Nn,XMLSerializer:Ha=Ha}=e)},ao=function(){return l("Blockly.utils.xml.getDocument","version 9","version 10"),cr},Rt=function(e){l("Blockly.utils.xml.setDocument","version 9","version 10"),cr=e},o.createElement$$module$build$src$core$utils$xml=function(e){return cr.createElementNS(Eg,e)},Gt=function(e){return cr.createTextNode(e)},it=function(e){const t=Fn(e);if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return t.documentElement},Fn=function(e){return new Nn().parseFromString(e,"text/xml")},yr=function(e){return new Ha().serializeToString(e)},J=function(e,t,i){e=document.createElementNS(Us,`${e}`);for(const a in t)e.setAttribute(a,`${t[a]}`);return i&&i.appendChild(e),e},ye=function(e,t){return t=t.split(" "),t.every(i=>e.classList.contains(i))?!1:(e.classList.add(...t),!0)},tt=function(e,t){e.classList.remove(...t.split(" "))},Oe=function(e,t){return t=t.split(" "),t.every(i=>!e.classList.contains(i))?!1:(e.classList.remove(...t),!0)},en=function(e,t){return e.classList.contains(t)},st=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},tn=function(e,t){const i=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");i?t.insertBefore(e,i):t.appendChild(e)},ks=function(e,t){return!!(e.compareDocumentPosition(t)&xr.DOCUMENT_POSITION_CONTAINED_BY)},Er=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},rr=function(){Od++,mo||(mo=Object.create(null))},uo=function(){Od--,Od||(mo=null)},bh=function(e){const t=e.textContent+`
`+e.className.baseVal;let i;if(mo&&(i=mo[t]))return i;try{i=e.getComputedTextLength()}catch{return 8*e.textContent.length}return mo&&(mo[t]=i),i},Ui=function(e,t,i,a){return na(e,t+"pt",i,a)},na=function(e,t,i,a){const p=e.textContent;e=p+`
`+e.className.baseVal;var v;return mo&&(v=mo[e])||(Nd||(v=document.createElement("canvas"),v.className="blocklyComputeCanvas",document.body.appendChild(v),Nd=v.getContext("2d")),Nd.font=i+" "+t+" "+a,v=p?Nd.measureText(p).width:0,mo&&(mo[e]=v)),v},ra=function(e,t,i,a){const p=document.createElement("span");p.style.font=i+" "+t+" "+a,p.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),t.appendChild(p),t.appendChild(e),document.body.appendChild(t),i={height:0,baseline:0};try{t.style.alignItems="baseline",i.baseline=e.offsetTop-p.offsetTop,t.style.alignItems="flex-end",i.height=e.offsetTop-p.offsetTop}finally{document.body.removeChild(t)}return i},ol=function(e,t){K0(e,t)},$h=function(e){K0=e},oa=function(e,t){kg.confirmInternal(e,t)},yh=function(e,t){J0(e,t)},N_=function(e){J0=e},Eh=function(e,t,i){wg(e,t,i)},L_=function(e){wg=e},wh=function(e){return e.getVariableModel!==void 0},il=function(e){return e.getProcedureDef!==void 0},M_=function(e){return e.getProcedureCall!==void 0&&e.renameProcedure!==void 0},kh=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let i=0;i<e.length;i++){const a=e[i].getVarModels();if(a)for(let p=0;p<a.length;p++){const v=a[p];v.getId()&&t.add(v)}}return Array.from(t.values())},B_=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let a=0,p;p=e[a];a++){var i=p.getDeveloperVariables;if(i){i=i();for(let v=0;v<i.length;v++)t.add(i[v])}}return Array.from(t.values())},Th=function(e){let t=[];const i=document.createElement("button");return i.setAttribute("text","%{BKY_NEW_VARIABLE}"),i.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(a){Ts(a.getTargetWorkspace())}),t.push(i),e=Ch(e),t=t.concat(e)},Ch=function(e){e=e.getVariablesOfType("");const t=[];if(0<e.length){var i=e[e.length-1];if(ur.variables_set){var a=o.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","variables_set"),a.setAttribute("gap",ur.math_change?"8":"24"),a.appendChild(sl(i)),t.push(a)}if(ur.math_change&&(a=o.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","math_change"),a.setAttribute("gap",ur.variables_get?"20":"8"),a.appendChild(sl(i)),i=it('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),a.appendChild(i),t.push(a)),ur.variables_get){e.sort(Va.compareByName);for(let p=0,v;v=e[p];p++)i=o.createElement$$module$build$src$core$utils$xml("block"),i.setAttribute("type","variables_get"),i.setAttribute("gap","8"),i.appendChild(sl(v)),t.push(i)}}return t},sf=function(e){return _o.generateUniqueNameInternal(e)},P_=function(e){return Sh(bc.charAt(0),e.getAllVariableNames())},Sh=function(e,t){if(!t.length)return e;const i=bc;let a="",p=i.indexOf(e);for(;;){let v=!1;for(let C=0;C<t.length;C++)if(t[C].toLowerCase()===e){v=!0;break}if(!v)break;p++,p===i.length&&(p=0,a=`${Number(a)+1}`),e=i.charAt(p)+a}return e},Ts=function(e,t,i){function a(v){ia(Ve.NEW_VARIABLE_TITLE,v,function(C){if(C){var M=af(C,e);if(M){if(M.type===p)var ie=Ve.VARIABLE_ALREADY_EXISTS.replace("%1",M.name);else ie=Ve.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,ie=ie.replace("%1",M.name).replace("%2",M.type);ol(ie,function(){a(C)})}else e.createVariable(C,p),t&&t(C)}else t&&t(null)})}const p=i||"";a("")},lf=function(e,t,i){function a(p){const v=Ve.RENAME_VARIABLE_TITLE.replace("%1",t.name);ia(v,p,function(C){if(C){var M=F_(C,t.type,e),ie=uf(t.name,C,e);if(M||ie){var ke="";M?ke=Ve.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",M.name).replace("%2",M.type):ie&&(ke=Ve.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",C).replace("%2",ie)),ol(ke,function(){a(C)})}else e.renameVariableById(t.getId(),C),i&&i(C)}else i&&i(null)})}a("")},ia=function(e,t,i){Eh(e,t,function(a){a&&(a=a.replace(/[\s\xa0]+/g," ").trim(),a===Ve.RENAME_VARIABLE||a===Ve.NEW_VARIABLE)&&(a=null),i(a)})},F_=function(e,t,i){i=i.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let a=0,p;p=i[a];a++)if(p.name.toLowerCase()===e&&p.type!==t)return p;return null},af=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let i=0,a;a=t[i];i++)if(a.name.toLowerCase()===e)return a;return null},uf=function(e,t,i){return i.getProcedureMap().getProcedures().length?G_(e,t,i):U_(e,t,i)},G_=function(e,t,i){e=e.toLowerCase(),t=t.toLowerCase(),i=i.getProcedureMap().getProcedures();for(const p of i){var a=p.getParameters().filter(wh).map(v=>v.getVariableModel().name);if(a&&(i=a.some(v=>v.toLowerCase()===e),a=a.some(v=>v.toLowerCase()===t),i&&a))return p.getName()}return null},U_=function(e,t,i){e=e.toLowerCase(),t=t.toLowerCase(),i=i.getAllBlocks(!1);for(const p of i){if(!il(p))continue;i=p.getProcedureDef();var a=i[1];const v=a.some(C=>C.toLowerCase()===e);if(a=a.some(C=>C.toLowerCase()===t),v&&a)return i[0]}return null},sl=function(e){const t=o.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=Gt(e.name),t.appendChild(e),t},Du=function(e,t,i,a){let p=Ou(e,t,i,a);return p||(p=cf(e,t,i,a)),p},Ou=function(e,t,i,a){const p=e.getPotentialVariableMap();let v=null;if(t&&(v=e.getVariableById(t),!v&&p&&(v=p.getVariableById(t)),v))return v;if(i){if(a===void 0)throw Error("Tried to look up a variable by name without a type");v=e.getVariable(i,a),!v&&p&&(v=p.getVariable(i,a))}return v},cf=function(e,t,i,a){const p=e.getPotentialVariableMap();return i||(i=sf(e.isFlyout?e.targetWorkspace:e)),p?p.createVariable(i,a,t):e.createVariable(i,a,t)},Ih=function(e,t){e=e.getAllVariables();const i=[];if(t.length!==e.length)for(let a=0;a<e.length;a++){const p=e[a];t.indexOf(p)===-1&&i.push(p)}return i},hf=function(e,t){ri(),Pd=setTimeout(function(){t&&t.handleRightClick(e)},wy)},ri=function(){Pd&&(clearTimeout(Pd),Pd=0)},oi=function(){Bd=null},Nu=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&la(e)},sa=function(e){return`${e.pointerId}`},la=function(e){const t=sa(e);return Bd?Bd===t:e.type==="pointerdown"?(Bd=t,!0):!1},H_=function(e){if(l("setClientFromTouch()","version 9","version 10"),e.type.startsWith("touch")&&e.changedTouches){const t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}},Lu=function(e){return l("isMouseOrTouchEvent()","version 9","version 10"),e.type.startsWith("touch")||e.type.startsWith("mouse")||e.type.startsWith("pointer")},V_=function(e){return l("isTouchEvent()","version 9","version 10"),e.type.startsWith("touch")||e.type.startsWith("pointer")},W_=function(e){l("splitEventByTouches()","version 9","version 10");const t=[];if(e.changedTouches)for(let i=0;i<e.changedTouches.length;i++)t[i]={type:e.type,changedTouches:[e.changedTouches[i]],target:e.target,stopPropagation(){e.stopPropagation()},preventDefault(){e.preventDefault()}};else t.push(e);return t},De=function(e,t,i,a,p,v){function C(M){(p||Nu(M))&&(i?a.call(i,M):a(M))}if(v!==void 0&&l("The opt_noPreventDefault argument of conditionalBind","version 9","version 10"),v=[],t in Cl)for(let M=0;M<Cl[t].length;M++){const ie=Cl[t][M];e.addEventListener(ie,C,!1),v.push([e,ie,C])}else e.addEventListener(t,C,!1),v.push([e,t,C]);return v},Yn=function(e,t,i,a){function p(C){i?a.call(i,C):a(C)}const v=[];if(t in Cl)for(let C=0;C<Cl[t].length;C++){const M=Cl[t][C];e.addEventListener(M,p,!1),v.push([e,M,p])}else e.addEventListener(t,p,!1),v.push([e,t,p]);return v},_t=function(e){const t=e[e.length-1][2];for(;e.length;){const[i,a,p]=e.pop();i.removeEventListener(a,p,!1)}return t},aa=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},Hi=function(e){return e.ctrlKey&&Ig?!0:e.button===2},ll=function(e,t,i){const a=t.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,i||(i=t.getScreenCTM().inverse()),a.matrixTransform(i)},Mu=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*lv,y:e.deltaY*lv};case 2:return{x:e.deltaX*av,y:e.deltaY*av}}},co=function(e){if(Rg)throw Error("CSS already injected");xg+=`
`+e},Rh=function(e,t){Rg||(Rg=!0,e&&(e=t.replace(/[\\/]$/,""),t=xg.replace(/<<<PATH>>>/g,e),xg="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},ua=function(e){return uv.getSizeInternal(e)},df=function(e){if(ii(e,"display")!=="none")return Bu(e);const t=e.style,i=t.display,a=t.visibility,p=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const v=e.offsetWidth;return e=e.offsetHeight,t.display=i,t.position=p,t.visibility=a,new On(v,e)},Bu=function(e){return new On(e.offsetWidth,e.offsetHeight)},ii=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},pf=function(e,t){return l("Blockly.utils.style.getCascadedStyle","version 9","version 10"),e.currentStyle?e.currentStyle[t]:""},xo=function(e){const t=new ge(0,0);e=e.getBoundingClientRect();var i=document.documentElement;return i=new ge(window.pageXOffset||i.scrollLeft,window.pageYOffset||i.scrollTop),t.x=e.left+i.x,t.y=e.top+i.y,t},xh=function(){const e=document.body,t=document.documentElement;return new ge(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},ff=function(e){const t=parseFloat(ii(e,"borderLeftWidth")),i=parseFloat(ii(e,"borderRightWidth")),a=parseFloat(ii(e,"borderTopWidth"));return e=parseFloat(ii(e,"borderBottomWidth")),new Yt(a,e,t,i)},Pu=function(e,t,i){e=Ah(e,t,i),t.scrollLeft=e.x,t.scrollTop=e.y},Ah=function(e,t,i){var a=xo(e),p=xo(t),v=ff(t);const C=a.x-p.x-v.left;return a=a.y-p.y-v.top,p=Bu(e),e=t.clientWidth-p.width,p=t.clientHeight-p.height,v=t.scrollLeft,t=t.scrollTop,i?(v+=C-e/2,t+=a-p/2):(v+=Math.min(C,Math.max(C-e,0)),t+=Math.min(a,Math.max(a-p,0))),new ge(v,t)},wr=function(e){const t=new ge(0,0);var i=e.x&&e.getAttribute("x");const a=e.y&&e.getAttribute("y");return i&&(t.x=parseInt(i)),a&&(t.y=parseInt(a)),(i=(i=e.getAttribute("transform"))&&i.match(cv))&&(t.x+=Number(i[1]),i[3]&&(t.y+=Number(i[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(hv))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},Fu=function(e){let t=0,i=0;for(;e;){const a=wr(e);if(t+=a.x,i+=a.y,(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1)break;e=e.parentNode}return new ge(t,i)},Dh=function(){return l("Blockly.utils.svgMath.is3dSupported","version 9","version 10"),!0},ca=function(){const e=xh();return new Yt(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},ha=function(){const e=document.documentElement,t=window;return new ge(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},Cs=function(e,t){var i=t.x;t=t.y;const a=e.getInjectionDiv().getBoundingClientRect();return i=new ge(i-a.left,t-a.top),t=e.getOriginOffsetInPixels(),ge.difference(i,t).scale(1/e.scale)},gf=function(e,t){const i=o.createElement$$module$build$src$core$utils$xml("xml");var a=Oh(kh(e));a.hasChildNodes()&&i.appendChild(a),a=e.getTopComments(!0);for(let p=0;p<a.length;p++)i.appendChild(a[p].toXmlWithXY(t));for(e=e.getTopBlocks(!0),a=0;a<e.length;a++)i.appendChild(Gu(e[a],t));return i},Oh=function(e){const t=o.createElement$$module$build$src$core$utils$xml("variables");for(let i=0;i<e.length;i++){const a=e[i],p=o.createElement$$module$build$src$core$utils$xml("variable");p.appendChild(Gt(a.name)),a.type&&p.setAttribute("type",a.type),p.id=a.getId(),t.appendChild(p)}return t},Gu=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let i=0;if(e.workspace.RTL&&(i=e.workspace.getWidth()),t=Vi(e,t),yf(t)){const a=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?i-a.x:a.x))),t.setAttribute("y",String(Math.round(a.y)))}return t},mf=function(e){if(e.isSerializable()){const t=o.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},_f=function(e,t){for(let i=0;i<e.inputList.length;i++){const a=e.inputList[i];for(let p=0;p<a.fieldRow.length;p++){const v=mf(a.fieldRow[p]);v&&t.appendChild(v)}}},Vi=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Vi(t):new DocumentFragment;const i=o.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(i.setAttribute("type",e.type),t||(i.id=e.id),e.mutationToDom){var a=e.mutationToDom();a&&(a.hasChildNodes()||a.hasAttributes())&&i.appendChild(a)}if(_f(e,i),a=e.getCommentText()){var p=e.commentModel.size,v=e.commentModel.pinned,C=o.createElement$$module$build$src$core$utils$xml("comment");C.appendChild(Gt(a)),C.setAttribute("pinned",`${v}`),C.setAttribute("h",String(p.height)),C.setAttribute("w",String(p.width)),i.appendChild(C)}for(e.data&&(a=o.createElement$$module$build$src$core$utils$xml("data"),a.appendChild(Gt(e.data)),i.appendChild(a)),a=0;a<e.inputList.length;a++){p=e.inputList[a];var M=void 0;if(v=!0,p.type!==et.DUMMY){C=p.connection.targetBlock(),p.type===et.VALUE?M=o.createElement$$module$build$src$core$utils$xml("value"):p.type===et.STATEMENT&&(M=o.createElement$$module$build$src$core$utils$xml("statement"));const ke=p.connection.getShadowDom();!ke||C&&C.isShadow()||M.appendChild(Nh(ke,t)),C&&(C=Vi(C,t),C.nodeType===xr.ELEMENT_NODE&&(M.appendChild(C),v=!1)),M.setAttribute("name",p.name),v||i.appendChild(M)}}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&i.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&i.setAttribute("collapsed","true"),e.isEnabled()||i.setAttribute("disabled","true"),e.isDeletable()||e.isShadow()||i.setAttribute("deletable","false"),e.isMovable()||e.isShadow()||i.setAttribute("movable","false"),e.isEditable()||i.setAttribute("editable","false"),M=e.getNextBlock();let ie;return M&&(a=Vi(M,t),a.nodeType===xr.ELEMENT_NODE&&(ie=o.createElement$$module$build$src$core$utils$xml("next"),ie.appendChild(a),i.appendChild(ie))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||M&&M.isShadow()||ie.appendChild(Nh(e,t)),i},Nh=function(e,t){let i=e=e.cloneNode(!0),a;for(;i;)if(t&&i.nodeName==="shadow"&&i.removeAttribute("id"),i.firstChild)i=i.firstChild;else{for(;i&&!i.nextSibling;){a=i,i=i.parentNode;let p;a.nodeType===xr.TEXT_NODE&&a.data.trim()===""&&((p=i)==null?void 0:p.firstChild)!==a&&st(a)}i&&(a=i,i=i.nextSibling,a.nodeType===xr.TEXT_NODE&&a.data.trim()===""&&st(a))}return e},si=function(e){return yr(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},z_=function(e){e=si(e).split("<");let t="";for(let i=1;i<e.length;i++){const a=e[i];a[0]==="/"&&(t=t.substring(2)),e[i]=t+"<"+a,a[0]!=="/"&&a.slice(-2)!=="/>"&&(t+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},j_=function(e){return l("Blockly.Xml.textToDom","version 9","version 10","Use Blockly.utils.xml.textToDom instead"),it(e)},vf=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=da(e,t),t.setResizesEnabled(!0),e},da=function(e,t){let i=0;t.RTL&&(i=t.getWidth());const a=[];rr();const p=be();p||se(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let v=!0;try{for(let C=0,M;M=e.childNodes[C];C++){const ie=M.nodeName.toLowerCase(),ke=M;if(ie==="block"||ie==="shadow"&&!Ie()){const sn=al(ke,t);a.push(sn.id);let ln;const Eo=parseInt((ln=ke.getAttribute("x"))!=null?ln:"10",10);let gp;const mp=parseInt((gp=ke.getAttribute("y"))!=null?gp:"10",10);isNaN(Eo)||isNaN(mp)||sn.moveBy(t.RTL?i-Eo:Eo,mp),v=!1}else{if(ie==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(ie==="comment")t.rendered?Jn.fromXmlRendered(ke,t,i):vi.fromXml(ke,t);else if(ie==="variables"){if(v)bf(ke,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");v=!1}}}}finally{se(p),uo()}return t.setResizesEnabled&&t.setResizesEnabled(!0),ce(new(we(Ga))(t)),a},X_=function(e,t){if(!t.getBlocksBoundingBox)return da(e,t);var i=t.getBlocksBoundingBox();if(e=da(e,t),i&&i.top!==i.bottom){var a=i.bottom;i=t.RTL?i.right:i.left;var p=1/0;let v=-1/0,C=1/0;for(let M=0;M<e.length;M++){const ie=t.getBlockById(e[M]).getRelativeToSurfaceXY();ie.y<C&&(C=ie.y),ie.x<p&&(p=ie.x),ie.x>v&&(v=ie.x)}for(a=a-C+10,i=t.RTL?i-v:i-p,p=0;p<e.length;p++)t.getBlockById(e[p]).moveBy(i,a)}return e},al=function(e,t){ee();var i=t.getAllVariables();let a;try{if(a=Mh(e,t),t.rendered){const p=a,v=a.getDescendants(!1);p.setConnectionTracking(!1);for(let C=v.length-1;0<=C;C--)v[C].initSvg();for(let C=v.length-1;0<=C;C--)v[C].render(!1);setTimeout(function(){p.disposed||p.setConnectionTracking(!0)},1),p.updateDisabled(),t.resizeContents()}else{const p=a.getDescendants(!1);for(let v=p.length-1;0<=v;v--)p[v].initModel()}}finally{Z()}if(_e()){for(e=Ih(t,i),t=0;t<e.length;t++)i=e[t],ce(new(we(bl))(i));ce(new(we(Dn))(a))}return a},bf=function(e,t){for(let a=0;a<e.children.length;a++){var i=e.children[a];const p=i.getAttribute("type"),v=i.getAttribute("id");if(i=i.textContent,!i)break;t.createVariable(i,p,v)}},Lh=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let i=0;i<e.children.length;i++){const a=e.children[i];if(a.nodeType!==xr.TEXT_NODE)switch(a.nodeName.toLowerCase()){case"mutation":t.mutation.push(a);break;case"comment":t.comment.push(a);break;case"data":t.data.push(a);break;case"title":case"field":t.field.push(a);break;case"value":case"statement":t.input.push(a);break;case"next":t.next.push(a);break;default:console.warn("Ignoring unknown tag: "+a.nodeName)}}return t},Y_=function(e,t){let i=!1;for(let a=0;a<e.length;a++){const p=e[a];t.domToMutation&&(t.domToMutation(p),t.initSvg&&(i=!0))}return i},K_=function(e,t){for(let a=0;a<e.length;a++){var i=e[a];const p=i.textContent,v=i.getAttribute("pinned")==="true";let C;const M=parseInt((C=i.getAttribute("w"))!=null?C:"50",10);let ie;if(i=parseInt((ie=i.getAttribute("h"))!=null?ie:"50",10),t.setCommentText(p),t.commentModel.pinned=v,isNaN(M)||isNaN(i)||(t.commentModel.size=new On(M,i)),v&&t.getCommentIcon&&!t.isInFlyout){const ke=t;setTimeout(function(){ke.getCommentIcon().setVisible(!0)},1)}}},J_=function(e,t){for(let i=0;i<e.length;i++)t.data=e[i].textContent},q_=function(e,t){for(let i=0;i<e.length;i++){const a=e[i],p=a.getAttribute("name");p?Z_(t,p,a):console.warn(`Ignoring unnamed field in block ${t.type}`)}},$f=function(e){let t=null,i=null;for(let a=0;a<e.childNodes.length;a++){const p=e.childNodes[a];yf(p)&&(p.nodeName.toLowerCase()==="block"?t=p:p.nodeName.toLowerCase()==="shadow"&&(i=p))}return{childBlockElement:t,childShadowElement:i}},Ut=function(e,t,i,a){for(let v=0;v<e.length;v++){var p=e[v];const C=p.getAttribute("name"),M=C?i.getInput(C):null;if(!M){console.warn("Ignoring non-existent input "+C+" in block "+a);break}if(p=$f(p),p.childBlockElement){if(!M.connection)throw TypeError("Input connection does not exist.");Mh(p.childBlockElement,t,M.connection,!1)}if(p.childShadowElement){let ie;(ie=M.connection)==null||ie.setShadowDom(p.childShadowElement)}}},Lt=function(e,t,i){for(let a=0;a<e.length;a++){const p=$f(e[a]);if(p.childBlockElement){if(!i.nextConnection)throw TypeError("Next statement does not exist.");if(i.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Mh(p.childBlockElement,t,i.nextConnection,!0)}p.childShadowElement&&i.nextConnection&&i.nextConnection.setShadowDom(p.childShadowElement)}},Mh=function(e,t,i,a){var p;const v=e.getAttribute("type");if(!v)throw TypeError("Block type unspecified: "+e.outerHTML);var C=(p=e.getAttribute("id"))!=null?p:void 0;p=t.newBlock(v,C),C=Lh(e);const M=Y_(C.mutation,p);if(K_(C.comment,p),J_(C.data,p),i)if(a)if(p.previousConnection)i.connect(p.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(p.outputConnection)i.connect(p.outputConnection);else if(p.previousConnection)i.connect(p.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(q_(C.field,p),Ut(C.input,t,p,v),Lt(C.next,t,p),M&&p.initSvg(),(t=e.getAttribute("inline"))&&p.setInputsInline(t==="true"),(t=e.getAttribute("disabled"))&&p.setEnabled(t!=="true"&&t!=="disabled"),(t=e.getAttribute("deletable"))&&p.setDeletable(t==="true"),(t=e.getAttribute("movable"))&&p.setMovable(t==="true"),(t=e.getAttribute("editable"))&&p.setEditable(t==="true"),(t=e.getAttribute("collapsed"))&&p.setCollapsed(t==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=p.getChildren(!1),t=0;t<e.length;t++)if(!e[t].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(p.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");p.setShadow(!0)}return p},Z_=function(e,t,i){const a=e.getField(t);a?a.fromXml(i):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},Q_=function(e){for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes[t];if(i.nodeName.toLowerCase()==="next"){e.removeChild(i);break}}},yf=function(e){return e.nodeType===xr.ELEMENT_NODE},Bh=function(e,t){s(ve.SERIALIZER,e,t)},e0=function(e){f(ve.SERIALIZER,e)},Ao=function(e,{addCoordinates:t=!1,addInputBlocks:i=!0,addNextBlocks:a=!0,doFullSerialization:p=!0}={}){if(e.isInsertionMarker())return null;const v={type:e.type,id:e.id};return t&&An(e,v),t0(e,v),Ph(e,v),Ss(e,v),Ef(e,v,p),i&&Fh(e,v,p),a&&Xr(e,v,p),v},t0=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.enabled=!1),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},An=function(e,t){const i=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(i.RTL?i.getWidth()-e.x:e.x),t.y=Math.round(e.y)},Ph=function(e,t){e.saveExtraState?(e=e.saveExtraState(),e!==null&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(t.extraState=si(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Ss=function(e,t){e.getCommentText()&&(t.icons={comment:{text:e.getCommentText(),pinned:e.commentModel.pinned,height:Math.round(e.commentModel.size.height),width:Math.round(e.commentModel.size.width)}})},Ef=function(e,t,i){const a=Object.create(null);for(let p=0;p<e.inputList.length;p++){const v=e.inputList[p];for(let C=0;C<v.fieldRow.length;C++){const M=v.fieldRow[C];M.isSerializable()&&(a[M.name]=M.saveState(i))}}Object.keys(a).length&&(t.fields=a)},Fh=function(e,t,i){const a=Object.create(null);for(let p=0;p<e.inputList.length;p++){const v=e.inputList[p];if(v.type===et.DUMMY)continue;const C=Gh(v.connection,i);C&&(a[v.name]=C)}Object.keys(a).length&&(t.inputs=a)},Xr=function(e,t,i){e.nextConnection&&(e=Gh(e.nextConnection,i))&&(t.next=e)},Gh=function(e,t){const i=e.getShadowState(!0);if(e=e.targetBlock(),!i&&!e)return null;const a=Object.create(null);return i&&(a.shadow=i),e&&!e.isShadow()&&(a.block=Ao(e,{doFullSerialization:t})),a},Wi=function(e,t,{recordUndo:i=!1}={}){return Uu(e,t,{recordUndo:i})},Uu=function(e,t,{parentConnection:i,isShadow:a=!1,recordUndo:p=!1}={}){const v=Ie();Se(p),(p=be())||se(!0),ee();const C=Uh(e,t,{parentConnection:i,isShadow:a});return Z(),ce(new(we(Dn))(C)),se(p),Se(v),t.rendered&&setTimeout(()=>{C.disposed||C.setConnectionTracking(!0)},1),C},Uh=function(e,t,{parentConnection:i,isShadow:a=!1}={}){if(!e.type)throw new dv(e);const p=t.newBlock(e.type,e.id);return p.setShadow(a),wf(p,e),kf(p,e),kr(p,e),n0(i,p,e),Yr(p,e),r0(p,e),Tf(p,e),zi(p,e),Hh(p,t.rendered),p},wf=function(e,t){let i=t.x===void 0?0:t.x;t=t.y===void 0?0:t.y;const a=e.workspace;i=a.RTL?a.getWidth()-i:i,e.moveBy(i,t)},kf=function(e,t){t.collapsed&&e.setCollapsed(!0),t.deletable===!1&&e.setDeletable(!1),t.movable===!1&&e.setMovable(!1),t.editable===!1&&e.setEditable(!1),t.enabled===!1&&e.setEnabled(!1),t.inline!==void 0&&e.setInputsInline(t.inline),t.data!==void 0&&(e.data=t.data)},kr=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(it(t.extraState)))},n0=function(e,t,i){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new fv(i);if(e.type===et.VALUE){var a=t.outputConnection;if(!a)throw new wc("output",t,i)}else if(a=t.previousConnection,!a)throw new wc("previous",t,i);if(!e.connect(a)){const p=t.workspace.connectionChecker;throw new pv(p.getErrorMessage(p.canConnectWithReason(a,e,!1),a,e),e.type===et.VALUE?"output connection":"previous connection",t,i)}}},Yr=function(e,t){t.icons&&(t=t.icons.comment)&&(e.setCommentText(t.text),"pinned"in t&&(e.commentModel.pinned=t.pinned),"width"in t&&"height"in t&&(e.commentModel.size=new On(t.width,t.height)),t.pinned&&e.rendered&&!e.isInFlyout&&setTimeout(()=>e.getCommentIcon().setVisible(!0),1))},r0=function(e,t){if(t.fields){var i=Object.keys(t.fields);for(let a=0;a<i.length;a++){const p=i[a],v=t.fields[p],C=e.getField(p);C?C.loadState(v):console.warn(`Ignoring non-existant field ${p} in block ${e.type}`)}}},Tf=function(e,t){if(t.inputs){var i=Object.keys(t.inputs);for(let a=0;a<i.length;a++){const p=i[a],v=e.getInput(p);if(!v||!v.connection)throw new wc(p,e,t);pa(v.connection,t.inputs[p])}}},zi=function(e,t){if(t.next){if(!e.nextConnection)throw new wc("next",e,t);pa(e.nextConnection,t.next)}},pa=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&Uh(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Hh=function(e,t){if(t)for(e.setConnectionTracking(!1),e.initSvg(),e.render(!1),e=e.getIcons(),t=0;t<e.length;t++)e[t].computeIconLocation();else e.initModel()},Vt=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},ji=function(e,t){let i=null;t=t.outputConnection;const a=t==null?void 0:t.getConnectionChecker();for(let p=0,v;v=e.inputList[p];p++){const C=v.connection;let M;if(C&&((M=a)!=null&&M.canConnect(t,C,!1))){if(i)return null;i=C}}return i},Vh=function(e,t){let i;for(;i=ji(e,t);)if(e=i.targetBlock(),!e||e.isShadow())return i;return null},fa=function(e){return e*Math.PI/180},Hu=function(e){return 180*e/Math.PI},ga=function(e,t,i){if(i<e){const a=i;i=e,e=a}return Math.max(e,Math.min(t,i))},Cf=function(){vt||(vt=document.createElement("div"),vt.className="blocklyDropDownDiv",(W()||document.body).appendChild(vt),Ja=document.createElement("div"),Ja.className="blocklyDropDownContent",vt.appendChild(Ja),xl=document.createElement("div"),xl.className="blocklyDropDownArrow",vt.appendChild(xl),vt.style.opacity="0",vt.style.transition="transform "+Wd+"s, opacity "+Wd+"s",vt.addEventListener("focusin",function(){ye(vt,"blocklyFocused")}),vt.addEventListener("focusout",function(){Oe(vt,"blocklyFocused")}))},Sf=function(e){Fg=e},Wh=function(){return Vs},Xi=function(){return Ja},Yi=function(){Ja.textContent="",Ja.style.width=""},zh=function(e,t){vt.style.backgroundColor=e,vt.style.borderColor=t},If=function(e,t,i,a){return jh(Vu(t),e,i,a)},ma=function(e,t,i){return Gg=!0,jh(Wu(e),e,t,i)},Vu=function(e){var t=e.getSvgRoot();const i=e.workspace.scale,a=e.height*i;return e=e.width*i,t=xo(t),new Yt(t.y,t.y+a,t.x,t.x+e)},Wu=function(e){return e=e.getScaledBBox(),new Yt(e.top,e.bottom,e.left,e.right)},jh=function(e,t,i,a){const p=e.left+(e.right-e.left)/2,v=e.bottom;e=e.top,a&&(e+=a),a=t.getSourceBlock();let C=a.workspace;for(;C.options.parentWorkspace;)C=C.options.parentWorkspace;return Sf(C.getParentSvg().parentNode),Rf(t,a.RTL,p,v,p,e,i)},Rf=function(e,t,i,a,p,v,C){return Vs=e,Rl=C||null,vt.style.direction=t?"rtl":"ltr",e=w(),Ya=e.getRenderer().getClassName(),Ka=e.getTheme().getClassName(),Ya&&ye(vt,Ya),Ka&&ye(vt,Ka),Xh(i,a,p,v)},zu=function(e,t,i,a){return e=_a(e,i.left,i.right,a.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+Bg,arrowX:e.arrowX,arrowY:-(Cc/2+Mg),arrowAtTop:!0,arrowVisible:!0}},ju=function(e,t,i,a){return e=_a(e,i.left,i.right,a.width),{initialX:e.divX,initialY:t-a.height,finalX:e.divX,finalY:t-a.height-Bg,arrowX:e.arrowX,arrowY:a.height-2*Mg-Cc/2,arrowAtTop:!1,arrowVisible:!0}},o0=function(e,t,i){return e=_a(e,t.left,t.right,i.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},_a=function(e,t,i,a){return t=ga(t,e-a/2,i-a),e=e-Cc/2-t,i=$v,e=ga(i,e,a-i-Cc),{arrowX:e,divX:t}},or=function(){return!!Vs},Is=function(e,t){return Vs===e?(t?ho():Rs(),!0):!1},Rs=function(){vt.style.transform="translate(0, 0)",vt.style.opacity="0",Pg=setTimeout(function(){ho()},1e3*Wd),Rl&&(Rl(),Rl=null)},ho=function(){or()&&(Pg&&clearTimeout(Pg),vt.style.transform="",vt.style.left="",vt.style.top="",vt.style.opacity="0",vt.style.display="none",vt.style.backgroundColor="",vt.style.borderColor="",Rl&&(Rl(),Rl=null),Yi(),Vs=null,Ya&&(Oe(vt,Ya),Ya=""),Ka&&(Oe(vt,Ka),Ka=""),w().markFocused())},Xh=function(e,t,i,a){e=zd.getPositionMetrics(e,t,i,a),e.arrowVisible?(xl.style.display="",xl.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",xl.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):xl.style.display="none",t=Math.floor(e.initialX),i=Math.floor(e.initialY),a=Math.floor(e.finalX);const p=Math.floor(e.finalY);return vt.style.left=t+"px",vt.style.top=i+"px",vt.style.display="block",vt.style.opacity="1",vt.style.transform="translate("+(a-t)+"px,"+(p-i)+"px)",!!e.arrowAtTop},i0=function(){if(Vs){var e=Vs.getSourceBlock();e=Gg?Wu(Vs):Vu(e);const t=e.left+(e.right-e.left)/2;Xh(t,e.bottom,t,e.top)}else Rs()},s0=function(e,t){return l("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith"),e.startsWith(t)},Xu=function(e){return e.length?e.reduce(function(t,i){return t.length<i.length?t:i}).length:0},xf=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let i=0;t=t||Xu(e);let a;for(a=0;a<t;a++){for(var p=e[0][a],v=1;v<e.length;v++)if(p!==e[v][a])return i;p===" "&&(i=a+1)}for(p=1;p<e.length;p++)if((v=e[p][a])&&v!==" ")return i;return t},Af=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let i=0;t=t||Xu(e);let a;for(a=0;a<t;a++){for(var p=e[0].substr(-a-1,1),v=1;v<e.length;v++)if(p!==e[v].substr(-a-1,1))return i;p===" "&&(i=a+1)}for(p=1;p<e.length;p++)if((v=e[p].charAt(e[p].length-a-1))&&v!==" ")return i;return t},xs=function(e,t){e=e.split(`
`);for(let i=0;i<e.length;i++)e[i]=l0(e[i],t);return e.join(`
`)},l0=function(e,t){if(e.length<=t)return e;const i=e.trim().split(/\s+/);for(var a=0;a<i.length;a++)i[a].length>t&&(t=i[a].length);var p=-1/0;let v,C=1;do{a=p,v=e,e=[],p=i.length/C;let M=1;for(let ie=0;ie<i.length-1;ie++)M<(ie+1.5)/p?(M++,e[ie]=!0):e[ie]=!1;e=Yu(i,e,t),p=Yh(i,e,t),e=Df(i,e),C++}while(p>a);return v},Yh=function(e,t,i){const a=[0],p=[];for(var v=0;v<e.length;v++)a[a.length-1]+=e[v].length,t[v]===!0?(a.push(0),p.push(e[v].charAt(e[v].length-1))):t[v]===!1&&a[a.length-1]++;for(e=Math.max(...a),t=0,v=0;v<a.length;v++)t-=2*Math.pow(Math.abs(i-a[v]),1.5),t-=Math.pow(e-a[v],1.5),".?!".indexOf(p[v])!==-1?t+=i/3:",;)]}".indexOf(p[v])!==-1&&(t+=i/4);return 1<a.length&&a[a.length-1]<=a[a.length-2]&&(t+=.5),t},Yu=function(e,t,i){let a=Yh(e,t,i),p;for(let v=0;v<t.length-1;v++){if(t[v]===t[v+1])continue;const C=[].concat(t);C[v]=!C[v],C[v+1]=!C[v+1];const M=Yh(e,C,i);M>a&&(a=M,p=C)}return p?Yu(e,p,i):t},Df=function(e,t){const i=[];for(let a=0;a<e.length;a++)i.push(e[a]),t[a]!==void 0&&i.push(t[a]?`
`:" ");return i.join("")},li=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},Ku=function(e){jd=e},a0=function(){return jd},u0=function(){return Ic},c0=function(){return un},Do=function(e){if(e=Kr(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},Kr=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},Kh=function(){un||(un=document.createElement("div"),un.className="blocklyTooltipDiv",(W()||document.body).appendChild(un))},Ju=function(e){e.mouseOverWrapper_=Yn(e,"pointerover",null,h0),e.mouseOutWrapper_=Yn(e,"pointerout",null,d0),e.addEventListener("pointermove",Nf,!1)},Of=function(e){e&&(_t(e.mouseOverWrapper_),_t(e.mouseOutWrapper_),e.removeEventListener("pointermove",Nf))},h0=function(e){as||(e=Kr(e.currentTarget),bo!==e&&(V(),Rc=null,bo=e),clearTimeout(Ev))},d0=function(e){as||(Ev=setTimeout(function(){Rc=bo=null,V()},1),clearTimeout(Al),Al=0)},Nf=function(e){if(bo&&bo.tooltip&&!as)if(Ic){const t=Ug-e.pageX;e=Hg-e.pageY,Math.sqrt(t*t+e*e)>wv&&V()}else Rc!==bo&&(clearTimeout(Al),Ug=e.pageX,Hg=e.pageY,Al=setTimeout(mn,kv))},As=function(){Rc=bo=null,V()},V=function(){Ic&&(Ic=!1,un&&(un.style.display="none")),Al&&(clearTimeout(Al),Al=0)},oe=function(){V(),as=!0},te=function(){as=!1},Ae=function(){un&&bo&&(typeof jd=="function"?jd(un,bo):nt())},nt=function(){var e=Do(bo);e=xs(e,yv),e=e.split(`
`);for(let t=0;t<e.length;t++){const i=document.createElement("div");i.appendChild(document.createTextNode(e[t])),un.appendChild(i)}},wt=function(e){const t=document.documentElement.clientWidth,i=document.documentElement.clientHeight;let a=Ug;a=e?a-(Vg+un.offsetWidth):a+Vg;let p=Hg+Wg;return p+un.offsetHeight>i+window.scrollY&&(p-=un.offsetHeight+2*Wg),e?a=Math.max(Dl-window.scrollX,a):a+un.offsetWidth>t+window.scrollX-2*Dl&&(a=t-un.offsetWidth-2*Dl),{x:a,y:p}},mn=function(){if(!as&&(Rc=bo,un)){un.textContent="",Ae();var e=bo.RTL;un.style.direction=e?"rtl":"ltr",un.style.display="block",Ic=!0;var{x:t,y:i}=wt(e);un.style.left=t+"px",un.style.top=i+"px"}},xt=function(){return Xd},Jh=function(e){Xd=e},Lf=function(){return xc},Jr=function(e){xc=e},Oo=function(e){e=`${e}`.toLowerCase().trim();var t=zg[e];if(t||(t=e.substring(0,2)==="0x"?"#"+e.substring(2):e,t=t[0]==="#"?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var i=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return i&&(e=Number(i[1]),t=Number(i[2]),i=Number(i[3]),0<=e&&256>e&&0<=t&&256>t&&0<=i&&256>i)?qu(e,t,i):null},qu=function(e,t,i){return t=e<<16|t<<8|i,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},Ki=function(e){return e=Oo(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},ul=function(e,t,i){let a=0,p=0,v=0;if(t===0)v=p=a=i;else{const C=Math.floor(e/60),M=e/60-C;e=i*(1-t);const ie=i*(1-t*M);switch(t=i*(1-t*(1-M)),C){case 1:a=ie,p=i,v=e;break;case 2:a=e,p=i,v=t;break;case 3:a=e,p=ie,v=i;break;case 4:a=t,p=e,v=i;break;case 5:a=i,p=e,v=ie;break;case 6:case 0:a=i,p=t,v=e}}return qu(Math.floor(a),Math.floor(p),Math.floor(v))},ai=function(e,t,i){return e=Oo(e),!e||(t=Oo(t),!t)?null:(e=Ki(e),t=Ki(t),qu(Math.round(t[0]+i*(e[0]-t[0])),Math.round(t[1]+i*(e[1]-t[1])),Math.round(t[2]+i*(e[2]-t[2]))))},kt=function(e){return ul(e,Xd,255*xc)},qh=function(e,t){const i=[];var a=e.split("");a.push("");var p=0;e=[];let v=null;for(let ie=0;ie<a.length;ie++){var C=a[ie];if(p===0)C==="%"?((p=e.join(""))&&i.push(p),e.length=0,p=1):e.push(C);else if(p===1)C==="%"?(e.push(C),p=0):t&&"0"<=C&&"9">=C?(p=2,v=C,(C=e.join(""))&&i.push(C),e.length=0):C==="{"?p=3:(e.push("%",C),p=0);else if(p===2)if("0"<=C&&"9">=C)v+=C;else{var M=void 0;i.push(parseInt((M=v)!=null?M:"",10)),ie--,p=0}else p===3&&(C===""?(e.splice(0,0,"%{"),ie--,p=0):C!=="}"?e.push(C):(p=e.join(""),/[A-Z]\w*/i.test(p)?(C=p.toUpperCase(),(C=C.startsWith("BKY_")?C.substring(4):null)&&C in Ve?(p=Ve[C],typeof p=="string"?Array.prototype.push.apply(i,qh(p,t)):t?i.push(`${p}`):i.push(p)):i.push("%{"+p+"}")):i.push("%{"+p+"}"),p=e.length=0))}for((t=e.join(""))&&i.push(t),M=[],e.length=0,a=0;a<i.length;a++)typeof i[a]=="string"?e.push(i[a]):((t=e.join(""))&&M.push(t),e.length=0,M.push(i[a]));return(t=e.join(""))&&M.push(t),e.length=0,M},Zu=function(e){return qh(e,!0)},Mt=function(e){return typeof e!="string"?e:(e=qh(e,!1),e.length?String(e[0]):"")},Qu=function(e){let t=!0;const i=Ve,a=e.match(/%{BKY_[A-Z]\w*}/ig);if(a)for(let p=0;p<a.length;p++){const v=a[p].toUpperCase();i[v.slice(6,-1)]===void 0&&(console.warn("No message string for "+a[p]+" in "+e),t=!1)}return t},cl=function(e){const t=typeof e=="string"?Mt(e):e;var i=Number(t);if(!isNaN(i)&&0<=i&&360>=i)return{hue:i,hex:ul(i,xt(),255*Lf())};if(i=Oo(t))return{hue:null,hex:i};throw i='Invalid colour: "'+t+'"',e!==t&&(i+=' (from "'+e+'")'),Error(i)},hl=function(){return Or},ec=function(e){Or=e},ui=function(){Or||(Or=document.createElement("div"),Or.className="blocklyWidgetDiv",(W()||document.body).appendChild(Or))},dl=function(e,t,i){po(),Ac=e,Yd=i,(e=Or)&&(e.style.direction=t?"rtl":"ltr",e.style.display="block",t=w(),Za=t.getRenderer().getClassName(),Qa=t.getTheme().getClassName(),Za&&ye(e,Za),Qa&&ye(e,Qa))},po=function(){if(va()){Ac=null;var e=Or;e&&(e.style.display="none",e.style.left="",e.style.top="",Yd&&Yd(),Yd=null,e.textContent="",Za&&(Oe(e,Za),Za=""),Qa&&(Oe(e,Qa),Qa=""),w().markFocused())}},va=function(){return!!Ac},tc=function(e){Ac===e&&po()},Zh=function(e,t,i){Or.style.left=e+"px",Or.style.top=t+"px",Or.style.height=i+"px"},ba=function(e,t,i,a){const p=$a(e,t,i);e=Mf(e,t,i,a),0>p?Zh(e,0,i.height+p):Zh(e,p,i.height)},Mf=function(e,t,i,a){return a?Math.min(Math.max(t.right-i.width,e.left),e.right-i.width):Math.max(Math.min(t.left,e.right-i.width),e.left)},$a=function(e,t,i){return t.bottom+i.height>=e.bottom?t.top-i.height:t.bottom},Sn=function(e,t){s(ve.FIELD,e,t)},nc=function(e){f(ve.FIELD,e)},Qh=function(e){return Dc.fromJsonInternal(e)},p0=function(e){const t=b(ve.FIELD,e.type);if(t){if(typeof t.fromJson!="function")throw new TypeError("returned Field was not a IRegistrableField");return t.fromJson(e)}return console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null},No=function(e,t){e.setAttribute(Cy,t)},Ot=function(e,t,i){Array.isArray(i)&&(i=i.join(" ")),e.setAttribute(Tv+t,`${i}`)},rc=function(e){let t=!1;const i=e.map(([C,M])=>typeof C=="string"?[Mt(C),M]:(t=!0,[C.alt!==null?Object.assign({},C,{alt:Mt(C.alt)}):Object.assign({},C),M]));if(t||2>e.length)return{options:i};var a=i.map(([C])=>C),p=Xu(a);e=xf(a,p);const v=Af(a,p);return!e&&!v||p<=e+v?{options:i}:(p=e?a[0].substring(0,e-1):void 0,a=v?a[0].substr(1-v):void 0,{options:ed(i,e,v),prefix:p,suffix:a})},ed=function(e,t,i){return e.map(([a,p])=>[a.substring(t,a.length-i),p])},Bf=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let i=0;i<e.length;i++){const a=e[i];Array.isArray(a)?typeof a[1]!="string"?(t=!0,console.error("Invalid option["+i+"]: Each FieldDropdown option id must be a string. Found "+a[1]+" in: ",a)):a[0]&&typeof a[0]!="string"&&typeof a[0].src!="string"&&(t=!0,console.error("Invalid option["+i+"]: Each FieldDropdown option must have a string label or image description. Found"+a[0]+" in: ",a)):(t=!0,console.error("Invalid option["+i+"]: Each FieldDropdown option must be an array. Found: ",a))}if(t)throw TypeError("Found invalid FieldDropdown options.")},Pf=function(e,t){l("Blockly.utils.object.inherits","version 9","version 10"),e.superClass_=t.prototype,Object.setPrototypeOf(e,t),e.prototype=Object.create(t.prototype),e.prototype.constructor=e},f0=function(e,t){l("Blockly.utils.object.mixin","May 2022","May 2023","Object.assign");for(const i in t)e[i]=t[i]},Ji=function(e,t){for(const i in t)e[i]=t[i]!==null&&typeof t[i]=="object"?Ji(e[i]||Object.create(null),t[i]):t[i];return e},_n=function(e){return l("Blockly.utils.object.values","version 9","version 10","Object.values"),Object.values(e)},vn=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=pl(e),e=Ea(e)),g0(e),e):null},g0=function(e){const t=e.kind;if(e=e.contents,t&&t!==Sv&&t!==wi)throw Error("Invalid toolbox kind "+t+". Please supply either "+Sv+" or "+wi);if(!e)throw Error("Toolbox must have a contents attribute.")},oc=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:wa(e):[]},ic=function(e){return Iv.hasCategoriesInternal(e)},m0=function(e){if(!e)return!1;const t=e.kind;return t?t===wi:!!e.contents.filter(function(i){return i.kind.toUpperCase()==="CATEGORY"}).length},ya=function(e){return e&&e.contents?!!e.contents.filter(function(t){return t.kind.toUpperCase()==="CATEGORY"}).length:!1},Ea=function(e){const t={contents:wa(e)};return e instanceof Node&&Ds(e,t),t},wa=function(e){const t=[];let i=e.childNodes;i||(i=e);for(let a=0,p;p=i[a];a++){if(!p.tagName)continue;e={};const v=p.tagName.toUpperCase();e.kind=v,v==="BLOCK"?e.blockxml=p:p.childNodes&&0<p.childNodes.length&&(e.contents=wa(p)),Ds(p,e),t.push(e)}return t},Ds=function(e,t){for(let i=0;i<e.attributes.length;i++){const a=e.attributes[i];-1<a.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[a.nodeName.replace("css-","")]=a.value):t[a.nodeName]=a.value}},pl=function(e){let t=null;if(e)if(typeof e=="string"){if(t=it(e),t.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},o.register$$module$build$src$core$extensions=function(e,t){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(eu[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof t!="function")throw Error('Error: Extension "'+e+'" must be a function');eu[e]=t},ka=function(e,t){if(!t||typeof t!="object")throw Error('Error: Mixin "'+e+'" must be a object');o.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},o.registerMutator$$module$build$src$core$extensions=function(e,t,i,a){const p='Error when registering mutator "'+e+'": ';gl(p,t);const v=Ff(t,p);if(i&&typeof i!="function")throw Error(p+'Extension "'+e+'" is not a function');o.register$$module$build$src$core$extensions(e,function(){v&&this.setMutator(new o.Mutator$$module$build$src$core$mutator(a||[],this)),this.mixin(t),i&&i.apply(this)})},sc=function(e){Os(e)?delete eu[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Os=function(e){return!!eu[e]},td=function(e,t,i){const a=eu[e];if(typeof a!="function")throw Error('Error: Extension "'+e+'" not found.');let p;if(i?_0(e,t):p=lc(t),a.apply(t),i)gl('Error after applying mutator "'+e+'": ',t);else if(!x(p,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},_0=function(e,t){if(lc(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},v0=function(e,t){return fl(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},b0=function(e,t){return fl(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},Ff=function(e,t){return fl(e.compose,e.decompose,t+" compose/decompose")},fl=function(e,t,i){if(e&&t){if(typeof e!="function"||typeof t!="function")throw Error(i+" must be a function");return!0}if(!e&&!t)return!1;throw Error(i+"Must have both or neither functions")},gl=function(e,t){const i=v0(t,e),a=b0(t,e);if(!i&&!a)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");Ff(t,e)},lc=function(e){const t=[];return e.domToMutation!==void 0&&t.push(e.domToMutation),e.mutationToDom!==void 0&&t.push(e.mutationToDom),e.saveExtraState!==void 0&&t.push(e.saveExtraState),e.loadExtraState!==void 0&&t.push(e.loadExtraState),e.compose!==void 0&&t.push(e.compose),e.decompose!==void 0&&t.push(e.decompose),t},x=function(e,t){if(t=lc(t),t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},ci=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),e())},10)}},o.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const i=[];return typeof document=="object"&&ci(function(){for(const a in t)Qu(t[a])}),function(){this.type&&i.indexOf(this.type)===-1&&(ac(this,e,t),i.push(this.type)),this.setTooltip(function(){var a=String(this.getFieldValue(e));let p=t[a];return p===null?i.indexOf(this.type)===-1&&(a="No tooltip mapping for value "+a+" of field "+e,this.type!==null&&(a+=" of block type "+this.type),console.warn(a+".")):p=Mt(p),p}.bind(this))}},ac=function(e,t,i){var a=e.getField(t);if(a instanceof yi&&!a.isOptionListDynamic()){a=a.getOptions();for(let p=0;p<a.length;p++){const v=a[p][1];i[v]===null&&console.warn("No tooltip mapping for value "+v+" of field "+t+" of block type "+e.type)}}},o.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return typeof document=="object"&&ci(function(){Qu(e)}),function(){this.setTooltip(function(){const i=this.getField(t);return Mt(e).replace("%1",i?i.getText():"")}.bind(this))}},qr=function(){const e=this.tooltip;this.setTooltip(function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}.bind(this))},je=function(e,t){return t=e.indexOf(t),t===-1?!1:(e.splice(t,1),!0)},Gf=function(e){if(!(100<e.getDescendants(!1).length)){var t=e.workspace,i=e.getSvgRoot();t.getAudioManager().play("delete");var a=t.getSvgXY(i);i=i.cloneNode(!0),i.setAttribute("transform","translate("+a.x+","+a.y+")"),t.getParentSvg().appendChild(i),Uf(i,{x:a.x,y:a.y,width:e.width,height:e.height},t.RTL,new Date,t.scale)}},Uf=function(e,t,i,a,p){const v=(new Date().getTime()-a.getTime())/150;1<v?st(e):(e.setAttribute("transform","translate("+(t.x+(i?-1:1)*t.width*p/2*v)+","+(t.y+t.height*p*v)+") scale("+(1-v)*p+")"),setTimeout(Uf,10,e,t,i,a,p))},Hf=function(e){const t=e.workspace,i=t.scale;if(t.getAudioManager().play("click"),!(1>i)){var a=t.getSvgXY(e.getSvgRoot());e.outputConnection?(a.x+=(e.RTL?3:-3)*i,a.y+=13*i):e.previousConnection&&(a.x+=(e.RTL?-23:23)*i,a.y+=3*i),e=J(U.CIRCLE,{cx:a.x,cy:a.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg()),qi(e,new Date,i)}},qi=function(e,t,i){const a=(new Date().getTime()-t.getTime())/150;1<a?st(e):(e.setAttribute("r",String(25*a*i)),e.style.opacity=String(1-a),Nc=setTimeout(qi,10,e,t,i))},Vf=function(e){if(Ta(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),Lc=e,Wf(e,t,new Date)}},Wf=function(e,t,i){const a=(new Date().getTime()-i.getTime())/200;let p="";1>=a&&(p=`skewX(${Math.round(Math.sin(a*Math.PI*3)*(1-a)*t)})`,Nc=setTimeout(Wf,10,e,t,i)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${p}`)},Ta=function(){Lc&&(Nc&&(clearTimeout(Nc),Nc=null),Lc.getSvgRoot().setAttribute("transform",Lc.getTranslation()),Lc=null)},uc=function(e,t,i){const a=i.getBoundingRectangle(),p=a.right-a.left,v=ga(t.top,a.top,t.top+t.height-(a.bottom-a.top))-a.top;let C=t.left;return t=t.left+t.width-p,e.RTL?C=Math.min(t,C):t=Math.max(C,t),(e=ga(C,a.left,t)-a.left)||v?(i.moveBy(e,v),!0):!1},zf=function(e){return t=>{var i=e.getMetricsManager();if(i.hasFixedEdges()&&!e.isDragging()){var a;if(Ad.indexOf((a=t.type)!=null?a:"")!==-1){a=i.getScrollMetrics(!0);const p=hi(e,t);p&&(i=be()||!1,se(t.group),uc(e,a,p)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),se(i))}else t.type===El&&t.scale&&t.oldScale&&t.scale>t.oldScale&&nd(e)}}},hi=function(e,t){let i=null;switch(t.type){case Dn:case Kn:(i=e.getBlockById(t.blockId))&&(i=i.getRootBlock());break;case is:case ss:i=e.getCommentById(t.commentId)}return i},nd=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var i=e.getTopBoundedElements();for(let a=0,p;p=i[a];a++)uc(e,t,p)}},$0=function(e){const t=[];e=e.getDescendants(!1);for(let i=0,a;a=e[i];i++){const p=a.getIcons();for(let v=0;v<p.length;v++){const C={location:p[v].getIconLocation(),icon:p[v]};t.push(C)}}return t},Ca=function(e){zs.copyInternal(e)},y0=function(e){hn=e.toCopyData()},rd=function(){if(!hn)return null;let e=hn.source;return e.isFlyout&&(e=e.targetWorkspace),hn.typeCounts&&e.isCapacityAvailable(hn.typeCounts)?e.paste(hn.saveInfo):null},Zr=function(e){return zs.duplicateInternal(e)},E0=function(e){const t=hn;Ca(e);let i,a,p;return e=(p=(i=e.toCopyData())==null||(a=i.source)==null?void 0:a.paste(hn.saveInfo))!=null?p:null,hn=t,e},w0=function(){return Fc},jf=function(e){Fc=e},cc=function(e,t,i){if(dl(Qg,i,Xf),t.length){var a=k0(t,i);Gc=a,Ns(a,e,i),setTimeout(function(){a.focus()},1),Fc=null}else ir()},k0=function(e,t){const i=new jg;i.setRole(Lr.MENU);for(let a=0;a<e.length;a++){const p=e[a],v=new Xg(p.text);v.setRightToLeft(t),v.setRole(Lr.MENUITEM),i.addChild(v),v.setEnabled(p.enabled),p.enabled&&v.onAction(function(){ir(),requestAnimationFrame(()=>{setTimeout(()=>{p.callback(p.scope)},0)})},{})}return i},Ns=function(e,t,i){const a=ca();t=new Yt(t.clientY+a.top,t.clientY+a.top,t.clientX+a.left,t.clientX+a.left),T0(e);const p=e.getSize();i&&(t.left+=p.width,t.right+=p.width,a.left+=p.width,a.right+=p.width),ba(a,t,p,i),e.focus()},T0=function(e){var t=hl();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),ye(t,"blocklyContextMenu"),De(t,"contextmenu",null,C0),e.focus()},C0=function(e){e.preventDefault(),e.stopPropagation()},ir=function(){tc(Qg),Fc=null},Xf=function(){Gc&&(Gc.dispose(),Gc=null)},S0=function(e,t){return()=>{ee();let i;try{i=al(t,e.workspace);const a=e.getRelativeToSurfaceXY();a.x=e.RTL?a.x-o.config$$module$build$src$core$config.snapRadius:a.x+o.config$$module$build$src$core$config.snapRadius,a.y+=2*o.config$$module$build$src$core$config.snapRadius,i.moveBy(a.x,a.y)}finally{Z()}_e()&&!i.isShadow()&&ce(new(we(Dn))(i)),i.select()}},Yf=function(e){return{text:Ve.REMOVE_COMMENT,enabled:!0,callback:function(){se(!0),e.dispose(),se(!1)}}},Kf=function(e){return{text:Ve.DUPLICATE_COMMENT,enabled:!0,callback:function(){Zr(e)}}},I0=function(e,t){const i={enabled:!0};return i.text=Ve.ADD_COMMENT,i.callback=function(){const a=new Jn(e,Ve.WORKSPACE_COMMENT_DEFAULT_TEXT,Jn.DEFAULT_SIZE,Jn.DEFAULT_SIZE);var p=e.getInjectionDiv().getBoundingClientRect();p=new ge(t.clientX-p.left,t.clientY-p.top);const v=e.getOriginOffsetInPixels();p=ge.difference(p,v),p.scale(1/e.scale),a.moveBy(p.x,p.y),e.rendered&&(a.initSvg(),a.render(),a.select())},i},Sa=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},Le=function(e,t){return" "+e+","+t+" "},Tr=function(e,t){return" "+e+t.join("")},Gn=function(e,t){return" M "+e+","+t+" "},Nt=function(e,t){return" m "+e+","+t+" "},Cr=function(e,t){return" l "+e+","+t+" "},Zi=function(e){return" l"+e.join("")},Te=function(e,t){return" "+e+" "+t+" "},Xt=function(e,t,i,a){return e+" "+i+" "+i+" "+t+a},R0=function(e){Lo(e),rm||(rm=window.requestAnimationFrame(od))},Lo=function(e){tp.add(e);const t=e.getParent();t?Lo(t):ep.add(e)},od=function(){const e=new Set([...ep].map(t=>t.workspace));for(const t of ep)t.isDisposed()||t.getParent()||(Qi(t),Sr(t,t.getRelativeToSurfaceXY()),Jf(t));for(const t of e)t.resizeContents();ep.clear(),tp=new Set,rm=0},Qi=function(e){if(tp.has(e)){for(const t of e.getChildren(!1))Qi(t);e.renderEfficiently()}},Sr=function(e,t){for(const i of e.getConnections_(!1)){e=i.moveToOffset(t);const a=i.targetBlock();i.isSuperior()&&a&&(e||tp.has(a))&&Sr(a,ge.sum(t,a.relativeCoords))}},Jf=function(e){if(e.getIcons){for(const t of e.getIcons())t.computeIconLocation();for(const t of e.getChildren(!1))Jf(t)}},id=function(){bt.registry.register({displayText(){return Ve.UNDO},preconditionFn(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:bt.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},sd=function(){bt.registry.register({displayText(){return Ve.REDO},preconditionFn(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:bt.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},ml=function(){bt.registry.register({displayText(){return Ve.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:bt.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},di=function(e,t){function i(v){p--,v.setCollapsed(e),p===0&&se(!1)}let a=0,p=0;se(!0);for(let v=0;v<t.length;v++){let C=t[v];for(;C;)p++,setTimeout(i.bind(null,C),a),C=C.getNextBlock(),a+=10}},ld=function(){bt.registry.register({displayText(){return Ve.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let i=e[t];for(;i;){if(!i.isCollapsed())return"enabled";i=i.getNextBlock()}}return"disabled"}return"hidden"},callback(e){di(!0,e.workspace.getTopBlocks(!0))},scopeType:bt.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},qf=function(){bt.registry.register({displayText(){return Ve.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let i=e[t];for(;i;){if(i.isCollapsed())return"enabled";i=i.getNextBlock()}}return"disabled"}return"hidden"},callback(e){di(!1,e.workspace.getTopBlocks(!0))},scopeType:bt.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},Ia=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let i=0;i<e.length;i++)Ia(e[i],t)}},ad=function(e){const t=[];e=e.getTopBlocks(!0);for(let i=0;i<e.length;i++)Ia(e[i],t);return t},Ra=function(e,t){t?se(t):(se(!0),t=be());const i=e.shift();i&&(i.isDeadOrDying()?Ra(e,t):(i.dispose(!1,!0),setTimeout(Ra,10,e,t))),se(!1)},In=function(){bt.registry.register({displayText(e){return e.workspace?(e=ad(e.workspace).length,e===1?Ve.DELETE_BLOCK:Ve.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&0<ad(e.workspace).length?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=ad(e.workspace);2>t.length?Ra(t):oa(Ve.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(i){i&&Ra(t)})}},scopeType:bt.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},ud=function(){id(),sd(),ml(),ld(),qf(),In()},cd=function(){bt.registry.register({displayText(){return Ve.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){e.block&&Zr(e.block)},scopeType:bt.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},fo=function(){bt.registry.register({displayText(e){return e.block.getCommentIcon()?Ve.REMOVE_COMMENT:Ve.ADD_COMMENT},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback(e){e=e.block,e.getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:bt.ScopeType.BLOCK,id:"blockComment",weight:2})},hc=function(){bt.registry.register({displayText(e){return e.block.getInputsInline()?Ve.EXTERNAL_INPUTS:Ve.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(e.inputList[t-1].type!==et.STATEMENT&&e.inputList[t].type!==et.STATEMENT)return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:bt.ScopeType.BLOCK,id:"blockInline",weight:3})},xa=function(){bt.registry.register({displayText(e){return e.block.isCollapsed()?Ve.EXPAND_BLOCK:Ve.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:bt.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},es=function(){bt.registry.register({displayText(e){return e.block.isEnabled()?Ve.DISABLE_BLOCK:Ve.ENABLE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback(e){e=e.block;const t=be();t||se(!0),e.setEnabled(!e.isEnabled()),se(t)},scopeType:bt.ScopeType.BLOCK,id:"blockDisable",weight:5})},hd=function(){bt.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),e===1?Ve.DELETE_BLOCK:Ve.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:bt.ScopeType.BLOCK,id:"blockDelete",weight:6})},Un=function(){bt.registry.register({displayText(){return Ve.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:bt.ScopeType.BLOCK,id:"blockHelp",weight:7})},dd=function(){cd(),fo(),hc(),xa(),es(),hd(),Un()},Zf=function(){ud(),dd()},Ls=function(e){return e.getProcedureModel!==void 0&&e.doProcedureUpdate!==void 0&&e.isProcedureDef!==void 0},pd=function(e){return e.startPublishing!==void 0&&e.stopPublishing!==void 0},Aa=function(e){const t=e.getProcedureMap().getProcedures().filter(a=>!a.getReturnTypes()).map(a=>[a.getName(),a.getParameters().map(p=>p.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(a=>{!Ls(a)&&il(a)&&t.push(a.getProcedureDef())});const i=e.getProcedureMap().getProcedures().filter(a=>!!a.getReturnTypes()).map(a=>[a.getName(),a.getParameters().map(p=>p.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(a=>{!Ls(a)&&il(a)&&i.push(a.getProcedureDef())}),t.sort(Qf),i.sort(Qf),[t,i]},Qf=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},_l=function(e,t){if(t.isInFlyout)return e;for(e=e||Ve.UNNAMED_KEY||"unnamed";!eg(e,t.workspace,t);){const i=e.match(/^(.*?)(\d+)$/);e=i?i[1]+(parseInt(i[2])+1):e+"2"}return e},eg=function(e,t,i){return!tg(e,t,i)},tg=function(e,t,i){for(const a of t.getAllBlocks(!1))if(a!==i&&il(a)&&pr.equals(a.getProcedureDef()[0],e))return!0;i=i&&Ls(i)?i==null?void 0:i.getProcedureModel():void 0;for(const a of t.getProcedureMap().getProcedures())if(a!==i&&pr.equals(a.getName(),e))return!0;return!1},x0=function(e){var t=this.getSourceBlock();if(!t)throw new rn;e=e.trim();const i=_l(e,t);Ls(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(i);const a=this.getValue();if(a!==e&&a!==i)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const p=e[t];p.renameProcedure&&p.renameProcedure(a,i)}return i},Ms=function(e){function t(v,C){for(let ie=0;ie<v.length;ie++){var M=v[ie][0];const ke=v[ie][1],sn=o.createElement$$module$build$src$core$utils$xml("block");sn.setAttribute("type",C),sn.setAttribute("gap","16");const ln=o.createElement$$module$build$src$core$utils$xml("mutation");for(ln.setAttribute("name",M),sn.appendChild(ln),M=0;M<ke.length;M++){const Eo=o.createElement$$module$build$src$core$utils$xml("arg");Eo.setAttribute("name",ke[M]),ln.appendChild(Eo)}i.push(sn)}}const i=[];if(ur.procedures_defnoreturn){var a=o.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","procedures_defnoreturn"),a.setAttribute("gap","16");var p=o.createElement$$module$build$src$core$utils$xml("field");p.setAttribute("name","NAME"),p.appendChild(Gt(Ve.PROCEDURES_DEFNORETURN_PROCEDURE)),a.appendChild(p),i.push(a)}return ur.procedures_defreturn&&(a=o.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","procedures_defreturn"),a.setAttribute("gap","16"),p=o.createElement$$module$build$src$core$utils$xml("field"),p.setAttribute("name","NAME"),p.appendChild(Gt(Ve.PROCEDURES_DEFRETURN_PROCEDURE)),a.appendChild(p),i.push(a)),ur.procedures_ifreturn&&(a=o.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","procedures_ifreturn"),a.setAttribute("gap","16"),i.push(a)),i.length&&i[i.length-1].setAttribute("gap","24"),e=Aa(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),i},ng=function(e){var t=[],i=e.getBlocksByType("procedures_mutatorarg",!1);for(let v=0,C;C=i[v];v++)t.push(C.getFieldValue("NAME"));i=o.createElement$$module$build$src$core$utils$xml("xml");const a=o.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","procedures_mutatorarg");const p=o.createElement$$module$build$src$core$utils$xml("field");p.setAttribute("name","NAME"),t=Sh(bm,t),t=Gt(t),p.appendChild(t),a.appendChild(p),i.appendChild(a),e.updateToolbox(i)},rg=function(e){if(e.type===Fe&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=S(e.workspaceId).getBlockById(e.blockId);var t=e.type;(t==="procedures_defnoreturn"||t==="procedures_defreturn")&&(e=e.mutator.getWorkspace(),ng(e),e.addChangeListener(fd))}},fd=function(e){(e.type===Dn||e.type===Po||e.type===Rn)&&(e=S(e.workspaceId),ng(e))},gd=function(e,t){return t.getAllBlocks(!1).filter(i=>A0(i,e)||M_(i)&&pr.equals(i.getProcedureCall(),e))},A0=function(e,t){return Ls(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&pr.equals(e.getProcedureModel().getName(),t)},D0=function(e){const t=Ie();var i=e.getProcedureDef()[0];const a=e.mutationToDom(!0);e=gd(i,e.workspace);for(let v=0,C;C=e[v];v++){i=(i=C.mutationToDom())&&yr(i),C.domToMutation&&C.domToMutation(a);var p=C.mutationToDom();p=p&&yr(p),i!==p&&(Se(!1),ce(new(we(Rn))(C,"mutation",null,i,p)),Se(t))}},O0=function(e,t){for(const i of t.getAllBlocks(!1))if(Ls(i)&&i.isProcedureDef()&&pr.equals(i.getProcedureModel().getName(),e)||il(i)&&pr.equals(i.getProcedureDef()[0],e))return i;return null},md=function(e){return e.isDynamic},vl=function(){return jv},N0=function(){l("Blockly.blockRendering.debug.stopDebugger()","version 8","version 10","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),jv=!1},Bs=function(e,t){s(ve.RENDERER,e,t)},og=function(e){f(ve.RENDERER,e)},ig=function(){l("Blockly.blockRendering.stopDebugger()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),N0()},_d=function(e,t,i){return e=new(_(ve.RENDERER,e))(e),e.init(t,i),e},Da=function(e){Ts(e.getTargetWorkspace(),void 0,"String")},sg=function(e){Ts(e.getTargetWorkspace(),void 0,"Number")},vd=function(e){Ts(e.getTargetWorkspace(),void 0,"Colour")},dc=function(e){let t=[],i=document.createElement("button");return i.setAttribute("text",Ve.NEW_STRING_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(i),i=document.createElement("button"),i.setAttribute("text",Ve.NEW_NUMBER_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(i),i=document.createElement("button"),i.setAttribute("text",Ve.NEW_COLOUR_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(i),e.registerButtonCallback("CREATE_VARIABLE_STRING",Da),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",sg),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",vd),e=lg(e),t=t.concat(e)},lg=function(e){e=e.getAllVariables();const t=[];if(0<e.length){if(ur.variables_set_dynamic){var i=e[e.length-1];const a=o.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","variables_set_dynamic"),a.setAttribute("gap","24"),a.appendChild(sl(i)),t.push(a)}if(ur.variables_get_dynamic){e.sort(Va.compareByName);for(let a=0,p;p=e[a];a++)i=o.createElement$$module$build$src$core$utils$xml("block"),i.setAttribute("type","variables_get_dynamic"),i.setAttribute("gap","8"),i.appendChild(sl(p)),t.push(i)}}return t},pc=function(e,t,i,a,p,v){const C=v.scrollbar&&v.scrollbar.canScrollVertically();return e.horizontal===su.LEFT?(i=p.absoluteMetrics.left+i,C&&v.RTL&&(i+=zt.scrollbarThickness)):(i=p.absoluteMetrics.left+p.viewMetrics.width-t.width-i,C&&!v.RTL&&(i-=zt.scrollbarThickness)),e.vertical===Ai.TOP?e=p.absoluteMetrics.top+a:(e=p.absoluteMetrics.top+p.viewMetrics.height-t.height-a,v.scrollbar&&v.scrollbar.canScrollHorizontally()&&(e-=zt.scrollbarThickness)),new Yt(e,e+t.height,i,i+t.width)},bd=function(e,t){return{horizontal:t.toolboxMetrics.position===Xe.LEFT||e.horizontalLayout&&!e.RTL?su.RIGHT:su.LEFT,vertical:t.toolboxMetrics.position===Xe.BOTTOM?Ai.TOP:Ai.BOTTOM}},Oa=function(e,t,i,a){const p=e.left,v=e.right-e.left,C=e.bottom-e.top;for(let M=0;M<a.length;M++){const ie=a[M];e.intersects(ie)&&(e=i===Xs.UP?ie.top-C-t:ie.bottom+t,e=new Yt(e,e+C,p,p+v),M=-1)}return e},ag=function(e){e.resizeContents()},$d=function(e,t){if(typeof e=="string"&&(e=document.getElementById(e)||document.querySelector(e)),!e||!ks(document,e))throw Error("Error: container is not in current document.");t=new Ho(t||{});const i=document.createElement("div");i.className="injectionDiv",i.tabIndex=0,Ot(i,Ht.LABEL,Ve.WORKSPACE_ARIA_LABEL),e.appendChild(i),e=L0(i,t);const a=new Rv(i),p=new Kv(i),v=yd(e,t,a,p);return ct(v),k(v),H(v),i.addEventListener("focusin",function(){k(v)}),v},L0=function(e,t){e.setAttribute("dir","LTR"),Rh(t.hasCss,t.pathToMedia),e=J(U.SVG,{xmlns:Us,"xmlns:html":Uo,"xmlns:xlink":Rr,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const i=J(U.DEFS,{},e),a=String(Math.random()).substring(2);return t.gridPattern=vm.createDom(a,t.gridOptions,i),e},yd=function(e,t,i,a){t.parentWorkspace=null,t=new Wo(t,i,a),i=t.options,t.scale=i.zoomOptions.startScale,e.appendChild(t.createDom("blocklyMainBackground")),a=t.getInjectionDiv();var p=t.getRenderer().getClassName();return p&&ye(a,p),(p=t.getTheme().getClassName())&&ye(a,p),!i.hasCategories&&i.languageTree&&(a=t.addFlyout(U.SVG),tn(a,e)),i.hasTrashcan&&t.addTrashcan(),i.zoomOptions&&i.zoomOptions.controls&&t.addZoomControls(),t.getThemeManager().subscribe(e,"workspaceBackgroundColour","background-color"),t.translate(0,0),t.addChangeListener(zf(t)),H(t),ui(),Cf(),Kh(),t},ct=function(e){const t=e.options;var i=e.getParentSvg();if(De(i.parentNode,"contextmenu",null,function(a){aa(a)||a.preventDefault()}),i=De(window,"resize",null,function(){e.hideChaff(!0),H(e),nd(e)}),e.setResizeHandlerWrapper(i),B0(),t.languageTree){i=e.getToolbox();const a=e.getFlyout(!0);i?i.init():a&&(a.init(e),a.show(t.languageTree),typeof a.scrollToStart=="function"&&a.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new _m(e,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.horizontal,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&Na(t.pathToMedia,e)},M0=function(e){const t=w();t&&!(aa(e)||t.rendered&&!t.isVisible())&&Et.registry.onKeyDown(t,e)},B0=function(){Jv||(De(document,"scroll",null,function(){const e=D();for(let t=0,i;i=e[t];t++)i instanceof Wo&&i.updateInverseScreenCTM()}),De(document,"keydown",null,M0),Yn(document,"touchend",null,ri),Yn(document,"touchcancel",null,ri),Wa&&De(window,"orientationchange",document,function(){H(w())})),Jv=!0},Na=function(e,t){function i(){for(;p.length;)_t(p.pop());a.preload()}const a=t.getAudioManager();a.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),a.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),a.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const p=[];p.push(De(document,"pointermove",null,i,!0)),p.push(De(document,"touchstart",null,i,!0))},Ed=function(e){const t={id:e.getId(),name:e.getName(),returnTypes:e.getReturnTypes()};return e.getParameters().length&&(t.parameters=e.getParameters().map(i=>ug(i))),t},ug=function(e){const t={id:e.getId(),name:e.getName()};return e.getTypes().length&&(t.types=e.getTypes()),t},cg=function(e,t,i,a){if(e=new e(a,i.name,i.id).setReturnTypes(i.returnTypes),!i.parameters)return e;for(const[p,v]of i.parameters.entries())e.insertParameter(Ir(t,v,a),p);return e},Ir=function(e,t,i){return e=new e(i,t.name,t.id),t.types&&e.setTypes(t.types),e},P0=function(e){const t=Object.create(null),i=y(ve.SERIALIZER,!0);for(const a in i){let p;const v=(p=i[a])==null?void 0:p.save(e);v&&(t[a]=v)}return t},fc=function(e,t,{recordUndo:i=!1}={}){var a=y(ve.SERIALIZER,!0);if(a){a=Object.entries(a).sort((v,C)=>C[1].priority-v[1].priority);var p=Ie();Se(i),(i=be())||se(!0),rr(),t instanceof Wo&&t.setResizesEnabled(!1);for(const[,v]of a.reverse()){let C;(C=v)==null||C.clear(t)}for(let[v,C]of a.reverse())if(e[v]){let M;(M=C)==null||M.load(e[v],t)}t instanceof Wo&&t.setResizesEnabled(!0),uo(),ce(new(we(Ga))(t)),se(i),Se(p)}},gc=function(){Et.registry.register({name:Ln.ESCAPE,preconditionFn(e){return!e.options.readOnly},callback(e){return e.hideChaff(),!0},keyCodes:[ze.ESC]})},wd=function(){Et.registry.register({name:Ln.DELETE,preconditionFn(e){const t=I();return!e.options.readOnly&&t!=null&&t.isDeletable()},callback(e,t){return t.preventDefault(),Ii.inProgress()?!1:(I().checkAndDelete(),!0)},keyCodes:[ze.DELETE,ze.BACKSPACE]})},kd=function(){const e=Et.registry.createSerializedKey(ze.C,[ze.CTRL]),t=Et.registry.createSerializedKey(ze.C,[ze.ALT]),i=Et.registry.createSerializedKey(ze.C,[ze.META]);Et.registry.register({name:Ln.COPY,preconditionFn(a){const p=I();return!a.options.readOnly&&!Ii.inProgress()&&p!=null&&p.isDeletable()&&p.isMovable()},callback(a,p){return p.preventDefault(),a.hideChaff(),Ca(I()),!0},keyCodes:[e,t,i]})},sr=function(){const e=Et.registry.createSerializedKey(ze.X,[ze.CTRL]),t=Et.registry.createSerializedKey(ze.X,[ze.ALT]),i=Et.registry.createSerializedKey(ze.X,[ze.META]);Et.registry.register({name:Ln.CUT,preconditionFn(a){const p=I();return!a.options.readOnly&&!Ii.inProgress()&&p!=null&&p instanceof yo&&p.isDeletable()&&p.isMovable()&&!p.workspace.isFlyout},callback(){const a=I();return a?(Ca(a),a.checkAndDelete(),!0):!1},keyCodes:[e,t,i]})},pi=function(){const e=Et.registry.createSerializedKey(ze.V,[ze.CTRL]),t=Et.registry.createSerializedKey(ze.V,[ze.ALT]),i=Et.registry.createSerializedKey(ze.V,[ze.META]);Et.registry.register({name:Ln.PASTE,preconditionFn(a){return!a.options.readOnly&&!Ii.inProgress()},callback(){return!!rd()},keyCodes:[e,t,i]})},mc=function(){const e=Et.registry.createSerializedKey(ze.Z,[ze.CTRL]),t=Et.registry.createSerializedKey(ze.Z,[ze.ALT]),i=Et.registry.createSerializedKey(ze.Z,[ze.META]);Et.registry.register({name:Ln.UNDO,preconditionFn(a){return!a.options.readOnly&&!Ii.inProgress()},callback(a){return a.hideChaff(),a.undo(!1),!0},keyCodes:[e,t,i]})},Td=function(){const e=Et.registry.createSerializedKey(ze.Z,[ze.SHIFT,ze.CTRL]),t=Et.registry.createSerializedKey(ze.Z,[ze.SHIFT,ze.ALT]),i=Et.registry.createSerializedKey(ze.Z,[ze.SHIFT,ze.META]),a=Et.registry.createSerializedKey(ze.Y,[ze.CTRL]);Et.registry.register({name:Ln.REDO,preconditionFn(p){return!Ii.inProgress()&&!p.options.readOnly},callback(p){return p.hideChaff(),p.undo(!0),!0},keyCodes:[e,t,i,a]})},La=function(){gc(),wd(),kd(),sr(),pi(),mc(),Td()},hg=function(e){return e.isSelectable()},Cd=function(e){return l("Blockly.utils.getRelativeXY","December 2021","December 2022","Blockly.utils.svgMath.getRelativeXY"),wr(e)},dg=function(e){return l("Blockly.utils.getInjectionDivXY_","December 2021","December 2022","Blockly.utils.svgMath.getInjectionDivXY"),Fu(e)},Sd=function(e){return l("Blockly.utils.tokenizeInterpolation","December 2021","December 2022","Blockly.utils.parsing.tokenizeInterpolation"),Zu(e)},Id=function(e){return l("Blockly.utils.replaceMessageReferences","December 2021","December 2022","Blockly.utils.parsing.replaceMessageReferences"),Mt(e)},ts=function(e){return l("Blockly.utils.checkMessageReferences","December 2021","December 2022","Blockly.utils.parsing.checkMessageReferences"),Qu(e)},F0=function(){return l("Blockly.utils.is3dSupported","December 2021","December 2022","Blockly.utils.svgMath.is3dSupported"),Dh()},ns=function(){return l("Blockly.utils.getViewportBBox","December 2021","December 2022","Blockly.utils.svgMath.getViewportBBox"),ca()},pg=function(e,t){return l("Blockly.utils.arrayRemove","December 2021","December 2022","Blockly.array.removeElem"),je(e,t)},fg=function(){return l("Blockly.utils.getDocumentScroll","December 2021","December 2022","Blockly.utils.svgMath.getDocumentScroll"),ha()},Rd=function(e,t){return l("Blockly.utils.getBlockTypeCounts","December 2021","December 2022","Blockly.common.getBlockTypeCounts"),K(e,t)},G0=function(e,t){return l("Blockly.utils.screenToWsCoordinates","December 2021","December 2022","Blockly.utils.svgMath.screenToWsCoordinates"),Cs(e,t)},U0=function(e){return l("Blockly.utils.parseBlockColour","December 2021","December 2022","Blockly.utils.parsing.parseBlockColour"),cl(e)},H0=function(e){l("Blockly.utils.runAfterPageLoad","December 2021","December 2022"),ci(e)},gg=function(e){w().hideChaff(e)},mg=function(e){l("Blockly.resizeSvgContents","December 2021","December 2022","Blockly.WorkspaceSvg.resizeSvgContents"),ag(e)},V0=function(e){l("Blockly.copy","December 2021","December 2022","Blockly.clipboard.copy"),Ca(e)},_g=function(){return l("Blockly.paste","December 2021","December 2022","Blockly.clipboard.paste"),!!rd()},vg=function(e){l("Blockly.duplicate","December 2021","December 2022","Blockly.clipboard.duplicate"),Zr(e)},lr=function(e){return l("Blockly.isNumber","December 2021","December 2022","Blockly.utils.string.isNumber"),li(e)},Mo=function(e){return l("Blockly.hueToHex","December 2021","December 2022","Blockly.utils.colour.hueToHex"),kt(e)},W0=function(e,t,i,a){return l("Blockly.bindEvent_","December 2021","December 2022","Blockly.browserEvents.bind"),Yn(e,t,i,a)},z0=function(e){return l("Blockly.unbindEvent_","December 2021","December 2022","Blockly.browserEvents.unbind"),_t(e)},_c=function(e,t,i,a,p,v){return l("Blockly.bindEventWithChecks_","December 2021","December 2022","Blockly.browserEvents.conditionalBind"),De(e,t,i,a,p)},Ne=Ne||{},Ne.scope={},Ne.ASSUME_ES5=!1,Ne.ASSUME_NO_NATIVE_MAP=!1,Ne.ASSUME_NO_NATIVE_SET=!1,Ne.SIMPLE_FROUND_POLYFILL=!1,Ne.ISOLATE_POLYFILLS=!1,Ne.FORCE_POLYFILL_PROMISE=!1,Ne.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,Ne.defineProperty=Ne.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e},Ne.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof Li=="object"&&Li];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")},Ne.global=Ne.getGlobal(this),Ne.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",Ne.TRUST_ES6_POLYFILLS=!Ne.ISOLATE_POLYFILLS||Ne.IS_SYMBOL_NATIVE,Ne.polyfills={},Ne.propertyToPolyfillSymbol={},Ne.POLYFILL_PREFIX="$jscp$",Ne.polyfill=function(e,t,i,a){t&&(Ne.ISOLATE_POLYFILLS?Ne.polyfillIsolated(e,t,i,a):Ne.polyfillUnisolated(e,t,i,a))},Ne.polyfillUnisolated=function(e,t,i,a){for(i=Ne.global,e=e.split("."),a=0;a<e.length-1;a++){var p=e[a];if(!(p in i))return;i=i[p]}e=e[e.length-1],a=i[e],t=t(a),t!=a&&t!=null&&Ne.defineProperty(i,e,{configurable:!0,writable:!0,value:t})},Ne.polyfillIsolated=function(e,t,i,a){var p=e.split(".");e=p.length===1,a=p[0],a=!e&&a in Ne.polyfills?Ne.polyfills:Ne.global;for(var v=0;v<p.length-1;v++){var C=p[v];if(!(C in a))return;a=a[C]}p=p[p.length-1],i=Ne.IS_SYMBOL_NATIVE&&i==="es6"?a[p]:null,t=t(i),t!=null&&(e?Ne.defineProperty(Ne.polyfills,p,{configurable:!0,writable:!0,value:t}):t!==i&&(Ne.propertyToPolyfillSymbol[p]===void 0&&(i=1e9*Math.random()>>>0,Ne.propertyToPolyfillSymbol[p]=Ne.IS_SYMBOL_NATIVE?Ne.global.Symbol(p):Ne.POLYFILL_PREFIX+i+"$"+p),Ne.defineProperty(a,Ne.propertyToPolyfillSymbol[p],{configurable:!0,writable:!0,value:t})))},Ne.polyfill("globalThis",function(e){return e||Ne.global},"es_2020","es3"),Ne.polyfill("Object.getOwnPropertyDescriptors",function(e){return e||function(t){for(var i={},a=Reflect.ownKeys(t),p=0;p<a.length;p++)i[a[p]]=Object.getOwnPropertyDescriptor(t,a[p]);return i}},"es8","es5"),Ne.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},Ne.arrayIterator=function(e){return{next:Ne.arrayIteratorImpl(e)}},Ne.initSymbol=function(){},Ne.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},Ne.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var i=0,a=!1,p={next:function(){if(!a&&i<e.length){var v=i++;return{value:t(v,e[v]),done:!1}}return a=!0,{done:!0,value:void 0}}};return p[Symbol.iterator]=function(){return p},p},Ne.polyfill("Array.prototype.values",function(e){return e||function(){return Ne.iteratorFromArray(this,function(t,i){return i})}},"es8","es3"),Ne.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ne.polyfill("Object.values",function(e){return e||function(t){var i=[],a;for(a in t)Ne.owns(t,a)&&i.push(t[a]);return i}},"es8","es3"),Ne.polyfill("Array.prototype.flat",function(e){return e||function(t){t=t===void 0?1:t;for(var i=[],a=0;a<this.length;a++){var p=this[a];Array.isArray(p)&&0<t?(p=Array.prototype.flat.call(p,t-1),i.push.apply(i,p)):i.push(p)}return i}},"es9","es5"),Ne.polyfill("Object.entries",function(e){return e||function(t){var i=[],a;for(a in t)Ne.owns(t,a)&&i.push([a,t[a]]);return i}},"es8","es3");var ar=ar||{};ar.global=globalThis||root,ar.define=function(e,t){return t},ar.DEBUG=!1,ar.DISALLOW_TEST_ONLY_CODE=!ar.DEBUG,ar.provide=function(e){},ar.module=function(e){},ar.module.get=function(e){},ar.module.declareLegacyNamespace=function(){},ar.setTestOnly=function(e){if(ar.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},ar.require=function(e){},ar.requireType=function(e){};var bn={};bn.warn=l;var Ps=Object.create(null),j0={typeMap:Ps},rs=Object.create(null),Qr="default",ve=class{constructor(e){this.name=e}toString(){return this.name}};ve.CONNECTION_CHECKER=new ve("connectionChecker"),ve.CURSOR=new ve("cursor"),ve.EVENT=new ve("event"),ve.FIELD=new ve("field"),ve.RENDERER=new ve("renderer"),ve.TOOLBOX=new ve("toolbox"),ve.THEME=new ve("theme"),ve.TOOLBOX_ITEM=new ve("toolboxItem"),ve.FLYOUTS_VERTICAL_TOOLBOX=new ve("flyoutsVerticalToolbox"),ve.FLYOUTS_HORIZONTAL_TOOLBOX=new ve("flyoutsHorizontalToolbox"),ve.METRICS_MANAGER=new ve("metricsManager"),ve.BLOCK_DRAGGER=new ve("blockDragger"),ve.SERIALIZER=new ve("serializer");var go={};go.DEFAULT=Qr,go.TEST_ONLY=j0,go.Type=ve,go.getAllItems=y,go.getClass=_,go.getClassFromOptions=E,go.getObject=b,go.hasItem=g,go.register=s,go.unregister=f;var ur=Object.create(null),os,bg,Ma,xd,fi,$g;os=Object.create(null),Ma=null,fi=[],$g={defineBlocksWithJsonArrayInternal:pe},o.module$build$src$core$common={},o.module$build$src$core$common.TEST_ONLY=$g,o.module$build$src$core$common.createBlockDefinitionsFromJsonArray=o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,o.module$build$src$core$common.defineBlocks=o.defineBlocks$$module$build$src$core$common,o.module$build$src$core$common.defineBlocksWithJsonArray=re,o.module$build$src$core$common.draggingConnections=fi,o.module$build$src$core$common.getAllWorkspaces=D,o.module$build$src$core$common.getBlockTypeCounts=K,o.module$build$src$core$common.getMainWorkspace=w,o.module$build$src$core$common.getParentContainer=W,o.module$build$src$core$common.getSelected=I,o.module$build$src$core$common.getWorkspaceById=S,o.module$build$src$core$common.registerWorkspace=L,o.module$build$src$core$common.setMainWorkspace=k,o.module$build$src$core$common.setParentContainer=j,o.module$build$src$core$common.setSelected=P,o.module$build$src$core$common.svgResize=H,o.module$build$src$core$common.unregisterWorkpace=N;var yg="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",vc={genUid:()=>{const e=yg.length,t=[];for(let i=0;20>i;i++)t[i]=yg.charAt(Math.random()*e);return t.join("")}},X0=0,Ba={};Ba.TEST_ONLY=vc,Ba.genUid=xe,Ba.getNextUniqueId=ne;var Y0="",Pa=!0,Bo=0,Dn="create",Po="delete",Rn="change",Kn="move",bl="var_create",Fa="var_delete",eo="var_rename",$l="ui",Fs="drag",gi="selected",Fo="click",mi="marker_move",Fe="bubble_open",Gs="trashcan_open",yl="toolbox_item_select",Go="theme_change",El="viewport_change",is="comment_create",wl="comment_delete",$n="comment_change",ss="comment_move",Ga="finished_loading",Ad=[Dn,Kn,is,ss],Ua=[],Dd={FIRE_QUEUE:Ua,fireNow:z,fireInternal:qe,setGroupInternal:He},rt={};rt.BLOCK_CHANGE=Rn,rt.BLOCK_CREATE=Dn,rt.BLOCK_DELETE=Po,rt.BLOCK_DRAG=Fs,rt.BLOCK_MOVE=Kn,rt.BUBBLE_OPEN=Fe,rt.BUMP_EVENTS=Ad,rt.CHANGE=Rn,rt.CLICK=Fo,rt.COMMENT_CHANGE=$n,rt.COMMENT_CREATE=is,rt.COMMENT_DELETE=wl,rt.COMMENT_MOVE=ss,rt.CREATE=Dn,rt.DELETE=Po,rt.FINISHED_LOADING=Ga,rt.MARKER_MOVE=mi,rt.MOVE=Kn,rt.SELECTED=gi,rt.TEST_ONLY=Dd,rt.THEME_CHANGE=Go,rt.TOOLBOX_ITEM_SELECT=yl,rt.TRASHCAN_OPEN=Gs,rt.UI=$l,rt.VAR_CREATE=bl,rt.VAR_DELETE=Fa,rt.VAR_RENAME=eo,rt.VIEWPORT_CHANGE=El,rt.clearPendingUndo=Q,rt.disable=ee,rt.disableOrphans=jn,rt.enable=Z,rt.filter=Y,rt.fire=ce,rt.fromJson=It,rt.get=we,rt.getDescendantIds=Ke,rt.getGroup=be,rt.getRecordUndo=Ie,rt.isEnabled=_e,rt.setGroup=se,rt.setRecordUndo=Se;var et;(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY"})(et||(et={})),o.module$build$src$core$input_types={},o.module$build$src$core$input_types.inputTypes=et;var On=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t?!0:e&&t?e.width===t.width&&e.height===t.height:!1}},cr,Nn,Ha,Eg;({document:cr,DOMParser:Nn,XMLSerializer:Ha}=globalThis),Eg="https://developers.google.com/blockly/xml",o.module$build$src$core$utils$xml={},o.module$build$src$core$utils$xml.NAME_SPACE=Eg,o.module$build$src$core$utils$xml.createElement=o.createElement$$module$build$src$core$utils$xml,o.module$build$src$core$utils$xml.createTextNode=Gt,o.module$build$src$core$utils$xml.domToText=yr,o.module$build$src$core$utils$xml.getDocument=ao,o.module$build$src$core$utils$xml.injectDependencies=Xn,o.module$build$src$core$utils$xml.setDocument=Rt,o.module$build$src$core$utils$xml.textToDom=it,o.module$build$src$core$utils$xml.textToDomDocument=Fn;var Us="http://www.w3.org/2000/svg",Uo="http://www.w3.org/1999/xhtml",Rr="http://www.w3.org/1999/xlink",xr;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_POSITION_CONTAINED_BY=16]="DOCUMENT_POSITION_CONTAINED_BY"})(xr||(xr={}));var mo=null,Od=0,Nd=null,yn={};yn.HTML_NS=Uo,yn.NodeType=xr,yn.SVG_NS=Us,yn.XLINK_NS=Rr,yn.addClass=ye,yn.containsNode=ks,yn.createSvgElement=J,yn.getFastTextWidth=Ui,yn.getFastTextWidthWithSizeString=na,yn.getTextWidth=bh,yn.hasClass=en,yn.insertAfter=tn,yn.measureFontMetrics=ra,yn.removeClass=Oe,yn.removeClasses=tt,yn.removeNode=st,yn.setCssTransform=Er,yn.startTextWidthCache=rr,yn.stopTextWidthCache=uo;var K0=function(e,t){window.alert(e),t&&t()},J0=function(e,t){t(window.confirm(e))},wg=function(e,t,i){i(window.prompt(e,t))},kg={confirmInternal:yh},Ar={};Ar.TEST_ONLY=kg,Ar.alert=ol,Ar.confirm=oa,Ar.prompt=Eh,Ar.setAlert=$h,Ar.setConfirm=N_,Ar.setPrompt=L_;var Ve,Ld;Ve=Object.create(null),Ld=function(e){Object.keys(e).forEach(function(t){Ve[t]=e[t]})},o.module$build$src$core$msg={},o.module$build$src$core$msg.Msg=Ve,o.module$build$src$core$msg.setLocale=Ld;var _i=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=be(),this.recordUndo=Ie()}toJson(){return{type:this.type,group:this.group}}fromJson(e){l("Blockly.Events.Abstract.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),this.isBlank=!1,this.group=e.group||""}static fromJson(e,t,i){return i.isBlank=!1,i.group=e.group||"",i.workspaceId=t.id,i}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=S(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},kl=class extends _i{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}fromJson(e){l("Blockly.Events.VarBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varId=e.varId}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new kl),t.varId=e.varId,t}},Md=class extends kl{constructor(e){super(e),this.type=bl,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}fromJson(e){l("Blockly.Events.VarCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varType=e.varType,this.varName=e.varName}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Md),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};s(ve.EVENT,bl,Md);var Va=class{constructor(e,t,i,a){this.workspace=e,this.name=t,this.type=i||"",this.id_=a||xe()}getId(){return this.id_}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}},Tl,bc,_o;Tl="VARIABLE",bc="ijkmnopqrstuvwxyzabcdefgh",_o={generateUniqueNameInternal:P_},o.module$build$src$core$variables={},o.module$build$src$core$variables.CATEGORY_NAME=Tl,o.module$build$src$core$variables.TEST_ONLY=_o,o.module$build$src$core$variables.VAR_LETTER_OPTIONS=bc,o.module$build$src$core$variables.allDeveloperVariables=B_,o.module$build$src$core$variables.allUsedVarModels=kh,o.module$build$src$core$variables.createVariableButtonHandler=Ts,o.module$build$src$core$variables.flyoutCategory=Th,o.module$build$src$core$variables.flyoutCategoryBlocks=Ch,o.module$build$src$core$variables.generateUniqueName=sf,o.module$build$src$core$variables.generateUniqueNameFromOptions=Sh,o.module$build$src$core$variables.generateVariableFieldDom=sl,o.module$build$src$core$variables.getAddedVariables=Ih,o.module$build$src$core$variables.getOrCreateVariablePackage=Du,o.module$build$src$core$variables.getVariable=Ou,o.module$build$src$core$variables.nameUsedWithAnyType=af,o.module$build$src$core$variables.nameUsedWithConflictingParam=uf,o.module$build$src$core$variables.promptName=ia,o.module$build$src$core$variables.renameVariable=lf;var ge=class{constructor(e,t){this.x=e,this.y=t}clone(){return new ge(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t?!0:e&&t?e.x===t.x&&e.y===t.y:!1}static distance(e,t){const i=e.x-t.x;return e=e.y-t.y,Math.sqrt(i*i+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new ge(e.x-t.x,e.y-t.y)}static sum(e,t){return new ge(e.x+t.x,e.y+t.y)}},vi=class{constructor(e,t,i,a,p){this.workspace=e,this.editable_=this.movable_=this.deletable_=!0,this.disposed_=!1,this.isComment=!0,this.id=p&&!e.getCommentById(p)?p:xe(),e.addTopComment(this),this.xy_=new ge(0,0),this.height_=i,this.width_=a,this.RTL=e.RTL,this.content_=t,vi.fireCreateEvent(this)}dispose(){this.disposed_||(_e()&&ce(new(we(wl))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)}getHeight(){return this.height_}setHeight(e){this.height_=e}getWidth(){return this.width_}setWidth(e){this.width_=e}getRelativeToSurfaceXY(){return new ge(this.xy_.x,this.xy_.y)}moveBy(e,t){const i=new(we(ss))(this);this.xy_.translate(e,t),i.recordNew(),ce(i)}isDeletable(){return this.deletable_&&!(this.workspace&&this.workspace.options.readOnly)}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!(this.workspace&&this.workspace.options.readOnly)}setMovable(e){this.movable_=e}isEditable(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)}setEditable(e){this.editable_=e}getContent(){return this.content_}setContent(e){this.content_!==e&&(ce(new(we($n))(this,this.content_,e)),this.content_=e)}toXmlWithXY(e){return e=this.toXml(e),e.setAttribute("x",String(Math.round(this.xy_.x))),e.setAttribute("y",String(Math.round(this.xy_.y))),e.setAttribute("h",String(this.height_)),e.setAttribute("w",String(this.width_)),e}toXml(e){const t=o.createElement$$module$build$src$core$utils$xml("comment");return e||(t.id=this.id),t.textContent=this.getContent(),t}static fireCreateEvent(e){if(_e()){const t=be();t||se(!0);try{ce(new(we(is))(e))}finally{se(t)}}}static fromXml(e,t){var i=vi.parseAttributes(e);return t=new vi(t,i.content,i.h,i.w,i.id),i=e.getAttribute("x"),e=e.getAttribute("y"),i=i?parseInt(i,10):NaN,e=e?parseInt(e,10):NaN,isNaN(i)||isNaN(e)||t.moveBy(i,e),vi.fireCreateEvent(t),t}static parseAttributes(e){const t=e.getAttribute("h"),i=e.getAttribute("w"),a=e.getAttribute("x"),p=e.getAttribute("y"),v=e.getAttribute("id");if(!v)throw Error("No ID present in XML comment definition.");let C;return{id:v,h:t?parseInt(t):100,w:i?parseInt(i):100,x:a?parseInt(a):NaN,y:p?parseInt(p):NaN,content:(C=e.textContent)!=null?C:""}}},vo=class extends _i{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},Tg=class extends vo{constructor(e,t,i){super(i),this.type=gi,this.oldElementId=e??void 0,this.newElementId=t??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}fromJson(e){l("Blockly.Events.Selected.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Tg),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};s(ve.EVENT,gi,Tg);var wy=750,q0="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Bd=null,Cl={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},Pd=0,to={};to.TOUCH_ENABLED=q0,to.TOUCH_MAP=Cl,to.checkTouchIdentifier=la,to.clearTouchIdentifier=oi,to.getTouchIdentifierFromEvent=sa,to.isMouseOrTouchEvent=Lu,to.isTouchEvent=V_,to.longStart=hf,to.longStop=ri,to.setClientFromTouch=H_,to.shouldHandleEvent=Nu,to.splitEventByTouches=W_;var Cg,Z0,Q0,ev,$c,yc,Fd,tv,nv,rv;(function(e){function t(a){return i.indexOf(a.toUpperCase())!==-1}Cg=e;const i=Cg.toUpperCase();Z0=t("JavaFX"),Q0=t("WebKit"),ev=t("Gecko")&&!Q0,$c=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,yc=t("iPad")||t("Macintosh")&&0<e,Fd=t("iPhone")&&!yc,tv=t("Macintosh"),nv=yc||$c&&!t("Mobile")||t("Silk"),rv=!nv&&(Fd||$c)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var ov=Cg,iv=Z0,Sg=ev,Gd=$c,Wa=yc,sv=Fd,Ig=tv,Dr=rv,ls={};ls.ANDROID=Gd,ls.GECKO=Sg,ls.IPAD=Wa,ls.IPHONE=sv,ls.JavaFx=iv,ls.MAC=Ig,ls.MOBILE=Dr,ls.raw=ov;var lv=40,av=125,bi={};bi.bind=Yn,bi.conditionalBind=De,bi.getScrollDeltaPixels=Mu,bi.isRightButton=Hi,bi.isTargetInput=aa,bi.mouseToSvg=ll,bi.unbind=_t;var Rg=!1,xg=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyWsDragSurface {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
}

/* Added as a separate rule with multiple classes to make it more specific
   than a bootstrap rule that selects svg:root. See issue #1275 for context.
*/
.blocklyWsDragSurface.blocklyOverflowVisible {
  overflow: visible;
}

.blocklyBlockDragSurface {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 50;  /* Display below toolbox, but above everything else. */
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Change the cursor on the whole drag surface in case the mouse gets
   ahead of block during a drag. This way the cursor is still a closed hand.
  */
.blocklyBlockDragSurface .blocklyDraggable {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyMultilineText {
  font-family: monospace;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text,
.blocklyBlockDragSurface text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}
`,Ag={};Ag.inject=Rh,Ag.register=co;var Yt=class{constructor(e,t,i,a){this.top=e,this.bottom=t,this.left=i,this.right=a}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}},U=class{constructor(e){this.tagName=e}toString(){return this.tagName}};U.ANIMATE=new U("animate"),U.CIRCLE=new U("circle"),U.CLIPPATH=new U("clipPath"),U.DEFS=new U("defs"),U.FECOMPOSITE=new U("feComposite"),U.FECOMPONENTTRANSFER=new U("feComponentTransfer"),U.FEFLOOD=new U("feFlood"),U.FEFUNCA=new U("feFuncA"),U.FEGAUSSIANBLUR=new U("feGaussianBlur"),U.FEPOINTLIGHT=new U("fePointLight"),U.FESPECULARLIGHTING=new U("feSpecularLighting"),U.FILTER=new U("filter"),U.FOREIGNOBJECT=new U("foreignObject"),U.G=new U("g"),U.IMAGE=new U("image"),U.LINE=new U("line"),U.PATH=new U("path"),U.PATTERN=new U("pattern"),U.POLYGON=new U("polygon"),U.RECT=new U("rect"),U.SVG=new U("svg"),U.TEXT=new U("text"),U.TSPAN=new U("tspan");var uv={getSizeInternal:df},$i={};$i.TEST_ONLY=uv,$i.getBorderBox=ff,$i.getCascadedStyle=pf,$i.getComputedStyle=ii,$i.getContainerOffsetToScrollInto=Ah,$i.getPageOffset=xo,$i.getSize=ua,$i.getViewportPageOffset=xh,$i.scrollIntoContainerView=Pu;var cv=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,hv=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,ky={XY_REGEX:cv,XY_STYLE_REGEX:hv},Hs={};Hs.TEST_ONLY=ky,Hs.getDocumentScroll=ha,Hs.getInjectionDivXY=Fu,Hs.getRelativeXY=wr,Hs.getViewportBBox=ca,Hs.is3dSupported=Dh,Hs.screenToWsCoordinates=Cs;var En=8,Ud=3,Ty=2,Jn=class extends vi{constructor(e,t,i,a,p){super(e,t,i,a,p),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.eventsInit_=!1,this.deleteIconBorder_=this.deleteGroup_=this.resizeGroup_=this.foreignObject_=this.svgHandleTarget_=this.svgRectTarget_=this.textarea_=null,this.rendered_=this.autoLayout_=this.focused_=!1,this.svgGroup_=J(U.G,{class:"blocklyComment"}),this.workspace=e,this.svgRect_=J(U.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:Ud,ry:Ud}),this.svgGroup_.appendChild(this.svgRect_),this.useDragSurface_=!!e.getBlockDragSurface(),this.render()}dispose(){this.disposed_||(I()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),_e()&&ce(new(we(wl))(this)),st(this.svgGroup_),this.disposeInternal_(),ee(),super.dispose(),Z())}initSvg(e){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit_||(De(this.svgRectTarget_,"pointerdown",this,this.pathMouseDown_),De(this.svgHandleTarget_,"pointerdown",this,this.pathMouseDown_)),this.eventsInit_=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!e&&this.textarea_&&this.textarea_.select()}pathMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts")}select(){if(I()!==this){var e=null;if(I()){e=I().id,ee();try{I().unselect()}finally{Z()}}e=new(we(gi))(e,this.id,this.workspace.id),ce(e),P(this),this.addSelect()}}unselect(){if(I()===this){var e=new(we(gi))(this.id,null,this.workspace.id);ce(e),P(null),this.removeSelect(),this.blurFocus()}}addSelect(){ye(this.svgGroup_,"blocklySelected"),this.setFocus()}removeSelect(){ye(this.svgGroup_,"blocklySelected"),this.blurFocus()}addFocus(){ye(this.svgGroup_,"blocklyFocused")}removeFocus(){Oe(this.svgGroup_,"blocklyFocused")}getRelativeToSurfaceXY(){let e=0,t=0;const i=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null;let a=this.getSvgRoot();if(a)do{var p=wr(a);e+=p.x,t+=p.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===a&&(p=this.workspace.getBlockDragSurface().getSurfaceTranslation(),e+=p.x,t+=p.y),a=a.parentNode}while(a&&a!==this.workspace.getBubbleCanvas()&&a!==i);return this.xy_=new ge(e,t)}moveBy(e,t){const i=new(we(ss))(this),a=this.getRelativeToSurfaceXY();this.translate(a.x+e,a.y+t),this.xy_=new ge(a.x+e,a.y+t),i.recordNew(),ce(i),this.workspace.resizeContents()}translate(e,t){this.xy_=new ge(e,t),this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}moveToDragSurface(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),this.workspace.getBlockDragSurface().setBlocksAndShow(this.getSvgRoot())}}moveDuringDrag(e,t){e?e.translateSurface(t.x,t.y):(e=`translate(${t.x}, ${t.y})`,this.getSvgRoot().setAttribute("transform",e))}moveTo(e,t){this.translate(e,t)}clearTransformAttributes_(){this.getSvgRoot().removeAttribute("transform")}getBoundingRectangle(){var e=this.getRelativeToSurfaceXY();const t=this.getHeightWidth(),i=e.y,a=e.y+t.height;let p;return this.RTL?(p=e.x-t.width,e=e.x):(p=e.x,e=e.x+t.width),new Yt(i,a,p,e)}updateMovable(){this.isMovable()?ye(this.svgGroup_,"blocklyDraggable"):Oe(this.svgGroup_,"blocklyDraggable")}setMovable(e){super.setMovable(e),this.updateMovable()}setEditable(e){super.setEditable(e),this.textarea_&&(this.textarea_.readOnly=!e)}setDragging(e){e?ye(this.getSvgRoot(),"blocklyDragging"):Oe(this.getSvgRoot(),"blocklyDragging")}getSvgRoot(){return this.svgGroup_}getContent(){return this.textarea_?this.textarea_.value:this.content_}setContent(e){super.setContent(e),this.textarea_&&(this.textarea_.value=e)}setDeleteStyle(e){e?ye(this.svgGroup_,"blocklyDraggingDelete"):Oe(this.svgGroup_,"blocklyDraggingDelete")}setAutoLayout(e){}toXmlWithXY(e){let t=0;this.workspace.RTL&&(t=this.workspace.getWidth()),e=this.toXml(e);const i=this.getRelativeToSurfaceXY();return e.setAttribute("x",String(Math.round(this.workspace.RTL?t-i.x:i.x))),e.setAttribute("y",String(Math.round(i.y))),e.setAttribute("h",String(this.getHeight())),e.setAttribute("w",String(this.getWidth())),e}toCopyData(){return{saveInfo:this.toXmlWithXY(),source:this.workspace,typeCounts:null}}getHeightWidth(){return{width:this.getWidth(),height:this.getHeight()}}render(){if(!this.rendered_){var e=this.getHeightWidth(),t=this.createEditor_();this.svgGroup_.appendChild(t),this.svgHandleTarget_=J(U.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup_.appendChild(this.svgHandleTarget_),this.svgRectTarget_=J(U.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:Ud,ry:Ud}),this.svgGroup_.appendChild(this.svgRectTarget_),this.addResizeDom_(),this.isDeletable()&&this.addDeleteDom_(),this.setSize_(e.width,e.height),this.textarea_.value=this.content_,this.rendered_=!0,this.resizeGroup_&&De(this.resizeGroup_,"pointerdown",this,this.resizeMouseDown_),this.isDeletable()&&(De(this.deleteGroup_,"pointerdown",this,this.deleteMouseDown_),De(this.deleteGroup_,"pointerout",this,this.deleteMouseOut_),De(this.deleteGroup_,"pointerup",this,this.deleteMouseUp_))}}createEditor_(){this.foreignObject_=J(U.FOREIGNOBJECT,{x:0,y:Jn.TOP_OFFSET,class:"blocklyCommentForeignObject"});const e=document.createElementNS(Uo,"body");e.setAttribute("xmlns",Uo),e.className="blocklyMinimalBody";const t=document.createElementNS(Uo,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.RTL?"RTL":"LTR"),t.readOnly=!this.isEditable(),e.appendChild(t),this.textarea_=t,this.foreignObject_.appendChild(e),De(t,"wheel",this,function(i){i.stopPropagation()}),De(t,"change",this,function(i){this.setContent(t.value)}),this.foreignObject_}addResizeDom_(){this.resizeGroup_=J(U.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup_),J(U.POLYGON,{points:`0,${En} ${En},${En} ${En},0`},this.resizeGroup_),J(U.LINE,{class:"blocklyResizeLine",x1:En/3,y1:En-1,x2:En-1,y2:En/3},this.resizeGroup_),J(U.LINE,{class:"blocklyResizeLine",x1:2*En/3,y1:En-1,x2:En-1,y2:2*En/3},this.resizeGroup_)}addDeleteDom_(){this.deleteGroup_=J(U.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup_),this.deleteIconBorder_=J(U.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup_),J(U.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup_),J(U.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup_)}resizeMouseDown_(e){this.unbindDragEvents_(),Hi(e)||(this.workspace.startDrag(e,new ge(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper_=De(document,"pointerup",this,this.resizeMouseUp_),this.onMouseMoveWrapper_=De(document,"pointermove",this,this.resizeMouseMove_),this.workspace.hideChaff()),e.stopPropagation()}deleteMouseDown_(e){this.deleteIconBorder_&&ye(this.deleteIconBorder_,"blocklyDeleteIconHighlighted"),e.stopPropagation()}deleteMouseOut_(e){this.deleteIconBorder_&&Oe(this.deleteIconBorder_,"blocklyDeleteIconHighlighted")}deleteMouseUp_(e){this.dispose(),e.stopPropagation()}unbindDragEvents_(){this.onMouseUpWrapper_&&(_t(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(_t(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}resizeMouseUp_(e){oi(),this.unbindDragEvents_()}resizeMouseMove_(e){this.autoLayout_=!1,e=this.workspace.moveDrag(e),this.setSize_(this.RTL?-e.x:e.x,e.y)}resizeComment_(){const e=this.getHeightWidth(),t=Jn.TOP_OFFSET,i=2*Ty;let a;(a=this.foreignObject_)==null||a.setAttribute("width",String(e.width));let p;if((p=this.foreignObject_)==null||p.setAttribute("height",String(e.height-t)),this.RTL){let v;(v=this.foreignObject_)==null||v.setAttribute("x",String(-e.width))}this.textarea_&&(this.textarea_.style.width=e.width-i+"px",this.textarea_.style.height=e.height-i-t+"px")}setSize_(e,t){e=Math.max(e,45),t=Math.max(t,20+Jn.TOP_OFFSET),this.width_=e,this.height_=t,this.svgRect_.setAttribute("width",`${e}`),this.svgRect_.setAttribute("height",`${t}`);let i;(i=this.svgRectTarget_)==null||i.setAttribute("width",`${e}`);let a;(a=this.svgRectTarget_)==null||a.setAttribute("height",`${t}`);let p;(p=this.svgHandleTarget_)==null||p.setAttribute("width",`${e}`);let v;if((v=this.svgHandleTarget_)==null||v.setAttribute("height",String(Jn.TOP_OFFSET)),this.RTL){this.svgRect_.setAttribute("transform","scale(-1 1)");let C;(C=this.svgRectTarget_)==null||C.setAttribute("transform","scale(-1 1)")}if(this.resizeGroup_)if(this.RTL){this.resizeGroup_.setAttribute("transform","translate("+(-e+En)+","+(t-En)+") scale(-1 1)");let C;(C=this.deleteGroup_)==null||C.setAttribute("transform","translate("+(-e+En)+","+-En+") scale(-1 1)")}else{this.resizeGroup_.setAttribute("transform","translate("+(e-En)+","+(t-En)+")");let C;(C=this.deleteGroup_)==null||C.setAttribute("transform","translate("+(e-En)+","+-En+")")}this.resizeComment_()}disposeInternal_(){this.svgHandleTarget_=this.svgRectTarget_=this.foreignObject_=this.textarea_=null,this.disposed_=!0}setFocus(){this.focused_=!0,setTimeout(()=>{this.disposed_||(this.textarea_.focus(),this.addFocus(),this.svgRectTarget_&&ye(this.svgRectTarget_,"blocklyCommentTargetFocused"),this.svgHandleTarget_&&ye(this.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))},0)}blurFocus(){this.focused_=!1,setTimeout(()=>{this.disposed_||(this.textarea_.blur(),this.removeFocus(),this.svgRectTarget_&&Oe(this.svgRectTarget_,"blocklyCommentTargetFocused"),this.svgHandleTarget_&&Oe(this.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))},0)}static fromXmlRendered(e,t,i){ee();let a;try{const p=vi.parseAttributes(e);if(a=new Jn(t,p.content,p.h,p.w,p.id),t.rendered&&(a.initSvg(!0),a.render()),!isNaN(p.x)&&!isNaN(p.y))if(t.RTL){const v=i||t.getWidth();a.moveBy(v-p.x,p.y)}else a.moveBy(p.x,p.y)}finally{Z()}return vi.fireCreateEvent(a),a}};Jn.DEFAULT_SIZE=100,Jn.TOP_OFFSET=10,co(`
.blocklyCommentForeignObject {
  position: relative;
  z-index: 0;
}

.blocklyCommentRect {
  fill: #E7DE8E;
  stroke: #bcA903;
  stroke-width: 1px;
}

.blocklyCommentTarget {
  fill: transparent;
  stroke: #bcA903;
}

.blocklyCommentTargetFocused {
  fill: none;
}

.blocklyCommentHandleTarget {
  fill: none;
}

.blocklyCommentHandleTargetFocused {
  fill: transparent;
}

.blocklyFocused>.blocklyCommentRect {
  fill: #B9B272;
  stroke: #B9B272;
}

.blocklySelected>.blocklyCommentTarget {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCommentDeleteIcon {
  cursor: pointer;
  fill: #000;
  display: none;
}

.blocklySelected > .blocklyCommentDeleteIcon {
  display: block;
}

.blocklyDeleteIconShape {
  fill: #000;
  stroke: #000;
  stroke-width: 1px;
}

.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {
  stroke: #fc3;
}
`),o.module$build$src$core$xml={},o.module$build$src$core$xml.appendDomToWorkspace=X_,o.module$build$src$core$xml.blockToDom=Vi,o.module$build$src$core$xml.blockToDomWithXY=Gu,o.module$build$src$core$xml.clearWorkspaceAndLoadFromXml=vf,o.module$build$src$core$xml.deleteNext=Q_,o.module$build$src$core$xml.domToBlock=al,o.module$build$src$core$xml.domToPrettyText=z_,o.module$build$src$core$xml.domToText=si,o.module$build$src$core$xml.domToVariables=bf,o.module$build$src$core$xml.domToWorkspace=da,o.module$build$src$core$xml.textToDom=j_,o.module$build$src$core$xml.variablesToDom=Oh,o.module$build$src$core$xml.workspaceToDom=gf;var Ec=class extends Error{},dv=class extends Ec{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},wc=class extends Ec{constructor(e,t,i){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=i}},pv=class extends Ec{constructor(e,t,i,a){super(`The block ${i.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=i,this.childState=a}},fv=class extends Ec{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},za={};za.BadConnectionCheck=pv,za.DeserializationError=Ec,za.MissingBlockType=dv,za.MissingConnection=wc,za.RealChildOfShadow=fv;var gv=100,mv=75,_v=50,Hd={};Hd.BLOCKS=_v,Hd.PROCEDURES=mv,Hd.VARIABLES=gv;var kc={};kc.register=Bh,kc.unregister=e0;var Dg=class{constructor(){this.priority=_v}save(e){const t=[];for(const i of e.getTopBlocks(!1))(e=Ao(i,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const i of e)Wi(i,t,{recordUndo:Ie()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Bh("blocks",new Dg);var Tc={};Tc.BlockSerializer=Dg,Tc.append=Wi,Tc.appendInternal=Uu,Tc.save=Ao;var ja=class extends _i{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}fromJson(e){l("Blockly.Events.BlockBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.blockId=e.blockId}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new ja),t.blockId=e.blockId,t}},Og=class extends ja{constructor(e){super(e),this.type=Dn,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Gu(e),this.ids=Ke(e),this.json=Ao(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=si(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){l("Blockly.Events.BlockCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.xml=it(e.xml),this.ids=e.ids,this.json=e.json,e.recordUndo!==void 0&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Og),t.xml=it(e.xml),t.ids=e.ids,t.json=e.json,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(e)Wi(this.json,t);else for(e=0;e<this.ids.length;e++){const i=this.ids[e],a=t.getBlockById(i);a?a.dispose(!1):i===this.blockId&&console.warn("Can't uncreate non-existent block: "+i)}}};s(ve.EVENT,Dn,Og);var vv=class extends _i{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=Ga,this.isBlank=!!e,e&&(this.workspaceId=e.id)}toJson(){const e=super.toJson();if(!this.workspaceId)throw Error("The workspace ID is undefined. Either pass a workspace to the constructor, or call fromJson");return e.workspaceId=this.workspaceId,e}fromJson(e){super.fromJson(e),this.workspaceId=e.workspaceId}};s(ve.EVENT,Ga,vv);var bv=class extends vo{constructor(e,t,i,a){super(e?e.workspace.id:void 0),this.type=$l,this.blockId=e?e.id:null,this.element=typeof t>"u"?"":t,this.oldValue=typeof i>"u"?"":i,this.newValue=typeof a>"u"?"":a}toJson(){const e=super.toJson();return e.element=this.element,this.newValue!==void 0&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e}fromJson(e){super.fromJson(e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId}};s(ve.EVENT,$l,bv);var Sl=class extends ja{constructor(e,t,i,a,p){super(e),this.type=Rn,e&&(this.element=t,this.name=i||void 0,this.oldValue=a,this.newValue=p)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJson(e){l("Blockly.Events.BlockChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Sl),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");switch(t.mutator&&t.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":t.setEnabled(!e);break;case"inline":t.setInputsInline(!!e);break;case"mutation":const i=Sl.getExtraBlockState_(t);t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(it(e||"<mutation/>")),ce(new Sl(t,"mutation",null,i,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState())?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?si(e):""}};s(ve.EVENT,Rn,Sl);var Ng=class extends ja{constructor(e){if(super(e),this.type=Po,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Gu(e),this.ids=Ke(e),this.wasShadow=e.isShadow(),this.oldJson=Ao(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=si(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){l("Blockly.Events.BlockDelete.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldXml=it(e.oldXml),this.ids=e.ids,this.wasShadow=e.wasShadow||this.oldXml.tagName.toLowerCase()==="shadow",this.oldJson=e.oldJson,e.recordUndo!==void 0&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Ng),t.oldXml=it(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||t.oldXml.tagName.toLowerCase()==="shadow",t.oldJson=e.oldJson,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const i=this.ids[e],a=t.getBlockById(i);a?a.dispose(!1):i===this.blockId&&console.warn("Can't delete non-existent block: "+i)}else Wi(this.oldJson,t)}};s(ve.EVENT,Po,Ng);var Ce;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(Ce||(Ce={})),o.module$build$src$core$connection_type={},o.module$build$src$core$connection_type.ConnectionType=Ce;var gt=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom_=this.check_=null,this.y=this.x=0,this.shadowState_=null,this.sourceBlock_=e}connect_(e){const t=Ce.INPUT_VALUE,i=this.getSourceBlock();var a=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let p;if(this.isConnected()){const C=this.stashShadowState_(),M=this.targetBlock();M.isShadow()?M.dispose(!1):(this.disconnectInternal(),p=M),this.applyShadowState_(C)}let v;_e()&&(v=new(we(Kn))(a)),Vt(this,e),a.setParent(i),v&&(v.recordNew(),ce(v)),p&&(e=this.type===t?p.outputConnection:p.previousConnection)&&((a=gt.getConnectionForOrphanedConnection(a,e))?e.connect(a):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.setShadowStateInternal_();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Ce.INPUT_VALUE||this.type===Ce.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=be();t||se(!0),this.isSuperior()?this.connect_(e):e.connect_(this),se(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:i}=this.getParentAndChildConnections();if(!t||!i)throw Error("Source connection not connected.");const a=be();a||se(!0);let p;_e()&&(p=new(we(Kn))(i.getSourceBlock()));const v=this.targetConnection;v&&(v.targetConnection=null),this.targetConnection=null,e&&i.getSourceBlock().setParent(null),p&&(p.recordNew(),ce(p)),i.getSourceBlock().isShadow()||t.respawnShadow_(),se(a)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock_(!0)}targetBlock(){if(this.isConnected()){let e,t;return(t=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this}getCheck(){return this.check_}setShadowDom(e){this.setShadowStateInternal_({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Vi(this.targetBlock()):this.shadowDom_}setShadowState(e){this.setShadowStateInternal_({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?Ao(this.targetBlock()):this.shadowState_}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let i=0;i<t.length;i++)if(t[i].connection===this){e=t[i];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let i=0,a;a=e.inputList[i];i++)if(a.connection===this){t=a;break}if(t)t='Input "'+t.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()}stashShadowState_(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState_=this.shadowDom_=null,{shadowDom:e,shadowState:t}}applyShadowState_({shadowDom:e,shadowState:t}){this.shadowDom_=e,this.shadowState_=t}setShadowStateInternal_({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom_=e,this.shadowState_=t,(e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.getSourceBlock().isDeadOrDying()||(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock()))):(e=this.createShadowBlock_(!1),this.serializeShadow_(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock()))}createShadowBlock_(e){var t=this.getSourceBlock();const i=this.getShadowState(),a=this.getShadowDom();if(t.isDeadOrDying()||!i&&!a)return null;if(i)return t=Uu(i,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(a){if(t=al(a,t.workspace),e)if(this.type===Ce.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===Ce.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow_(e){e&&(this.shadowDom_=Vi(e),this.shadowState_=Ao(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===Ce.OUTPUT_VALUE)return Vh(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const i=t.getConnectionChecker();return e&&i.canConnect(t,e,!1)?e:null}};gt.CAN_CONNECT=0,gt.REASON_SELF_CONNECTION=1,gt.REASON_WRONG_TYPE=2,gt.REASON_TARGET_NULL=3,gt.REASON_CHECKS_FAILED=4,gt.REASON_DIFFERENT_WORKSPACES=5,gt.REASON_SHADOW_PARENT=6,gt.REASON_DRAG_CHECKS_FAILED=7,gt.REASON_PREVIOUS_AND_OUTPUT=8;var Xa="_TEMP_COLLAPSED_INPUT",Il="_TEMP_COLLAPSED_FIELD",Lg={};Lg.COLLAPSED_FIELD_NAME=Il,Lg.COLLAPSED_INPUT_NAME=Xa;var Vd={};Vd.clamp=ga,Vd.toDegrees=Hu,Vd.toRadians=fa;var Cc=16,Mg=1,$v=12,Bg=16,Wd=.25,Pg=null,Rl=null,Ya="",Ka="",vt,Ja,xl,Fg=null,Vs=null,Gg=null,zd={getBoundsInfo:function(){const e=xo(Fg),t=ua(Fg);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,i,a){const p=zd.getBoundsInfo(),v=ua(vt);return t+v.height<p.bottom?zu(e,t,p,v):a-v.height>p.top?ju(i,a,p,v):t+v.height<document.documentElement.clientHeight?zu(e,t,p,v):a-v.height>document.documentElement.clientTop?ju(i,a,p,v):o0(e,p,v)}},nn={};nn.ANIMATION_TIME=Wd,nn.ARROW_HORIZONTAL_PADDING=$v,nn.ARROW_SIZE=Cc,nn.BORDER_SIZE=Mg,nn.PADDING_Y=Bg,nn.TEST_ONLY=zd,nn.clearContent=Yi,nn.createDom=Cf,nn.getContentDiv=Xi,nn.getOwner=Wh,nn.getPositionX=_a,nn.hide=Rs,nn.hideIfOwner=Is,nn.hideWithoutAnimation=ho,nn.isVisible=or,nn.repositionForWindowResize=i0,nn.setBoundsElement=Sf,nn.setColour=zh,nn.show=Rf,nn.showPositionedByBlock=If,nn.showPositionedByField=ma;var Sc=class{constructor(e){this.workspace=e,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor_}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let t=0,i;i=e[t];t++)this.unregisterMarker(i);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};Sc.LOCAL_MARKER="local_marker_1",o.module$build$src$core$utils$string={},o.module$build$src$core$utils$string.commonWordPrefix=xf,o.module$build$src$core$utils$string.commonWordSuffix=Af,o.module$build$src$core$utils$string.isNumber=li,o.module$build$src$core$utils$string.shortestStringLength=Xu,o.module$build$src$core$utils$string.startsWith=s0,o.module$build$src$core$utils$string.wrap=xs;var jd=void 0,Ic=!1,as=!1,yv=50,Ev=0,Al=0,Ug=0,Hg=0,bo=null,Rc=null,Vg=0,Wg=10,wv=10,kv=750,Dl=5,un=null,Kt={};Kt.HOVER_MS=kv,Kt.LIMIT=yv,Kt.MARGINS=Dl,Kt.OFFSET_X=Vg,Kt.OFFSET_Y=Wg,Kt.RADIUS_OK=wv,Kt.bindMouseEvents=Ju,Kt.block=oe,Kt.createDom=Kh,Kt.dispose=As,Kt.getCustomTooltip=a0,Kt.getDiv=c0,Kt.getTooltipOfObject=Do,Kt.hide=V,Kt.isVisible=u0,Kt.setCustomTooltip=Ku,Kt.unbindMouseEvents=Of,Kt.unblock=te;var Xd=.45,xc=.65,zg={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},Hn={};Hn.blend=ai,Hn.getHsvSaturation=xt,Hn.getHsvValue=Lf,Hn.hexToRgb=Ki,Hn.hsvToHex=ul,Hn.hueToHex=kt,Hn.names=zg,Hn.parse=Oo,Hn.rgbToHex=qu,Hn.setHsvSaturation=Jh,Hn.setHsvValue=Jr;var qa={};qa.checkMessageReferences=Qu,qa.parseBlockColour=cl,qa.replaceMessageReferences=Mt,qa.tokenizeInterpolation=Zu;var Ac=null,Yd=null,Za="",Qa="",Or,Nr={};Nr.createDom=ui,Nr.getDiv=hl,Nr.hide=po,Nr.hideIfOwner=tc,Nr.isVisible=va,Nr.positionWithAnchor=ba,Nr.show=dl,Nr.testOnly_setDiv=ec;var pt=class{constructor(e,t,i){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new On(0,0),e!==pt.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(Mt(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=J(U.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}createBorderRect_(){this.borderRect_=J(U.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=J(U.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");Ju(e),this.mouseDownWrapper_=De(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(pt),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(pt,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=o.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),yr(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(it(t)),!0):!1}dispose(){Is(this),tc(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||st(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(ye(e,"blocklyEditableText"),Oe(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(ye(e,"blocklyNonEditableText"),Oe(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==pt.prototype.showEditor_}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}updateSize_(e){const t=this.getConstants();e=e!==void 0?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let i=2*e,a=t.FIELD_TEXT_HEIGHT,p=0;this.textElement_&&(p=Ui(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY),i+=p),this.borderRect_&&(a=Math.max(a,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=a,this.size_.width=i,this.positionTextElement_(e,p),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var i=this.getConstants(),a=this.size_.height/2,p;this.textElement_.setAttribute("x",String((p=this.getSourceBlock())!=null&&p.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(i.FIELD_TEXT_BASELINE_CENTER?a:a-i.FIELD_TEXT_HEIGHT/2+i.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(this.render_(),this.size_.width!==0&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new On(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new rn;if(this.borderRect_){var i=this.borderRect_.getBoundingClientRect();e=xo(this.borderRect_),t=i.width,i=i.height}else{i=this.sourceBlock_.getHeightWidth();const a=t.workspace.scale;e=this.getAbsoluteXY_(),t=(i.width+1)*a,i=(i.height+1)*a,Sg?(e.x+=1.5*a,e.y+=1.5*a):(e.x-=.5*a,e.y-=.5*a)}return new Yt(e.y,e.y+i,e.x,e.x+t)}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,pt.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):pt.NBSP}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.queueRender(),this.sourceBlock_.bumpNeighbours())}setValue(e){if(e!==null){var t=this.doClassValidation_(e);if(e=this.processValidation_(e,t),!(e instanceof Error)){var i;t=(i=this.getValidator())==null?void 0:i.call(this,e),i=this.processValidation_(e,t),i instanceof Error||(e=this.sourceBlock_,e&&e.disposed||(t=this.getValue(),t===i?this.doValueUpdate_(i):(this.doValueUpdate_(i),e&&_e()&&ce(new(we(Rn))(e,"field",this.name||null,t,i)),this.isDirty_&&this.forceRerender())))}}}processValidation_(e,t){return t===null?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):t===void 0?e:t}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e}getTooltip(){const e=this.getClickTarget_();return Do(e||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return xo(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new rn;const i=t.inputList;for(let a=0;a<t.inputList.length;a++){const p=i[a],v=p.fieldRow;for(let C=0;C<v.length;C++)if(v[C]===this){e=p;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new rn;e=e.workspace,e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(Sc.LOCAL_MARKER).draw()}};pt.NBSP=" ",pt.SKIP_SETUP=Symbol("SKIP_SETUP");var rn=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},Dc;Dc={fromJsonInternal:p0},o.module$build$src$core$field_registry={},o.module$build$src$core$field_registry.TEST_ONLY=Dc,o.module$build$src$core$field_registry.fromJson=Qh,o.module$build$src$core$field_registry.register=Sn,o.module$build$src$core$field_registry.unregister=nc;var Tv="aria-",Cy="role",Lr;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(Lr||(Lr={}));var Ht;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"})(Ht||(Ht={}));var Oc={};Oc.Role=Lr,Oc.State=Ht,Oc.setRole=No,Oc.setState=Ot;var jg=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&No(t,this.roleName),this.element=t;for(let i=0,a;a=this.menuItems[i];i++)t.appendChild(a.createDom());return this.mouseOverHandler=De(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=De(t,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=De(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=De(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=De(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),ye(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),Oe(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(_t(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(_t(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(_t(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(_t(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(_t(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){for(let i=0,a;a=this.menuItems[i];i++)if(a.getElement()===e)return a}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;t&&(t.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement(),Pu(e.getElement(),t),Ot(t,Ht.ACTIVEDESCENDANT,e.getId()))}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){e+=t;let i;for(;i=this.menuItems[e];){if(i.isEnabled()){this.setHighlighted(i);break}e+=t}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const t=this.openingCoords;if(this.openingCoords=null,t&&typeof e.clientX=="number"){const i=new ge(e.clientX,e.clientY);if(1>ge.distance(t,i))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=ua(e);return t.height=e.scrollHeight,t}},Xg=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=ne(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var i=document.createElement("div");i.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(i)}return i=this.content,typeof this.content=="string"&&(i=document.createTextNode(this.content)),t.appendChild(i),e.appendChild(t),this.roleName&&No(e,this.roleName),Ot(e,Ht.SELECTED,this.checkable&&this.checked||!1),Ot(e,Ht.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?(ye(t,"blocklyMenuItemHighlight"),ye(t,"goog-menuitem-highlight")):(Oe(t,"blocklyMenuItemHighlight"),Oe(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},yi=class extends pt{constructor(e,t,i){super(pt.SKIP_SETUP),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions_=null,e!==pt.SKIP_SETUP&&(Array.isArray(e)?(Bf(e),e=rc(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption_=this.getOptions(!1)[0],i&&this.configure_(i),this.setValue(this.selectedOption_[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(yi,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=J(U.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&ye(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow_=J(U.TSPAN,{},this.textElement_);let e;this.arrow_.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?yi.ARROW_CHAR+" ":" "+yi.ARROW_CHAR));let t;(t=this.getSourceBlock())!=null&&t.RTL?this.getTextElement().insertBefore(this.arrow_,this.textContent_):this.getTextElement().appendChild(this.arrow_)}createSVGArrow_(){this.svgArrow_=J(U.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(Rr,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new rn;this.dropdownCreate_(),this.menu_.openingCoords=e&&typeof e.clientX=="number"?new ge(e.clientX,e.clientY):null,Yi(),e=this.menu_.render(Xi()),ye(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(e=t.isShadow()?t.getParent().getColour():t.getColour(),t=t.isShadow()?t.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,zh(e,t)),ma(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&(this.menu_.setHighlighted(this.selectedMenuItem_),Pu(this.selectedMenuItem_.getElement(),Xi(),!0)),this.applyColour()}dropdownCreate_(){const e=this.getSourceBlock();if(!e)throw new rn;const t=new jg;t.setRole(Lr.LISTBOX),this.menu_=t;const i=this.getOptions(!1);this.selectedMenuItem_=null;for(let p=0;p<i.length;p++){const[v,C]=i[p];if(typeof v=="object"){var a=new Image(v.width,v.height);a.src=v.src,a.alt=v.alt||""}else a=v;a=new Xg(a,C),a.setRole(Lr.OPTION),a.setRightToLeft(e.RTL),a.setCheckable(!0),t.addChild(a),a.setChecked(C===this.value_),C===this.value_&&(this.selectedMenuItem_=a),a.onAction(this.handleMenuActionEvent_,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()}handleMenuActionEvent_(e){Is(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions_?this.generatedOptions_:(this.generatedOptions_=this.menuGenerator_(),Bf(this.generatedOptions_),this.generatedOptions_)}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,i;i=e[t];t++)i[1]===this.value_&&(this.selectedOption_=i)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=e.colourSecondary:this.arrow_.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement_.style.display="none";const e=this.selectedOption_&&this.selectedOption_[0];e&&typeof e=="object"?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()}renderSelectedImage_(e){const t=this.getSourceBlock();if(!t)throw new rn;this.imageElement_.style.display="",this.imageElement_.setAttributeNS(Rr,"xlink:href",e.src),this.imageElement_.setAttribute("height",String(e.height)),this.imageElement_.setAttribute("width",String(e.width));const i=Number(e.height);e=Number(e.width);var a=!!this.borderRect_;const p=Math.max(a?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,i+Iy);a=a?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let v;v=this.svgArrow_?this.positionSVGArrow_(e+a,p/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Ui(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+v+2*a,this.size_.height=p;let C=0;t.RTL?this.imageElement_.setAttribute("x",`${a+v}`):(C=e+v,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",`${a}`)),this.imageElement_.setAttribute("y",String(p/2-i/2)),this.positionTextElement_(C+a,e+v)}renderSelectedText_(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();ye(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const i=Ui(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let a=0;this.svgArrow_&&(a=this.positionSVGArrow_(i+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=i+a+2*t,this.size_.height=e,this.positionTextElement_(t,i)}positionSVGArrow_(e,t){if(!this.svgArrow_)return 0;const i=this.getSourceBlock();if(!i)throw new rn;const a=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,p=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,v=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(i.RTL?a:e+p)+","+t+")"),v+p}getText_(){if(!this.selectedOption_)return null;const e=this.selectedOption_[0];return typeof e=="object"?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}};yi.CHECKMARK_OVERHANG=25,yi.MAX_MENU_HEIGHT_VH=.45,yi.ARROW_CHAR="▾";var Sy=5,Iy=2*Sy;Sn("field_dropdown",yi);var Yg=class extends vo{constructor(e,t,i){super(e?e.workspace.id:void 0),this.type=Fe,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=i)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}fromJson(e){l("Blockly.Events.BubbleOpen.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Yg),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}},Kg;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(Kg||(Kg={})),s(ve.EVENT,Fe,Yg);var zt=class{constructor(e,t,i,a,p){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new ge(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new ge(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=i||!1,this.margin=p!==void 0?p:zt.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),a&&(e+=" "+a),this.outerSvg=J(U.SVG,{class:e}),a=J(U.G,{},this.outerSvg),this.svgBackground=J(U.RECT,{class:"blocklyScrollbarBackground"},a),e=Math.floor((zt.scrollbarThickness-5)/2),this.svgHandle=J(U.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},a),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),tn(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=De(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=De(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=zt.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),_t(this.onMouseDownBarWrapper_),_t(this.onMouseDownHandleWrapper_),st(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,Er(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&zt.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=zt.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=zt.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-zt.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var i=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*i,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=i/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=zt.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-zt.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var i=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*i,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=i/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){const t=e!==this.isVisible();if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),oi(),this.cleanUp(),Hi(e))e.stopPropagation();else{var t=ll(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var i=Fu(this.svgHandle);i=this.horizontal?i.x:i.y;var a=this.handlePosition,p=.95*this.handleLength;t<=i?a-=p:t>=i+this.handleLength&&(a+=p),this.setHandlePosition(this.constrainHandlePosition(a)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),Hi(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.workspace.setupDragSurface(),this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=De(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=De(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){this.workspace.resetDragSurface(),oi(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(_t(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(_t(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||t===void 0)&&this.updateMetrics()}setOrigin(e,t){this.origin=new ge(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};zt.scrollbarThickness=q0?25:15,zt.DEFAULT_SCROLLBAR_MARGIN=.5;var Ue=class{constructor(e,t,i,a,p,v){this.resizeGroup=this.bubbleBack=this.bubbleArrow=this.bubbleGroup=null,this.height=this.width=this.relativeTop=this.relativeLeft=0,this.autoLayout=!0,this.onMouseDownResizeWrapper=this.onMouseDownBubbleWrapper=this.moveCallback=this.resizeCallback=null,this.rendered=this.disposed=!1,this.workspace_=e,this.content_=t,this.shape_=i,i=Ue.ARROW_ANGLE,this.workspace_.RTL&&(i=-i),this.arrowRadians=fa(i),e.getBubbleCanvas().appendChild(this.createDom(t,!(!p||!v))),this.setAnchorLocation(a),p&&v||(e=this.content_.getBBox(),p=e.width+2*Ue.BORDER_WIDTH,v=e.height+2*Ue.BORDER_WIDTH),this.setBubbleSize(p,v),this.positionBubble(),this.renderArrow(),this.rendered=!0}createDom(e,t){this.bubbleGroup=J(U.G,{});var i={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return iv&&(i={}),i=J(U.G,i,this.bubbleGroup),this.bubbleArrow=J(U.PATH,{},i),this.bubbleBack=J(U.RECT,{class:"blocklyDraggable",x:0,y:0,rx:Ue.BORDER_WIDTH,ry:Ue.BORDER_WIDTH},i),t?(this.resizeGroup=J(U.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup),t=2*Ue.BORDER_WIDTH,J(U.POLYGON,{points:`0,${t} ${t},${t} ${t},0`},this.resizeGroup),J(U.LINE,{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},this.resizeGroup),J(U.LINE,{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},this.resizeGroup)):this.resizeGroup=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper=De(this.bubbleBack,"pointerdown",this,this.bubbleMouseDown),this.resizeGroup&&(this.onMouseDownResizeWrapper=De(this.resizeGroup,"pointerdown",this,this.resizeMouseDown))),this.bubbleGroup.appendChild(e),this.bubbleGroup}getSvgRoot(){return this.bubbleGroup}setSvgId(e){let t;(t=this.bubbleGroup)==null||t.setAttribute("data-block-id",e)}bubbleMouseDown(e){const t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){}isDeletable(){return!1}setDeleteStyle(e){}resizeMouseDown(e){this.promote(),Ue.unbindDragEvents(),Hi(e)||(this.workspace_.startDrag(e,new ge(this.workspace_.RTL?-this.width:this.width,this.height)),Ue.onMouseUpWrapper=De(document,"pointerup",this,Ue.bubbleMouseUp),Ue.onMouseMoveWrapper=De(document,"pointermove",this,this.resizeMouseMove),this.workspace_.hideChaff()),e.stopPropagation()}resizeMouseMove(e){this.autoLayout=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble()}registerResizeEvent(e){this.resizeCallback=e}registerMoveEvent(e){this.moveCallback=e}promote(){let e;const t=(e=this.bubbleGroup)==null?void 0:e.parentNode;return(t==null?void 0:t.lastChild)!==this.bubbleGroup&&this.bubbleGroup?(t==null||t.appendChild(this.bubbleGroup),!0):!1}setAnchorLocation(e){this.anchorXY=e,this.rendered&&this.positionBubble()}layoutBubble(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),t=this.getOptimalRelativeLeft(e),i=this.getOptimalRelativeTop(e),a=this.shape_.getBBox();const p={x:t,y:-this.height-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},v={x:-this.width-30,y:i};i={x:a.width,y:i};var C={x:t,y:a.height};t=a.width<a.height?i:C,a=a.width<a.height?C:i,i=this.getOverlap(p,e),C=this.getOverlap(v,e);const M=this.getOverlap(t,e);e=this.getOverlap(a,e),e=Math.max(i,C,M,e),i===e?(this.relativeLeft=p.x,this.relativeTop=p.y):C===e?(this.relativeLeft=v.x,this.relativeTop=v.y):M===e?(this.relativeLeft=t.x,this.relativeTop=t.y):(this.relativeLeft=a.x,this.relativeTop=a.y)}getOverlap(e,t){var i=this.workspace_.RTL?this.anchorXY.x-e.x-this.width:e.x+this.anchorXY.x;return e=e.y+this.anchorXY.y,Math.max(0,Math.min(1,(Math.min(i+this.width,t.left+t.width)-Math.max(i,t.left))*(Math.min(e+this.height,t.top+t.height)-Math.max(e,t.top))/(this.width*this.height)))}getOptimalRelativeLeft(e){let t=-this.width/4;if(this.width>e.width)return t;if(this.workspace_.RTL){var i=this.anchorXY.x-t,a=e.left+e.width;e=e.left+zt.scrollbarThickness/this.workspace_.scale,i-this.width<e?t=-(e-this.anchorXY.x+this.width):i>a&&(t=-(a-this.anchorXY.x))}else{i=t+this.anchorXY.x,a=i+this.width;const p=e.left;e=e.left+e.width-zt.scrollbarThickness/this.workspace_.scale,i<p?t=p-this.anchorXY.x:a>e&&(t=e-this.anchorXY.x-this.width)}return t}getOptimalRelativeTop(e){let t=-this.height/4;if(this.height>e.height)return t;const i=this.anchorXY.y+t,a=i+this.height,p=e.top;e=e.top+e.height-zt.scrollbarThickness/this.workspace_.scale;const v=this.anchorXY.y;return i<p?t=p-v:a>e&&(t=e-v-this.height),t}positionBubble(){let e=this.anchorXY.x;e=this.workspace_.RTL?e-(this.relativeLeft+this.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchorXY.y)}moveTo(e,t){let i;(i=this.bubbleGroup)==null||i.setAttribute("transform","translate("+e+","+t+")")}setDragging(e){!e&&this.moveCallback&&this.moveCallback()}getBubbleSize(){return new On(this.width,this.height)}setBubbleSize(e,t){const i=2*Ue.BORDER_WIDTH;e=Math.max(e,i+45),t=Math.max(t,i+20),this.width=e,this.height=t;let a;(a=this.bubbleBack)==null||a.setAttribute("width",`${e}`);let p;(p=this.bubbleBack)==null||p.setAttribute("height",`${t}`),this.resizeGroup&&(this.workspace_.RTL?this.resizeGroup.setAttribute("transform","translate("+2*Ue.BORDER_WIDTH+","+(t-i)+") scale(-1 1)"):this.resizeGroup.setAttribute("transform","translate("+(e-i)+","+(t-i)+")")),this.autoLayout&&this.layoutBubble(),this.positionBubble(),this.renderArrow(),this.resizeCallback&&this.resizeCallback()}renderArrow(){const e=[];var t=this.width/2,i=this.height/2,a=-this.relativeLeft,p=-this.relativeTop;if(t===a&&i===p)e.push("M "+t+","+i);else{p-=i,a-=t,this.workspace_.RTL&&(a*=-1);var v=Math.sqrt(p*p+a*a),C=Math.acos(a/v);0>p&&(C=2*Math.PI-C);var M=C+Math.PI/2;M>2*Math.PI&&(M-=2*Math.PI);var ie=Math.sin(M);const ln=Math.cos(M);var ke=this.getBubbleSize();M=(ke.width+ke.height)/Ue.ARROW_THICKNESS,M=Math.min(M,ke.width,ke.height)/4,ke=1-Ue.ANCHOR_RADIUS/v,a=t+ke*a,p=i+ke*p,ke=t+M*ln;const Eo=i+M*ie;t-=M*ln,i-=M*ie,ie=C+this.arrowRadians,ie>2*Math.PI&&(ie-=2*Math.PI),C=Math.sin(ie)*v/Ue.ARROW_BEND,v=Math.cos(ie)*v/Ue.ARROW_BEND,e.push("M"+ke+","+Eo),e.push("C"+(ke+v)+","+(Eo+C)+" "+a+","+p+" "+a+","+p),e.push("C"+a+","+p+" "+(t+v)+","+(i+C)+" "+t+","+i)}e.push("z");let sn;(sn=this.bubbleArrow)==null||sn.setAttribute("d",e.join(" "))}setColour(e){let t;(t=this.bubbleBack)==null||t.setAttribute("fill",e);let i;(i=this.bubbleArrow)==null||i.setAttribute("fill",e)}dispose(){this.onMouseDownBubbleWrapper&&_t(this.onMouseDownBubbleWrapper),this.onMouseDownResizeWrapper&&_t(this.onMouseDownResizeWrapper),Ue.unbindDragEvents(),st(this.bubbleGroup),this.disposed=!0}moveDuringDrag(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft=this.workspace_.RTL?this.anchorXY.x-t.x-this.width:t.x-this.anchorXY.x,this.relativeTop=t.y-this.anchorXY.y,this.renderArrow()}getRelativeToSurfaceXY(){return new ge(this.workspace_.RTL?-this.relativeLeft+this.anchorXY.x-this.width:this.anchorXY.x+this.relativeLeft,this.anchorXY.y+this.relativeTop)}setAutoLayout(e){this.autoLayout=e}static unbindDragEvents(){Ue.onMouseUpWrapper&&(_t(Ue.onMouseUpWrapper),Ue.onMouseUpWrapper=null),Ue.onMouseMoveWrapper&&(_t(Ue.onMouseMoveWrapper),Ue.onMouseMoveWrapper=null)}static bubbleMouseUp(e){oi(),Ue.unbindDragEvents()}static textToDom(e){const t=J(U.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Ue.BORDER_WIDTH});e=e.split(`
`);for(let i=0;i<e.length;i++){const a=J(U.TSPAN,{dy:"1em",x:Ue.BORDER_WIDTH},t),p=document.createTextNode(e[i]);a.appendChild(p)}return t}static createNonEditableBubble(e,t,i){if(i=new Ue(t.workspace,e,t.pathObject.svgPath,i,null,null),i.setSvgId(t.id),t.RTL){t=e.getBBox().width;for(let a=0,p;p=e.childNodes[a];a++)p.setAttribute("text-anchor","end"),p.setAttribute("x",String(t+Ue.BORDER_WIDTH))}return i}};Ue.BORDER_WIDTH=6,Ue.ARROW_THICKNESS=5,Ue.ARROW_ANGLE=20,Ue.ARROW_BEND=4,Ue.ANCHOR_RADIUS=8,Ue.onMouseUpWrapper=null,Ue.onMouseMoveWrapper=null;var Jg,Cv;Jg=28,o.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:Jg,connectingSnapRadius:Jg,currentConnectionPreference:8,bumpDelay:250},Cv={},Cv.config=o.config$$module$build$src$core$config;var Ei=class{constructor(e){this.iconGroup_=null,this.collapseHidden=!0,this.SIZE=17,this.iconXY_=this.bubble_=null,e||l("Calling the Icon constructor with a null block","version 9","version 10","a non-null block"),this.block_=e}createIcon(){this.iconGroup_||(this.iconGroup_=J(U.G,{class:"blocklyIconGroup"}),this.getBlock().isInFlyout&&ye(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.getBlock().getSvgRoot().appendChild(this.iconGroup_),De(this.iconGroup_,"pointerup",this,this.iconClick_),this.updateEditable())}dispose(){this.getBlock().isDeadOrDying()||st(this.iconGroup_),this.setVisible(!1)}updateEditable(){}isVisible(){return!!this.bubble_}iconClick_(e){this.getBlock().workspace.isDragging()||this.getBlock().isInFlyout||Hi(e)||this.setVisible(!this.isVisible())}applyColour(){this.bubble_&&this.isVisible()&&this.bubble_.setColour(this.getBlock().style.colourPrimary)}setIconLocation(e){this.iconXY_=e,this.bubble_&&this.isVisible()&&this.bubble_.setAnchorLocation(e)}computeIconLocation(){var e=this.getBlock().getRelativeToSurfaceXY();const t=wr(this.iconGroup_);e=new ge(e.x+t.x+this.SIZE/2,e.y+t.y+this.SIZE/2),ge.equals(this.getIconLocation(),e)||this.setIconLocation(e)}getIconLocation(){return this.iconXY_}getCorrectedSize(){return new On(this.SIZE,this.SIZE-2)}drawIcon_(e){}setVisible(e){}getBlock(){if(!this.block_)throw Error("Block is not set for this icon.");return this.block_}},Ze={};Ze.deepMerge=Ji,Ze.inherits=Pf,Ze.mixin=f0,Ze.values=_n;var Ol=class{constructor(e,t,i,a){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=i||Object.create(null),this.componentStyles=a||Object.create(null),this.fontStyle=Object.create(null),s(ve.THEME,e,this)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const i=new Ol(e);let a=t.base;if(a){if(typeof a=="string"){let p;a=(p=b(ve.THEME,a))!=null?p:void 0}a instanceof Ol&&(Ji(i,a),i.name=e)}return Ji(i.blockStyles,t.blockStyles),Ji(i.categoryStyles,t.categoryStyles),Ji(i.componentStyles,t.componentStyles),Ji(i.fontStyle,t.fontStyle),t.startHats!==null&&(i.startHats=t.startHats),i}},Mr={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},cn={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Kd=new Ol("classic",Mr,cn),wi="categoryToolbox",Sv="flyoutToolbox",Xe;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Xe||(Xe={}));var Iv={hasCategoriesInternal:m0},Ws={};Ws.Position=Xe,Ws.TEST_ONLY=Iv,Ws.convertFlyoutDefToJsonArray=oc,Ws.convertToolboxDefToJson=vn,Ws.hasCategories=ic,Ws.isCategoryCollapsible=ya,Ws.parseToolboxTree=pl;var Ho=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,i=!1;var a=!1,p=!1,v=!1,C=!1,M=!1;const ie=!!e.readOnly;if(!ie){var ke;t=vn((ke=e.toolbox)!=null?ke:null),i=ic(t),a=e.trashcan,a=a===void 0?i:a,p=e.collapse,p=p===void 0?i:p,v=e.comments,v=v===void 0?i:v,C=e.disable,C=C===void 0?i:C,M=e.sounds,M=M===void 0?!0:M}ke=e.maxTrashcanContents,a?ke===void 0&&(ke=32):ke=0;const sn=!!e.rtl;let ln=e.horizontalLayout;ln===void 0&&(ln=!1);var Eo=e.toolboxPosition!=="end";Eo=ln?Eo?Xe.TOP:Xe.BOTTOM:Eo===sn?Xe.RIGHT:Xe.LEFT;let gp=e.css;gp===void 0&&(gp=!0);let mp="https://blockly-demo.appspot.com/static/media/";e.media?mp=e.media.endsWith("/")?e.media:e.media+"/":"path"in e&&(l("path","Nov 2014","Jul 2023","media"),mp=e.path+"media/");const CT=e.oneBasedIndex,cO=e.renderer||"geras",hO=e.plugins||{};let By=e.modalInputs;By===void 0&&(By=!0),this.RTL=sn,this.oneBasedIndex=CT===void 0?!0:CT,this.collapse=p,this.comments=v,this.disable=C,this.readOnly=ie,this.maxBlocks=e.maxBlocks||1/0;let ST;this.maxInstances=(ST=e.maxInstances)!=null?ST:null,this.modalInputs=By,this.pathToMedia=mp,this.hasCategories=i,this.moveOptions=Ho.parseMoveOptions_(e,i),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=a,this.maxTrashcanContents=ke,this.hasSounds=M,this.hasCss=gp,this.horizontalLayout=ln,this.languageTree=t,this.gridOptions=Ho.parseGridOptions_(e),this.zoomOptions=Ho.parseZoomOptions_(e),this.toolboxPosition=Eo,this.theme=Ho.parseThemeOptions_(e),this.renderer=cO;let IT;this.rendererOverrides=(IT=e.rendererOverrides)!=null?IT:null;let RT;this.parentWorkspace=(RT=e.parentWorkspace)!=null?RT:null,this.plugins=hO}static parseMoveOptions_(e,t){const i=e.move||{},a={};return i.scrollbars===void 0&&e.scrollbars===void 0?a.scrollbars=t:typeof i.scrollbars=="object"?(a.scrollbars={horizontal:!!i.scrollbars.horizontal,vertical:!!i.scrollbars.vertical},a.scrollbars.horizontal&&a.scrollbars.vertical?a.scrollbars=!0:a.scrollbars.horizontal||a.scrollbars.vertical||(a.scrollbars=!1)):a.scrollbars=!!i.scrollbars||!!e.scrollbars,a.wheel=a.scrollbars&&i.wheel!==void 0?!!i.wheel:typeof a.scrollbars=="object",a.drag=a.scrollbars?i.drag===void 0?!0:!!i.drag:!1,a}static parseZoomOptions_(e){e=e.zoom||{};const t={};return t.controls=e.controls===void 0?!1:!!e.controls,t.wheel=e.wheel===void 0?!1:!!e.wheel,t.startScale=e.startScale===void 0?1:Number(e.startScale),t.maxScale=e.maxScale===void 0?3:Number(e.maxScale),t.minScale=e.minScale===void 0?.3:Number(e.minScale),t.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),t.pinch=e.pinch===void 0?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions_(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=e.length===void 0?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions_(e){return e=e.theme||Kd,typeof e=="string"?b(ve.THEME,e):e instanceof Ol?e:Ol.defineTheme(e.name||"builtin"+ne(),e)}},Jd;o.Mutator$$module$build$src$core$mutator=class extends Ei{constructor(e,t){t||l("Calling the Mutator constructor without passing the block it is attached to","version 9","version 10","the constructor by passing the list of subblocks and the block instance to attach the mutator to"),super(t??null),this.workspace_=null,this.workspaceHeight=this.workspaceWidth=0,this.updateWorkspacePid=this.sourceListener=this.rootBlock=this.svgDialog=null,this.quarkNames=e}setBlock(e){this.block_=e}getWorkspace(){return this.workspace_}drawIcon_(e){J(U.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),J(U.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),J(U.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)}iconClick_(e){this.getBlock().isEditable()&&super.iconClick_(e)}createEditor(){if(this.svgDialog=J(U.SVG,{x:Ue.BORDER_WIDTH,y:Ue.BORDER_WIDTH}),this.quarkNames.length){var e=o.createElement$$module$build$src$core$utils$xml("xml");for(let a=0,p;p=this.quarkNames[a];a++){var t=o.createElement$$module$build$src$core$utils$xml("block");t.setAttribute("type",p),e.appendChild(t)}}else e=null;var i=this.getBlock();return t=new Ho({disable:!1,parentWorkspace:i.workspace,media:i.workspace.options.pathToMedia,rtl:i.RTL,horizontalLayout:!1,renderer:i.workspace.options.renderer,rendererOverrides:i.workspace.options.rendererOverrides}),t.toolboxPosition=i.RTL?Xe.RIGHT:Xe.LEFT,(i=!!e)&&(t.languageTree=vn(e)),this.workspace_=this.newWorkspaceSvg(t),this.workspace_.internalIsMutator=!0,this.workspace_.addChangeListener(jn),e=i?this.workspace_.addFlyout(U.G):null,t=this.workspace_.createDom("blocklyMutatorBackground"),e&&t.insertBefore(e,this.workspace_.svgBlockCanvas_),this.svgDialog.appendChild(t),this.svgDialog}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}updateEditable(){super.updateEditable(),this.getBlock().isInFlyout||(this.getBlock().isEditable()?this.iconGroup_&&Oe(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&ye(this.iconGroup_,"blocklyIconGroupReadonly")))}resizeBubble(){if(this.workspace_){var e=2*Ue.BORDER_WIDTH,t=this.workspace_.getCanvas(),i=t.getBBox(),a=i.width+i.x,p=i.height+3*e,v=this.workspace_.getFlyout();if(v){const C=v.getWorkspace().getMetricsManager().getScrollMetrics();p=Math.max(p,C.height+20),a+=v.getWidth()}(v=this.getBlock().RTL)&&(a=-i.x),a+=3*e,(Math.abs(this.workspaceWidth-a)>e||Math.abs(this.workspaceHeight-p)>e)&&(this.workspaceWidth=a,this.workspaceHeight=p,this.bubble_.setBubbleSize(a+e,p+e),this.svgDialog.setAttribute("width",`${a}`),this.svgDialog.setAttribute("height",`${p}`),this.workspace_.setCachedParentSvgSize(a,p)),v&&t.setAttribute("transform",`translate(${this.workspaceWidth}, 0)`),this.workspace_.resize()}}onBubbleMove(){this.workspace_&&this.workspace_.recordDragTargets()}setVisible(e){if(e!==this.isVisible()){var t=this.getBlock();if(e){this.bubble_=new Ue(t.workspace,this.createEditor(),t.pathObject.svgPath,this.iconXY_,null,null);var i=this.workspace_;this.bubble_.setSvgId(t.id),this.bubble_.registerMoveEvent(this.onBubbleMove.bind(this));var a=i.options.languageTree;const p=i.getFlyout();a&&(p.init(i),p.show(a)),this.rootBlock=t.decompose(i),a=this.rootBlock.getDescendants(!1);for(let C=0,M;M=a[C];C++)M.render();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let v;if(p?(a=2*p.CORNER_RADIUS,v=this.rootBlock.RTL?p.getWidth()+a:a):v=a=16,t.RTL&&(v=-v),this.rootBlock.moveBy(v,a),t.saveConnections){const C=this.rootBlock;t.saveConnections(C),this.sourceListener=()=>{const M=this.getBlock();M.saveConnections&&M.saveConnections(C)},t.workspace.addChangeListener(this.sourceListener)}this.resizeBubble(),a=this.workspaceChanged.bind(this),i.addChangeListener(a),p&&p.getWorkspace().addChangeListener(a),this.updateWorkspace(),this.applyColour()}else this.svgDialog=null,this.workspace_.dispose(),this.rootBlock=this.workspace_=null,(i=this.bubble_)==null||i.dispose(),this.bubble_=null,this.workspaceHeight=this.workspaceWidth=0,this.sourceListener&&(t.workspace.removeChangeListener(this.sourceListener),this.sourceListener=null);ce(new(we(Fe))(t,e,"mutator"))}}workspaceChanged(e){this.shouldIgnoreMutatorEvent_(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.updateWorkspace()},0))}shouldIgnoreMutatorEvent_(e){return e.isUiEvent||e.type===Dn||e.type===Rn&&e.element==="disabled"}updateWorkspace(){if(!this.workspace_.isDragging()){var e=this.workspace_.getTopBlocks(!1);for(let a=0,p;p=e[a];a++){var t=p.getRelativeToSurfaceXY();if(20>t.y&&p.moveBy(0,20-t.y),p.RTL){var i=-20;const v=this.workspace_.getFlyout();v&&(i-=v.getWidth()),t.x>i&&p.moveBy(i-t.x,0)}else 20>t.x&&p.moveBy(20-t.x,0)}}if(this.rootBlock&&this.rootBlock.workspace===this.workspace_){(e=be())||se(!0);const a=this.getBlock();if(t=Sl.getExtraBlockState_(a),a.compose(this.rootBlock),i=Sl.getExtraBlockState_(a),t!==i){ce(new(we(Rn))(a,"mutation",null,t,i));const p=be();setTimeout(function(){const v=be();se(p),a.bumpNeighbours(),se(v)},o.config$$module$build$src$core$config.bumpDelay)}this.workspace_.isDragging()||setTimeout(()=>this.resizeBubble(),0),se(e)}}dispose(){this.getBlock().mutator=null,super.dispose()}updateBlockStyle(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){const t=e.getAllBlocks(!1);for(let i=0,a;a=t[i];i++)a.setStyle(a.getStyleName());if(e=e.getFlyout()){e=e.getWorkspace().getAllBlocks(!1);for(let i=0,a;a=e[i];i++)a.setStyle(a.getStyleName())}}}static reconnect(e,t,i){if(!e||!e.getSourceBlock().workspace)return!1;i=t.getInput(i).connection;const a=e.targetBlock();return a&&a!==t||!i||i.targetConnection===e?!1:(i.isConnected()&&i.disconnect(),i.connect(e),!0)}static findParentWs(e){let t=null;if(e&&e.options){const i=e.options.parentWorkspace;e.isFlyout?i&&i.options&&(t=i.options.parentWorkspace):i&&(t=i)}return t}},Jd={},Jd.Mutator=o.Mutator$$module$build$src$core$mutator;var eu=Object.create(null),us={allExtensions:eu};o.register$$module$build$src$core$extensions("parent_tooltip_when_inline",qr),o.module$build$src$core$extensions={},o.module$build$src$core$extensions.TEST_ONLY=us,o.module$build$src$core$extensions.apply=td,o.module$build$src$core$extensions.buildTooltipForDropdown=o.buildTooltipForDropdown$$module$build$src$core$extensions,o.module$build$src$core$extensions.buildTooltipWithFieldText=o.buildTooltipWithFieldText$$module$build$src$core$extensions,o.module$build$src$core$extensions.isRegistered=Os,o.module$build$src$core$extensions.register=o.register$$module$build$src$core$extensions,o.module$build$src$core$extensions.registerMixin=ka,o.module$build$src$core$extensions.registerMutator=o.registerMutator$$module$build$src$core$extensions,o.module$build$src$core$extensions.runAfterPageLoad=ci,o.module$build$src$core$extensions.unregister=sc;var cs=class extends pt{constructor(e,t,i){super(pt.SKIP_SETUP),this.class_=null,this.EDITABLE=!1,e!==pt.SKIP_SETUP&&(i?this.configure_(i):this.class_=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class_=e.class)}initView(){this.createTextElement_(),this.class_&&ye(this.getTextElement(),this.class_)}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class_&&Oe(this.textElement_,this.class_),e&&ye(this.textElement_,e)),this.class_=e}static fromJson(e){return new this(Mt(e.text),void 0,e)}};Sn("field_label",cs),cs.prototype.DEFAULT_VALUE="";var hs=class{constructor(e,t,i,a){if(this.type=e,this.name=t,this.connection=a,this.fieldRow=[],this.align=o.Align$$module$build$src$core$input.LEFT,this.visible=!0,e!==et.DUMMY&&!t)throw Error("Value inputs and statement inputs must have non-empty name.");this.sourceBlock=i}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,i){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||t===""&&i)&&(typeof t=="string"&&(t=Qh({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&(t.init(),t.applyColour()),t.name=i,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours())),e}removeField(e,t){for(let i=0,a;a=this.fieldRow[i];i++)if(a.name===e)return a.dispose(),this.fieldRow.splice(i,1),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let a=0,p;p=this.fieldRow[a];a++)p.setVisible(e);if(this.connection){var i=this.connection;e?t=i.startTrackingAll():i.stopTrackingAll(),(i=i.targetBlock())&&(i.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){if(this.sourceBlock.workspace.rendered)for(let e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}},Wt;(function(e){e=e.Align||(e.Align={}),e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(hs||(hs={})),o.Align$$module$build$src$core$input=hs.Align,Wt={},Wt.Align=o.Align$$module$build$src$core$input,Wt.Input=hs;var Jt={};Jt.removeElem=je;var Nl=class{constructor(e,t,i){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.disposing=!1,this.comment=null,this.isInsertionMarker_=!1,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,this.workspace=e,this.id=i&&!e.getBlockById(i)?i:xe(),e.setBlockById(this.id,this),this.commentModel={text:null,pinned:!1,size:new On(160,80)},this.xy_=new ge(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,i=ur[t],!i||typeof i!="object")throw TypeError("Invalid block definition for type: "+t);Object.assign(this,i)}e.addTopBlock(this),e.addTypedBlock(this),new.target===Nl&&this.doInit_()}doInit_(){const e=be();e||se(!0);const t=Ie();try{typeof this.init=="function"&&(Se(!1),this.init(),Se(t)),_e()&&ce(new(we(Dn))(this))}finally{se(e),Se(t)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),_e()&&ce(new(we(Po))(this)),this.workspace.removeTopBlock(this),this.disposeInternal())}disposeInternal(){if(!this.isDeadOrDying()){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),ee();try{this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0,this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose())}finally{Z(),typeof this.destroy=="function"&&this.destroy(),this.disposed=!0}}}isDeadOrDying(){return this.disposing||this.disposed}initModel(){for(let e=0,t;t=this.inputList[e];e++)for(let i=0,a;a=t.fieldRow[i];i++)a.initModel&&a.initModel()}unplug(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}unplugFromRow_(e){let t=null,i;(i=this.outputConnection)!=null&&i.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e==null||e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e==null||e.onFailedConnect(t))}getOnlyValueConnection_(){let e=null;for(let t=0;t<this.inputList.length;t++){const i=this.inputList[t].connection;if(i&&i.type===Ce.INPUT_VALUE&&i.targetConnection){if(e)return null;e=i}}return e}unplugFromStack_(e){let t=null;var i;if((i=this.previousConnection)!=null&&i.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),i=this.getNextBlock(),e&&i&&!i.isShadow()){let a,p;e=(p=(a=this.nextConnection)==null?void 0:a.targetConnection)!=null?p:null,e==null||e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,i;i=this.inputList[t];t++)i.connection&&e.push(i.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const i=t.targetBlock();if(!i||e&&i.isShadow())return t;t=i.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,i;i=this.inputList[t];t++)if(i.connection&&i.connection.targetBlock()===e)return i;return null}getSurroundParent(){let e=this,t;do if(t=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===t);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getFirstStatementConnection(){for(let e=0,t;t=this.inputList[e];e++)if(t.connection&&t.connection.type===Ce.NEXT_STATEMENT)return t.connection;return null}getRootBlock(){let e,t=this;do e=t,t=e.parentBlock_;while(t);return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let i=0,a;a=this.inputList[i];i++)if(a.connection){var t=a.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),i=!!t;if(i&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!i&&e)throw Error("Block not connected to new parent.");if(i&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?je(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],i=this.getChildren(e);for(let a,p=0;a=i[p];p++)t.push(...a.getDescendants(e));return t}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable_}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable_}setMovable(e){this.movable_=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(K(this,!0)):!0}isShadow(){return this.isShadow_}setShadow(e){this.isShadow_=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable_}setEditable(e){this.editable_=e;for(let t=0,i;i=this.inputList[t];t++)for(let a=0,p;p=i.fieldRow[a];a++)p.updateEditable()}isDisposed(){return this.disposed}getMatchingConnection(e,t){const i=this.getConnections_(!0);if(e=e.getConnections_(!0),i.length!==e.length)throw Error("Connection lists did not match in length.");for(let a=0;a<e.length;a++)if(e[a]===t)return i[a];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return Do(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(e){e=cl(e),this.hue_=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(let t=0,i;i=this.inputList[t];t++)for(let a=0,p;p=i.fieldRow[a];a++)if(p.name===e)return p;return null}getVars(){const e=[];for(let t=0,i;i=this.inputList[t];t++)for(let a=0,p;p=i.fieldRow[a];a++)p.referencesVariables()&&e.push(p.getValue());return e}getVarModels(){const e=[];for(let t=0,i;i=this.inputList[t];t++)for(let a=0,p;p=i.fieldRow[a];a++)if(p.referencesVariables()){const v=this.workspace.getVariableById(p.getValue());v&&e.push(v)}return e}updateVarName(e){for(let t=0,i;i=this.inputList[t];t++)for(let a=0,p;p=i.fieldRow[a];a++)p.referencesVariables()&&e.getId()===p.getValue()&&p.refreshVariableName()}renameVarById(e,t){for(let i=0,a;a=this.inputList[i];i++)for(let p=0,v;v=a.fieldRow[p];p++)v.referencesVariables()&&e===v.getValue()&&v.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const i=this.getField(t);if(!i)throw Error('Field "'+t+'" not found.');i.setValue(e)}setPreviousStatement(e,t){if(e)t===void 0&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Ce.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)t===void 0&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Ce.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)t===void 0&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Ce.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(ce(new(we(Rn))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type===et.DUMMY&&this.inputList[e].type===et.DUMMY)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type===et.VALUE&&this.inputList[e].type===et.DUMMY)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return!this.disabled}setEnabled(e){if(this.isEnabled()!==e){const t=this.disabled;this.disabled=!e,ce(new(we(Rn))(this,"disabled",null,t,!e))}}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(ce(new(we(Rn))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let a=2;a<t.length;a++)t[a-2]==="("&&t[a]===")"&&(t[a-2]=t[a-1],t.splice(a-1,2));let i="";return t=t.reduce((a,p)=>(a=a+(i==="("||p===")"?"":" ")+p,i=p[p.length-1],a),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const a of this.inputList)if(a.name!=Xa){for(const p of a.fieldRow)t.push(p.getText());if(a.connection){const p=a.connection.targetBlock();if(p){var i=a.connection;let v=i.getCheck();!v&&i.targetConnection&&(v=i.targetConnection.getCheck()),(i=!!v&&(v.indexOf("Boolean")!==-1||v.indexOf("Number")!==-1))&&t.push("("),t.push(...p.toTokens(e)),i&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput_(et.VALUE,e)}appendStatementInput(e){return this.appendInput_(et.STATEMENT,e)}appendDummyInput(e){return this.appendInput_(et.DUMMY,e||"")}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,t):this.jsonInitColour_(e,t);for(var i=0;e["message"+i]!==void 0;)this.interpolate_(e["message"+i],e["args"+i]||[],e["lastDummyAlign"+i],t),i++;if(e.inputsInline!==void 0&&this.setInputsInline(e.inputsInline),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(i=Mt(e.tooltip),this.setTooltip(i)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(i=Mt(e.helpUrl),this.setHelpUrl(i)),typeof e.extensions=="string"&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&td(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)td(e[t],this,!1)}jsonInitColour_(e,t){if("colour"in e)if(e.colour===void 0)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle_(e,t){e=e.style;try{this.setStyle(e)}catch{console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(t!==void 0&&typeof t!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const i in e)this[i]!==void 0&&t.push(i);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate_(e,t,i,a){e=Zu(e),this.validateTokens_(e,t.length),t=this.interpolateArguments_(e,t,i),i=[];for(let p=0,v;v=t[p];p++)if(this.isInputKeyword_(v.type)){if(e=this.inputFromJson_(v,a)){for(let C=0,M;M=i[C];C++)e.appendField(M[0],M[1]);i.length=0}}else(e=this.fieldFromJson_(v))&&i.push([e,v.name])}validateTokens_(e,t){const i=[];let a=0;for(let p=0;p<e.length;p++){const v=e[p];if(typeof v=="number"){if(1>v||v>t)throw Error('Block "'+this.type+'": Message index %'+v+" out of range.");if(i[v])throw Error('Block "'+this.type+'": Message index %'+v+" duplicated.");i[v]=!0,a++}}if(a!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments_(e,t,i){const a=[];for(let p=0;p<e.length;p++){let v=e[p];typeof v=="number"&&(v=t[v-1]),!(typeof v=="string"&&(v=this.stringToFieldJson_(v),!v))&&a.push(v)}return(e=a.length)&&!this.isInputKeyword_(a[e-1].type)&&(e={type:"input_dummy"},i&&(e.align=i),a.push(e)),a}fieldFromJson_(e){const t=Qh(e);return!t&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):t}inputFromJson_(e,t){var i={LEFT:o.Align$$module$build$src$core$input.LEFT,RIGHT:o.Align$$module$build$src$core$input.RIGHT,CENTRE:o.Align$$module$build$src$core$input.CENTRE,CENTER:o.Align$$module$build$src$core$input.CENTRE};let a=null;switch(e.type){case"input_value":a=this.appendValueInput(e.name);break;case"input_statement":a=this.appendStatementInput(e.name);break;case"input_dummy":a=this.appendDummyInput(e.name)}return a?(e.check&&a.setCheck(e.check),e.align&&(i=i[e.align.toUpperCase()],i===void 0?console.warn(t+"Illegal align value: ",e.align):a.setAlign(i)),a):null}isInputKeyword_(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"}stringToFieldJson_(e){return(e=e.trim())?{type:"field_label",text:e}:null}appendInput_(e,t){let i=null;return(e===et.VALUE||e===et.STATEMENT)&&(i=this.makeConnection_(e)),e===et.STATEMENT&&this.statementInputCount++,e=new hs(e,t,this,i),this.inputList.push(e),e}moveInputBefore(e,t){if(e!==t){var i=-1,a=t?-1:this.inputList.length;for(let p=0,v;v=this.inputList[p];p++)if(v.name===e){if(i=p,a!==-1)break}else if(t&&v.name===t&&(a=p,i!==-1))break;if(i===-1)throw Error('Named input "'+e+'" not found.');if(a===-1)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(i,a)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const i=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,i)}removeInput(e,t){for(let i=0,a;a=this.inputList[i];i++)if(a.name===e)return a.type===et.STATEMENT&&this.statementInputCount--,a.dispose(),this.inputList.splice(i,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,i;i=this.inputList[t];t++)if(i.name===e)return i;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){return this.commentModel.text}setCommentText(e){this.commentModel.text!==e&&(ce(new(we(Rn))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)}setWarningText(e,t){}setMutator(e){}getRelativeToSurfaceXY(){return this.xy_}moveBy(e,t){if(this.parentBlock_)throw Error("Block has parent.");const i=new(we(Kn))(this);this.xy_.translate(e,t),i.recordNew(),ce(i)}makeConnection_(e){return new gt(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let i=0,a;a=this.inputList[i];i++)if(a.connection){var t=a.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return(t=this.getNextBlock())?t.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};Nl.COLLAPSED_INPUT_NAME=Xa,Nl.COLLAPSED_FIELD_NAME=Il;var Nc=null,Lc=null,Mc={};Mc.connectionUiEffect=Hf,Mc.disconnectUiEffect=Vf,Mc.disconnectUiStop=Ta,Mc.disposeUiEffect=Gf;var Rv=class{constructor(e){this.container=e,this.scale=1,this.surfaceXY=new ge(0,0),this.childSurfaceXY=new ge(0,0),this.svg=J(U.SVG,{xmlns:Us,"xmlns:html":Uo,"xmlns:xlink":Rr,version:"1.1",class:"blocklyBlockDragSurface"},this.container),this.dragGroup=J(U.G,{},this.svg)}createDom(){l("BlockDragSurfaceSvg createDom","June 2022","June 2023")}setBlocksAndShow(e){if(this.dragGroup.childNodes.length)throw Error("Already dragging a block.");this.dragGroup.appendChild(e),this.svg.style.display="block",this.surfaceXY=new ge(0,0)}translateAndScaleGroup(e,t,i){this.scale=i,e=Math.round(e),t=Math.round(t),this.childSurfaceXY.x=e,this.childSurfaceXY.y=t,this.dragGroup.setAttribute("transform","translate("+e+","+t+") scale("+i+")")}translateSurfaceInternal_(){const e=Math.round(this.surfaceXY.x),t=Math.round(this.surfaceXY.y);this.svg.style.display="block",Er(this.svg,"translate3d("+e+"px, "+t+"px, 0)")}translateBy(e,t){this.surfaceXY=new ge(this.surfaceXY.x+e,this.surfaceXY.y+t),this.translateSurfaceInternal_()}translateSurface(e,t){this.surfaceXY=new ge(e*this.scale,t*this.scale),this.translateSurfaceInternal_()}getSurfaceTranslation(){const e=wr(this.svg);return new ge(e.x/this.scale,e.y/this.scale)}getGroup(){return this.dragGroup}getSvgRoot(){return this.svg}getCurrentBlock(){return this.dragGroup.firstChild}getWsTranslation(){return this.childSurfaceXY.clone()}clearAndHide(e){const t=this.getCurrentBlock();if(t&&(e?e.appendChild(t):this.dragGroup.removeChild(t)),this.svg.style.display="none",this.dragGroup.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY=new ge(0,0)}},qg=class extends vo{constructor(e,t,i){super(e?e.workspace.id:void 0),this.type=Fs,e&&(this.blockId=e.id,this.isStart=t,this.blocks=i)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}fromJson(e){l("Blockly.Events.BlockDrag.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new qg),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};s(ve.EVENT,Fs,qg);var qd={};qd.bumpIntoBounds=uc,qd.bumpIntoBoundsHandler=zf,qd.bumpTopObjectsIntoBounds=nd;var ki=class{constructor(e){this.name_=e}toString(){return this.name_}};ki.POSITIONABLE=new ki("positionable"),ki.DRAG_TARGET=new ki("drag_target"),ki.DELETE_AREA=new ki("delete_area"),ki.AUTOHIDEABLE=new ki("autohideable");var on=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const i=e.component.id;if(!t&&this.componentData.has(i)){var a;throw Error('Plugin "'+i+'" with capabilities "'+((a=this.componentData.get(i))==null?void 0:a.capabilities)+'" already added.')}for(this.componentData.set(i,e),t=[],a=0;a<e.capabilities.length;a++){const p=String(e.capabilities[a]).toLowerCase();if(t.push(p),this.capabilityToComponentIds.has(p)){let v;(v=this.capabilityToComponentIds.get(p))==null||v.push(i)}else this.capabilityToComponentIds.set(p,[i])}this.componentData.get(i).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let i=0;i<t.capabilities.length;i++){const a=String(t.capabilities[i]).toLowerCase();je(this.capabilityToComponentIds.get(a),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{t=`${t}`.toLowerCase();var i;(i=this.componentData.get(e))==null||i.capabilities.push(t);var a;(a=this.capabilityToComponentIds.get(t))==null||a.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),je(this.componentData.get(e).capabilities,t),je(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+`doesn't have capability "`+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.indexOf(t)!==-1}getComponent(e){let t;return(t=this.componentData.get(e))==null?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const i=[];if(t){const a=[];e.forEach(p=>{a.push(this.componentData.get(p))}),a.sort(function(p,v){return p.weight-v.weight}),a.forEach(function(p){i.push(p.component)})}else e.forEach(a=>{i.push(this.componentData.get(a).component)});return i}};on.Capability=ki;var Zd="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",no=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,P(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){ee(),this.hidePreview(),Z();var{local:e,closest:t}=this.activeCandidate;if(e.connect(t),this.topBlock.rendered){const i=e.isSuperior()?t:e,a=this.topBlock.getRootBlock();requestAnimationFrame(()=>{Hf(i.getSourceBlock()),setTimeout(()=>{a.bringToFront()},0)})}}}update(e,t){const i=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!i,t))||this.shouldUpdatePreviews(i,e))&&(ee(),this.maybeHidePreview(i),this.maybeShowPreview(i),Z())}createMarkerBlock(e){var t=e.type;ee();let i;try{if(i=this.workspace.newBlock(t),i.setInsertionMarker(!0),e.saveExtraState){var a=e.saveExtraState();a&&i.loadExtraState&&i.loadExtraState(a)}else if(e.mutationToDom){const p=e.mutationToDom();p&&i.domToMutation&&i.domToMutation(p)}for(t=0;t<e.inputList.length;t++){const p=e.inputList[t];if(p.name===Xa)continue;const v=i.inputList[t];if(!v)throw Error(Zd.replace("%1","an input"));for(a=0;a<p.fieldRow.length;a++){const C=p.fieldRow[a],M=v.fieldRow[a];if(!M)throw Error(Zd.replace("%1","a field"));M.setValue(C.getValue())}}i.setCollapsed(e.isCollapsed()),i.setInputsInline(e.getInputsInline()),i.initSvg(),i.getSvgRoot().setAttribute("visibility","hidden")}finally{Z()}return i}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);return t&&t!==this.topBlock.nextConnection&&(e.push(t),this.lastOnStack=t),e}shouldUpdatePreviews(e,t){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:i,closest:a}=this.activeCandidate;if(a===e.closest&&i===e.local)return!1;const p=i.x+t.x-a.x;return t=i.y+t.y-a.y,e.radius<Math.sqrt(p*p+t*t)-o.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),i=null;for(let a=0;a<this.availableConnections.length;a++){const p=this.availableConnections[a],v=p.closest(t,e);v.connection&&(i={closest:v.connection,local:p,radius:v.radius},t=v.radius)}return i}getStartRadius(){return this.activeCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return t&&this.workspace.getComponentManager().hasCapability(t.id,on.Capability.DELETE_AREA)?t.wouldDelete(this.topBlock,e):!1}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t=e.closest,i;t===((i=this.activeCandidate)==null?void 0:i.closest)||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case no.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case no.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case no.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(!e)this.hidePreview();else if(this.activeCandidate){const t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const t=(e=this.activeCandidate)==null?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:t,closest:i}=e;let a=(e=this.lastOnStack&&t===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!a)throw Error("Cannot show the insertion marker because there is no insertion marker block");let p;try{p=a.getMatchingConnection(t.getSourceBlock(),t)}catch{if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),a=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),a=this.firstMarker=this.createMarkerBlock(this.topBlock)),!a)throw Error("Cannot show the insertion marker because there is no insertion marker block");p=a.getMatchingConnection(t.getSourceBlock(),t)}if(!p)throw Error("Cannot show the insertion marker because there is no associated connection");if(p===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");a.render(),a.rendered=!0,a.getSvgRoot().setAttribute("visibility","visible"),p&&i&&a.positionNearConnection(p,i),i&&p.connect(i),this.markerConnection=p}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,t=e.getSourceBlock(),i=t.outputConnection,a;if((a=t.previousConnection)!=null&&a.targetConnection||i!=null&&i.targetConnection)t.unplug(!0);else{let p;(p=e.targetBlock())==null||p.unplug(!1)}if(e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=t.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){ee();try{e.dispose()}finally{Z()}}}};(function(e){e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}),e[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(no||(no={})),no.PREVIEW_TYPE;var Zg=class{constructor(e,t){this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.draggingBlock_=e,this.draggedConnectionManager_=new no(this.draggingBlock_),this.workspace_=t,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=$0(e)}dispose(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()}startDrag(e,t){be()||se(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),rr(),this.workspace_.setResizesEnabled(!1),Ta(),this.shouldDisconnect_(t)&&this.disconnectBlock_(t,e),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()}shouldDisconnect_(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())}disconnectBlock_(e,t){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(t),e=ge.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),Vf(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()}fireDragStartEvent_(){const e=new(we(Fs))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));ce(e)}drag(e,t){t=this.pixelsToWorkspaceUnits_(t);var i=ge.sum(this.startXY_,t);this.draggingBlock_.moveDuringDrag(i),this.dragIcons_(t),i=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),this.draggedConnectionManager_.update(t,this.dragTarget_),e=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock,e!==this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==i&&(i&&i.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)}endDrag(e,t){this.drag(e,t),this.dragIconData_=[],this.fireDragEndEvent_(),uo(),Ta(),e=null,this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)?t=this.startXY_:(t=this.getNewLocationAfterDrag_(t),e=t.delta,t=t.newLocation),this.draggingBlock_.moveOffDragSurface(t),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),e?this.updateBlockAfterMove_():uc(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),se(!1)}getNewLocationAfterDrag_(e){e=this.pixelsToWorkspaceUnits_(e);const t=ge.sum(this.startXY_,e);return{delta:e,newLocation:t}}maybeDeleteBlock_(){return this.wouldDeleteBlock_?(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),fi.length=0,!0):!1}updateBlockAfterMove_(){this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.queueRender(),this.draggingBlock_.scheduleSnapAndBump()}fireDragEndEvent_(){const e=new(we(Fs))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));ce(e)}updateToolboxStyle_(e){const t=this.workspace_.getToolbox();if(t){const i=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&typeof t.removeStyle=="function"?t.removeStyle(i):e||typeof t.addStyle!="function"||t.addStyle(i)}}fireMoveEvent_(){if(!this.draggingBlock_.isDeadOrDying()){var e=new(we(Kn))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),ce(e)}}updateCursorDuringBlockDrag_(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)}pixelsToWorkspaceUnits_(e){return e=new ge(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e}dragIcons_(e){for(let t=0;t<this.dragIconData_.length;t++){const i=this.dragIconData_[t];i.icon.setIconLocation(ge.sum(i.location,e))}}getInsertionMarkers(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]}};s(ve.BLOCK_DRAGGER,Qr,Zg);var Bc=class extends Ei{constructor(e){super(e),this.cachedText="",this.boundEvents=[],this.paragraphElement_=this.textarea_=this.foreignObject=null,this.model=e.commentModel;let t;this.model.text=(t=this.model.text)!=null?t:"",this.createIcon()}drawIcon_(e){J(U.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),J(U.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),J(U.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)}createEditor(){this.foreignObject=J(U.FOREIGNOBJECT,{x:Ue.BORDER_WIDTH,y:Ue.BORDER_WIDTH});const e=document.createElementNS(Uo,"body");e.setAttribute("xmlns",Uo),e.className="blocklyMinimalBody";const t=this.textarea_=document.createElementNS(Uo,"textarea");t.className="blocklyCommentTextarea",t.setAttribute("dir",this.getBlock().RTL?"RTL":"LTR");let i;return t.value=(i=this.model.text)!=null?i:"",this.resizeTextarea(),e.appendChild(t),this.foreignObject.appendChild(e),this.boundEvents.push(De(t,"focus",this,this.startEdit,!0)),this.boundEvents.push(De(t,"wheel",this,function(a){a.stopPropagation()})),this.boundEvents.push(De(t,"change",this,function(a){this.cachedText!==this.model.text&&ce(new(we(Rn))(this.getBlock(),"comment",null,this.cachedText,this.model.text))})),this.boundEvents.push(De(t,"input",this,function(a){this.model.text=t.value})),setTimeout(t.focus.bind(t),0),this.foreignObject}updateEditable(){super.updateEditable(),this.isVisible()&&(this.disposeBubble(),this.createBubble())}onBubbleResize(){this.isVisible()&&this.bubble_&&(this.model.size=this.bubble_.getBubbleSize(),this.resizeTextarea())}resizeTextarea(){if(this.textarea_&&this.foreignObject){var e=this.model.size,t=2*Ue.BORDER_WIDTH,i=e.width-t;e=e.height-t,this.foreignObject.setAttribute("width",`${i}`),this.foreignObject.setAttribute("height",`${e}`),this.textarea_.style.width=i-4+"px",this.textarea_.style.height=e-4+"px"}}setVisible(e){e!==this.isVisible()&&(ce(new(we(Fe))(this.getBlock(),e,"comment")),(this.model.pinned=e)?this.createBubble():this.disposeBubble())}createBubble(){this.getBlock().isEditable()?this.createEditableBubble():this.createNonEditableBubble()}createEditableBubble(){const e=this.getBlock();this.bubble_=new Ue(e.workspace,this.createEditor(),e.pathObject.svgPath,this.iconXY_,this.model.size.width,this.model.size.height),this.bubble_.setSvgId(e.id),this.bubble_.registerResizeEvent(this.onBubbleResize.bind(this)),this.applyColour()}createNonEditableBubble(){let e;this.paragraphElement_=Ue.textToDom((e=this.model.text)!=null?e:""),this.bubble_=Ue.createNonEditableBubble(this.paragraphElement_,this.getBlock(),this.iconXY_),this.applyColour()}disposeBubble(){for(const e of this.boundEvents)_t(e);this.boundEvents.length=0,this.bubble_&&(this.bubble_.dispose(),this.bubble_=null),this.paragraphElement_=this.foreignObject=this.textarea_=null}startEdit(e){let t;(t=this.bubble_)!=null&&t.promote()&&this.textarea_.focus(),this.cachedText=this.model.text}getBubbleSize(){return this.model.size}setBubbleSize(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model.size.width=e,this.model.size.height=t)}updateText(){if(this.textarea_){let e;this.textarea_.value=(e=this.model.text)!=null?e:""}else this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model.text)}dispose(){this.getBlock().comment=null,super.dispose()}};co(`
.blocklyCommentTextarea {
  background-color: #fef49c;
  border: 0;
  display: block;
  margin: 0;
  outline: 0;
  padding: 3px;
  resize: none;
  text-overflow: hidden;
}
`);var hn=null,zs={duplicateInternal:E0,copyInternal:y0},Pc={};Pc.TEST_ONLY=zs,Pc.copy=Ca,Pc.duplicate=Zr,Pc.paste=rd;var Fc,Qg,Gc;Fc=null,Qg={},Gc=null,o.module$build$src$core$contextmenu={},o.module$build$src$core$contextmenu.callbackFactory=S0,o.module$build$src$core$contextmenu.commentDeleteOption=Yf,o.module$build$src$core$contextmenu.commentDuplicateOption=Kf,o.module$build$src$core$contextmenu.dispose=Xf,o.module$build$src$core$contextmenu.getCurrentBlock=w0,o.module$build$src$core$contextmenu.hide=ir,o.module$build$src$core$contextmenu.setCurrentBlock=jf,o.module$build$src$core$contextmenu.show=cc,o.module$build$src$core$contextmenu.workspaceCommentOption=I0;var bt=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}unregister(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}getItem(e){let t;return(t=this.registry_.get(e))!=null?t:null}getContextMenuOptions(e,t){const i=[];for(const p of this.registry_.values())if(e===p.scopeType){var a=p.preconditionFn(t);a!=="hidden"&&(a={text:typeof p.displayText=="function"?p.displayText(t):p.displayText,enabled:a==="enabled",callback:p.callback,scope:t,weight:p.weight},i.push(a))}return i.sort(function(p,v){return p.weight-v.weight}),i}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",e.registry=new e})(bt||(bt={})),bt.ScopeType;var em=30,Ti=!0,Qe=[];Qe[Ce.INPUT_VALUE]=Ce.OUTPUT_VALUE,Qe[Ce.OUTPUT_VALUE]=Ce.INPUT_VALUE,Qe[Ce.NEXT_STATEMENT]=Ce.PREVIOUS_STATEMENT,Qe[Ce.PREVIOUS_STATEMENT]=Ce.NEXT_STATEMENT;var Qd="RENAME_VARIABLE_ID",Br="DELETE_VARIABLE_ID",ue=class{constructor(e,t,i){if(this.wsCoordinate_=null,!t)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=ue.isConnectionType_(e),this.location_=t,this.processParams_(i||null)}processParams_(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)}getLocation(){return this.location_}getType(){return this.type_}getWsCoordinate(){return this.wsCoordinate_}isConnection(){return this.isConnection_}findNextForInput_(){var e=this.location_.getParentInput();const t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){const i=t.inputList[e],a=i.fieldRow;for(let p=0;p<a.length;p++){const v=a[p];if(v.isClickable()||ue.NAVIGATE_ALL_FIELDS)return ue.createFieldNode(v)}if(i.connection)return ue.createInputNode(i)}return null}findNextForField_(){var e=this.location_,t=e.getParentInput();const i=e.getSourceBlock();if(!i)throw Error("The current AST location is not associated with a block");var a=i.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;a<i.inputList.length;a++){t=i.inputList[a];const p=t.fieldRow;for(;e<p.length;){if(p[e].isClickable()||ue.NAVIGATE_ALL_FIELDS)return ue.createFieldNode(p[e]);e++}if(e=0,t.connection)return ue.createInputNode(t)}return null}findPrevForInput_(){const e=this.location_.getParentInput(),t=e.getSourceBlock();for(var i=t.inputList.indexOf(e);0<=i;i--){var a=t.inputList[i];if(a.connection&&a!==e)return ue.createInputNode(a);a=a.fieldRow;for(let p=a.length-1;0<=p;p--){const v=a[p];if(v.isClickable()||ue.NAVIGATE_ALL_FIELDS)return ue.createFieldNode(v)}}return null}findPrevForField_(){var e=this.location_;const t=e.getParentInput(),i=e.getSourceBlock();if(!i)throw Error("The current AST location is not associated with a block");var a=i.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=a;a--){var p=i.inputList[a];if(p.connection&&p!==t)return ue.createInputNode(p);for(p=p.fieldRow;-1<e;){if(p[e].isClickable()||ue.NAVIGATE_ALL_FIELDS)return ue.createFieldNode(p[e]);e--}0<=a-1&&(e=i.inputList[a-1].fieldRow.length-1)}return null}navigateBetweenStacks_(e){var t=this.getLocation();if(t.getSourceBlock){var i=t.getSourceBlock();i&&(t=i)}if(!t||t.isDeadOrDying())return null;i=t.getRootBlock(),t=i.workspace.getTopBlocks(!0);for(let a=0;a<t.length;a++)if(i.id===t[a].id)return e=a+(e?1:-1),e===-1||e===t.length?null:ue.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}findTopASTNodeForBlock_(e){const t=Sa(e);return t?ue.createConnectionNode(t):ue.createBlockNode(e)}getOutAstNodeForBlock_(e){if(!e)return null;e=e.getTopStackBlock();const t=Sa(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?ue.createInputNode(t.targetConnection.getParentInput()):ue.createStackNode(e)}findFirstFieldOrInput_(e){e=e.inputList;for(let t=0;t<e.length;t++){const i=e[t],a=i.fieldRow;for(let p=0;p<a.length;p++){const v=a[p];if(v.isClickable()||ue.NAVIGATE_ALL_FIELDS)return ue.createFieldNode(v)}if(i.connection)return ue.createInputNode(i)}return null}getSourceBlock(){return this.getType()===ue.types.BLOCK?this.getLocation():this.getType()===ue.types.STACK?this.getLocation():this.getType()===ue.types.WORKSPACE?null:this.getLocation().getSourceBlock()}next(){switch(this.type_){case ue.types.STACK:return this.navigateBetweenStacks_(!0);case ue.types.OUTPUT:return ue.createBlockNode(this.location_.getSourceBlock());case ue.types.FIELD:return this.findNextForField_();case ue.types.INPUT:return this.findNextForInput_();case ue.types.BLOCK:const e=this.location_.nextConnection;if(!e)break;return ue.createConnectionNode(e);case ue.types.PREVIOUS:return ue.createBlockNode(this.location_.getSourceBlock());case ue.types.NEXT:return ue.createConnectionNode(this.location_.targetConnection)}return null}in(){switch(this.type_){case ue.types.WORKSPACE:const e=this.location_.getTopBlocks(!0);if(0<e.length)return ue.createStackNode(e[0]);break;case ue.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case ue.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case ue.types.INPUT:return ue.createConnectionNode(this.location_.targetConnection)}return null}prev(){switch(this.type_){case ue.types.STACK:return this.navigateBetweenStacks_(!1);case ue.types.FIELD:return this.findPrevForField_();case ue.types.INPUT:return this.findPrevForInput_();case ue.types.BLOCK:var e=Sa(this.location_);if(!e)break;return ue.createConnectionNode(e);case ue.types.PREVIOUS:if((e=this.location_.targetConnection)&&!e.getParentInput())return ue.createConnectionNode(e);break;case ue.types.NEXT:return ue.createBlockNode(this.location_.getSourceBlock())}return null}out(){switch(this.type_){case ue.types.STACK:var e=this.location_,t=e.getRelativeToSurfaceXY();return t=new ge(t.x,t.y+ue.DEFAULT_OFFSET_Y),ue.createWorkspaceNode(e.workspace,t);case ue.types.OUTPUT:return e=this.location_,(t=e.targetConnection)?ue.createConnectionNode(t):ue.createStackNode(e.getSourceBlock());case ue.types.FIELD:if(e=this.location_.getSourceBlock(),!e)throw Error("The current AST location is not associated with a block");return ue.createBlockNode(e);case ue.types.INPUT:return ue.createBlockNode(this.location_.getSourceBlock());case ue.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case ue.types.PREVIOUS:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock());case ue.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null}static isConnectionType_(e){switch(e){case ue.types.PREVIOUS:case ue.types.NEXT:case ue.types.INPUT:case ue.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new ue(ue.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const t=e.type;return t===Ce.INPUT_VALUE||t===Ce.NEXT_STATEMENT&&e.getParentInput()?ue.createInputNode(e.getParentInput()):t===Ce.NEXT_STATEMENT?new ue(ue.types.NEXT,e):t===Ce.OUTPUT_VALUE?new ue(ue.types.OUTPUT,e):t===Ce.PREVIOUS_STATEMENT?new ue(ue.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new ue(ue.types.INPUT,e.connection):null}static createBlockNode(e){return e?new ue(ue.types.BLOCK,e):null}static createStackNode(e){return e?new ue(ue.types.STACK,e):null}static createWorkspaceNode(e,t){return t&&e?new ue(ue.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){const t=Sa(e);return t?ue.createConnectionNode(t):ue.createBlockNode(e)}};ue.NAVIGATE_ALL_FIELDS=!1,ue.DEFAULT_OFFSET_Y=-20,function(e){e=e.types||(e.types={}),e.FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace"}(ue||(ue={}));var xv=class{constructor(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"}setDrawer(e){this.drawer_=e}getDrawer(){return this.drawer_}getCurNode(){return this.curNode_}setCurNode(e){const t=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(t,this.curNode_)}draw(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)}hide(){this.drawer_&&this.drawer_.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},Tt=class extends xv{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===ue.types.NEXT||e.getType()===ue.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;(e.getType()===ue.types.PREVIOUS||e.getType()===ue.types.OUTPUT)&&(e=e.next());let t,i;return(e=(i=(t=e)==null?void 0:t.in())!=null?i:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===ue.types.NEXT||e.getType()===ue.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===ue.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};s(ve.CURSOR,Qr,Tt);var Uc=class extends Tt{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;const i=e.in()||e.next();return t(i)?i:i?this.getNextNode_(i,t):(e=this.findSiblingOrParent_(e.out()),t(e)?e:e?this.getNextNode_(e,t):null)}getPreviousNode_(e,t){if(!e)return null;let i=e.prev();return i=i?this.getRightMostChild_(i):e.out(),t(i)?i:i?this.getPreviousNode_(i,t):null}validNode_(e){let t=!1;return e=e&&e.getType(),(e===ue.types.OUTPUT||e===ue.types.INPUT||e===ue.types.FIELD||e===ue.types.NEXT||e===ue.types.PREVIOUS||e===ue.types.WORKSPACE)&&(t=!0),t}findSiblingOrParent_(e){if(!e)return null;const t=e.next();return t||this.findSiblingOrParent_(e.out())}getRightMostChild_(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild_(e)}};Uc.registrationName="basicCursor",s(ve.CURSOR,Uc.registrationName,Uc);var tm=class extends Uc{validNode_(e){let t=!1;const i=e&&e.getType();return e&&(e=e.getLocation(),i===ue.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},$o={};$o.arc=Xt,$o.curve=Tr,$o.line=Zi,$o.lineOnAxis=Te,$o.lineTo=Cr,$o.moveBy=Nt,$o.moveTo=Gn,$o.point=Le;var nm=10,hr=class extends gt{constructor(e,t){super(e,t),this.targetConnection=this.highlightPath=null,this.db_=e.workspace.connectionDBList[t],this.dbOpposite_=e.workspace.connectionDBList[Qe[t]],this.offsetInBlock_=new ge(0,0),this.trackedState_=hr.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState_===hr.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e){if(!this.sourceBlock_.workspace.isDragging()){var t=this.sourceBlock_.getRootBlock();if(!t.isInFlyout){var i=!1;if(!t.isMovable()){if(t=e.getSourceBlock().getRootBlock(),!t.isMovable())return;e=this,i=!0}var a=I()==t;a||t.addSelect();var p=e.x+o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*nm)-this.x,v=e.y+o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*nm)-this.y;i&&(v=-v),t.RTL&&(p=e.x-o.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*nm)-this.x),t.moveBy(p,v),a||t.removeSelect()}}}moveTo(e,t){let i=!1;return this.trackedState_===hr.TrackedState.WILL_TRACK?(this.db_.addConnection(this,t),this.trackedState_=hr.TrackedState.TRACKED,i=!0):this.trackedState_===hr.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,t),i=!0),this.x=e,this.y=t,i}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)}setOffsetInBlock(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t}getOffsetInBlock(){return this.offsetInBlock_}tighten(){const e=this.targetConnection.x-this.x,t=this.targetConnection.y-this.y;if(e!==0||t!==0){const a=this.targetBlock();var i=a.getSvgRoot();if(!i)throw Error("block is not rendered.");i=wr(i),a.translate(i.x-e,i.y-t),a.moveConnections(-e,-t)}}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=ge.difference(this.offsetInBlock_,e.offsetInBlock_),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite_.searchForClosest(this,e,t)}highlight(){if(!this.highlightPath){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),t=e.shapeFor(this);this.type===Ce.INPUT_VALUE||this.type===Ce.OUTPUT_VALUE?(e=e.TAB_OFFSET_FROM_TOP,t=Nt(0,-e)+Te("v",e)+t.pathDown+Te("v",e)):(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS,t=Nt(-e,0)+Te("h",e)+t.pathLeft+Te("h",e)),e=this.offsetInBlock_,this.highlightPath=J(U.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:`translate(${e.x}, ${e.y})`+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())}}unhighlight(){this.highlightPath&&(st(this.highlightPath),this.highlightPath=null)}setTracking(e){e&&this.trackedState_===hr.TrackedState.TRACKED||!e&&this.trackedState_===hr.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=hr.TrackedState.TRACKED):(this.trackedState_===hr.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=hr.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const i=this.targetBlock().getDescendants(!1);for(let a=0;a<i.length;a++){var e=i[a],t=e.getConnections_(!0);for(let p=0;p<t.length;p++)t[p].setTracking(!1);for(e=e.getIcons(),t=0;t<e.length;t++)e[t].setVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==Ce.INPUT_VALUE&&this.type!==Ce.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let i;t.isCollapsed()?(i=[],t.outputConnection&&i.push(t.outputConnection),t.nextConnection&&i.push(t.nextConnection),t.previousConnection&&i.push(t.previousConnection)):i=t.getConnections_(!0);for(let a=0;a<i.length;a++)e.push(...i[a].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(Ie()){const i=be();setTimeout(function(){t.isDisposed()||t.getParent()||(se(i),this.bumpAwayFrom(e),se(!1))}.bind(this),o.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:i}=this.getParentAndChildConnections();if(t&&i){var a=t.getSourceBlock(),p=i.getSourceBlock();super.disconnectInternal(e),a.rendered&&a.queueRender(),p.rendered&&(p.updateDisabled(),p.queueRender(),p.getSvgRoot().style.display="block")}}respawnShadow_(){super.respawnShadow_();var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),e=this.getSourceBlock(),e.rendered&&e.queueRender())}neighbours(e){return this.dbOpposite_.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock();const i=t.rendered,a=e.rendered;i&&t.updateDisabled(),a&&e.updateDisabled(),i&&a&&(this.type===Ce.NEXT_STATEMENT||this.type===Ce.PREVIOUS_STATEMENT?e.queueRender():t.queueRender()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(hr||(hr={})),hr.TrackedState;var Av=class extends Ei{constructor(e){super(e),this.paragraphElement=null,this.collapseHidden=!1,this.createIcon(),this.text=Object.create(null)}drawIcon_(e){J(U.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),J(U.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),J(U.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)}setVisible(e){e!==this.isVisible()&&(ce(new(we(Fe))(this.getBlock(),e,"warning")),e?this.createBubble():this.disposeBubble())}createBubble(){this.paragraphElement=Ue.textToDom(this.getText()),this.bubble_=Ue.createNonEditableBubble(this.paragraphElement,this.getBlock(),this.iconXY_),this.applyColour()}disposeBubble(){this.bubble_&&(this.bubble_.dispose(),this.bubble_=null),this.paragraphElement=null}setText(e,t){this.text[t]!==e&&(e?this.text[t]=e:delete this.text[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))}getText(){const e=[];for(const t in this.text)e.push(this.text[t]);return e.join(`
`)}dispose(){this.getBlock().warning=null,super.dispose()}},ep=new Set,tp=new WeakSet,rm=0,yo=class extends Nl{constructor(e,t,i){super(e,t,i),this.renderingDebugger=null,this.width=this.height=0,this.warningTextDb=new Map,this.warning=this.commentIcon_=this.mutator=null,this.eventsInit_=this.renderIsInProgress_=this.visuallyDisabled=this.rendered=!1,this.translation="",this.bumpNeighboursPid=0,this.relativeCoords=new ge(0,0),this.workspace=e,this.svgGroup_=J(U.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.useDragSurface_=!!e.getBlockDragSurface(),e=this.pathObject.svgPath,e.tooltip=this,Ju(e),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(let t=0,i;i=this.inputList[t];t++)i.init();var e=this.getIcons();for(let t=0;t<e.length;t++)e[t].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||De(e,"pointerdown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(I()!==this){var e=null;if(I()){e=I().id,ee();try{I().unselect()}finally{Z()}}e=new(we(gi))(e,this.id,this.workspace.id),ce(e),P(this),this.addSelect()}}unselect(){if(I()===this){var e=new(we(gi))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,ce(e),P(null),this.removeSelect()}}getIcons(){const e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e}setParent(e){const t=this.parentBlock_;if(e!==t){rr(),super.setParent(e),uo();var i=this.getSvgRoot();if(!this.workspace.isClearing&&i){var a=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(i):t&&(this.workspace.getCanvas().appendChild(i),this.translate(a.x,a.y)),this.applyColour()}}}getRelativeToSurfaceXY(){let e=0,t=0;const i=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null;let a=this.getSvgRoot();if(a)do{var p=wr(a);e+=p.x,t+=p.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===a&&(p=this.workspace.getBlockDragSurface().getSurfaceTranslation(),e+=p.x,t+=p.y),a=a.parentNode}while(a&&a!==this.workspace.getCanvas()&&a!==i);return new ge(e,t)}moveBy(e,t){if(this.parentBlock_)throw Error("Block has parent.");const i=_e();let a=null;i&&(a=new(we(Kn))(this));const p=this.getRelativeToSurfaceXY();this.translate(p.x+e,p.y+t),this.moveConnections(e,t),i&&a&&(a.recordNew(),ce(a)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new ge(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveToDragSurface(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}}moveTo(e){const t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)}moveOffDragSurface(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))}moveDuringDrag(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()))}clearTransformAttributes_(){this.getSvgRoot().removeAttribute("transform")}snapToGrid(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),i=t/2,a=this.getRelativeToSurfaceXY();e=Math.round(Math.round((a.x-i)/t)*t+i-a.x),t=Math.round(Math.round((a.y-i)/t)*t+i-a.y),(e||t)&&this.moveBy(e,t)}}}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth();let i,a;return this.RTL?(i=e.x-t.width,a=e.x):(i=e.x,a=e.x+t.width),new Yt(e.y,e.y+t.height,i,a)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed_())}updateCollapsed_(){var e=this.isCollapsed();const t=Xa,i=Il;for(let p=0,v;v=this.inputList[p];p++)v.name!==t&&v.setVisible(!e);if(e){e=this.getIcons();for(let p=0,v;v=e[p];p++)v.setVisible(!1);e=this.toString(em);var a=this.getField(i);a?a.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new cs(e),i)}else this.updateDisabled(),this.removeInput(t)}tab(e,t){const i=new tm;i.setCurNode(ue.createFieldNode(e)),e=i.getCurNode(),t?i.next():i.prev(),(t=i.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=bt.registry.getContextMenuOptions(bt.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const t=this.generateContextMenu();t&&t.length&&(cc(e,t,this.RTL),jf(this))}moveConnections(e,t){if(this.rendered){for(var i=this.getConnections_(!1),a=0;a<i.length;a++)i[a].moveBy(e,t);for(i=this.getIcons(),a=0;a<i.length;a++)i[a].computeIconLocation();for(i=0;i<this.childBlocks_.length;i++)this.childBlocks_[i].moveConnections(e,t)}}setDragging(e){e?(this.translation="",fi.push(...this.getConnections_(!0)),ye(this.svgGroup_,"blocklyDragging")):(fi.length=0,Oe(this.svgGroup_,"blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(e,t){this.isDeadOrDying()||(As(),ir(),t&&this.rendered&&(this.unplug(e),Gf(this)),super.dispose(!!e),st(this.svgGroup_))}disposeInternal(){this.isDeadOrDying()||(super.disposeInternal(),this.rendered=!1,I()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose()))}checkAndDelete(){this.workspace.isFlyout||(se(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),se(!1))}toCopyData(){return this.isInsertionMarker_?null:{saveInfo:Ao(this,{addCoordinates:!0,addNextBlocks:!1}),source:this.workspace,typeCounts:K(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let t=0,i;i=this.inputList[t];t++)for(let a=0,p;p=i.fieldRow[a];a++)p.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled!==e){this.applyColour(),this.visuallyDisabled=e;for(const t of this.getChildren(!1))t.updateDisabled()}}getCommentIcon(){return this.commentIcon_}setCommentText(e){this.commentModel.text!==e&&(super.setCommentText(e),e=e!==null,!!this.commentIcon_===e?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new Bc(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))}setWarningText(e,t){const i=t||"";if(i)this.warningTextDb.has(i)&&(clearTimeout(this.warningTextDb.get(i)),this.warningTextDb.delete(i));else{for(var a of this.warningTextDb.values())clearTimeout(a);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(i,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(i),this.setWarningText(e,i))},100));else{if(this.isInFlyout&&(e=null),t=!1,typeof e=="string"){a=this.getSurroundParent();let p=null;for(;a;)a.isCollapsed()&&(p=a),a=a.getSurroundParent();p&&p.setWarningText(Ve.COLLAPSED_WARNINGS_WARNING,yo.COLLAPSED_WARNING_ID),this.warning||(this.warning=new Av(this),t=!0),this.warning.setText(e,i)}else this.warning&&!i?(this.warning.dispose(),t=!0):this.warning&&(t=this.warning.getText(),this.warning.setText("",i),(a=this.warning.getText())||this.warning.dispose(),t=t!==a);t&&this.rendered&&(this.render(),this.bumpNeighbours())}}setMutator(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())}setEnabled(e){this.isEnabled()!==e&&(super.setEnabled(e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())}setHighlighted(e){this.rendered&&this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,t)this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour();else throw Error("Invalid style name: "+e)}bringToFront(){let e=this;do{const t=e.getSvgRoot(),i=t.parentNode,a=i.childNodes;a[a.length-1]!==t&&i.appendChild(t),e=e.getParent()}while(e)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setNextStatement(e,t){super.setNextStatement(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setOutput(e,t){super.setOutput(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setInputsInline(e){super.setInputsInline(e),this.rendered&&(this.queueRender(),this.bumpNeighbours())}removeInput(e,t){return e=super.removeInput(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}appendInput_(e,t){return e=super.appendInput_(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var i=this.inputList[t].connection;i&&(i.setTracking(e),(i=i.targetBlock())&&i.setConnectionTracking(e))}}getConnections_(e){const t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_))for(let i=0,a;a=this.inputList[i];i++)a.connection&&t.push(a.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new hr(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){if(!this.bumpNeighboursPid){var e=be();this.bumpNeighboursPid=setTimeout(()=>{const t=be();se(e),this.getRootBlock().bumpNeighboursInternal(),se(t),this.bumpNeighboursPid=0},o.config$$module$build$src$core$config.bumpDelay)}}bumpNeighboursInternal(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let i;(i=t.targetBlock())==null||i.bumpNeighboursInternal()}for(const i of t.neighbours(o.config$$module$build$src$core$config.snapRadius))i.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&i.isConnected()||(t.isSuperior()?i.bumpAwayFrom(t):t.bumpAwayFrom(i)))}}scheduleSnapAndBump(){const e=be();setTimeout(()=>{se(e),this.snapToGrid(),se(!1)},o.config$$module$build$src$core$config.bumpDelay/2),this.bumpNeighbours()}positionNearConnection(e,t){e.type!==Ce.NEXT_STATEMENT&&e.type!==Ce.INPUT_VALUE||this.moveBy(t.x-e.x,t.y-e.y)}getFirstStatementConnection(){return super.getFirstStatementConnection()}getChildren(e){return super.getChildren(e)}queueRender(){R0(this)}render(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,rr(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations(),e!==!1){const t=this.getParent();t?t.render(!0):this.workspace.resizeContents()}uo(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}}renderEfficiently(){this.rendered=!0,rr(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),uo(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(Sc.LOCAL_MARKER).draw();for(const e of this.inputList)for(const t of e.fieldRow)t.updateMarkers_()}updateConnectionLocations(){const e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(let t=0;t<this.inputList.length;t++){const i=this.inputList[t].connection;i&&(i.moveToOffset(e),i.isConnected()&&i.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var i=this.getNextBlock();if(i){i=i.getHeightWidth();const a=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=i.height-a,t=Math.max(t,i.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}};yo.INLINE=-1,yo.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var Dv=class{constructor(e,t){this.bubble=e,this.workspace=t,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.bubble.getRelativeToSurfaceXY(),this.dragSurface_=t.getBlockDragSurface()}startBubbleDrag(){be()||se(!0),this.workspace.setResizesEnabled(!1),this.bubble.setAutoLayout(!1),this.dragSurface_&&(this.bubble.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.bubble.getSvgRoot())),this.bubble.setDragging&&this.bubble.setDragging(!0)}dragBubble(e,t){t=this.pixelsToWorkspaceUnits_(t),t=ge.sum(this.startXY_,t),this.bubble.moveDuringDrag(this.dragSurface_,t),t=this.dragTarget_,this.dragTarget_=this.workspace.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==t&&(t&&t.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble)),this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble)}shouldDelete_(e){return e&&this.workspace.getComponentManager().hasCapability(e.id,on.Capability.DELETE_AREA)?e.wouldDelete(this.bubble,!1):!1}updateCursorDuringBubbleDrag_(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_)}endBubbleDrag(e,t){this.dragBubble(e,t),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(t),e=ge.sum(this.startXY_,e)),this.bubble.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.bubble),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.bubble.dispose()):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace.getBubbleCanvas()),this.bubble.setDragging&&this.bubble.setDragging(!1),this.fireMoveEvent_()),this.workspace.setResizesEnabled(!0),se(!1)}fireMoveEvent_(){if(this.bubble instanceof Jn){const e=new(we(ss))(this.bubble);e.setOldCoordinate(this.startXY_),e.recordNew(),ce(e)}}pixelsToWorkspaceUnits_(e){return e=new ge(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}},Ov=class{canConnect(e,t,i,a){return this.canConnectWithReason(e,t,i,a)===gt.CAN_CONNECT}canConnectWithReason(e,t,i,a){const p=this.doSafetyChecks(e,t);return p!==gt.CAN_CONNECT?p:this.doTypeChecks(e,t)?i&&!this.doDragChecks(e,t,a||0)?gt.REASON_DRAG_CHECKS_FAILED:gt.CAN_CONNECT:gt.REASON_CHECKS_FAILED}getErrorMessage(e,t,i){switch(e){case gt.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case gt.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case gt.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case gt.REASON_TARGET_NULL:return"Target connection is null.";case gt.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck()+", found "+i.getCheck());case gt.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case gt.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case gt.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return gt.REASON_TARGET_NULL;let i,a,p;return e.isSuperior()?(i=e.getSourceBlock(),a=t.getSourceBlock(),p=t):(a=e.getSourceBlock(),i=t.getSourceBlock(),p=e,e=t),i===a?gt.REASON_SELF_CONNECTION:p.type!==Qe[e.type]?gt.REASON_WRONG_TYPE:i.workspace!==a.workspace?gt.REASON_DIFFERENT_WORKSPACES:i.isShadow()&&!a.isShadow()?gt.REASON_SHADOW_PARENT:p.type===Ce.OUTPUT_VALUE&&a.previousConnection&&a.previousConnection.isConnected()||p.type===Ce.PREVIOUS_STATEMENT&&a.outputConnection&&a.outputConnection.isConnected()?gt.REASON_PREVIOUS_AND_OUTPUT:gt.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let i=0;i<e.length;i++)if(t.indexOf(e[i])!==-1)return!0;return!1}doDragChecks(e,t,i){if(e.distanceFrom(t)>i||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case Ce.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case Ce.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case Ce.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case Ce.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return fi.indexOf(t)===-1}canConnectToPrevious_(e,t){return e.targetConnection||fi.indexOf(t)!==-1?!1:t.targetConnection?(e=t.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};s(ve.CONNECTION_CHECKER,Qr,Ov);var tu=class{constructor(e){this.connectionChecker=e,this.connections_=[]}addConnection(e,t){t=this.calculateIndexForYPos_(t),this.connections_.splice(t,0,e)}findIndexOfConnection_(e,t){if(!this.connections_.length)return-1;const i=this.calculateIndexForYPos_(t);if(i>=this.connections_.length)return-1;t=e.y;let a=i;for(;0<=a&&this.connections_[a].y===t;){if(this.connections_[a]===e)return a;a--}for(a=i;a<this.connections_.length&&this.connections_[a].y===t;){if(this.connections_[a]===e)return a;a++}return-1}calculateIndexForYPos_(e){if(!this.connections_.length)return 0;let t=0,i=this.connections_.length;for(;t<i;){const a=Math.floor((t+i)/2);if(this.connections_[a].y<e)t=a+1;else if(this.connections_[a].y>e)i=a;else{t=a;break}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection_(e,t),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)}getNeighbours(e,t){function i(ke){const sn=p-a[ke].x,ln=v-a[ke].y;return Math.sqrt(sn*sn+ln*ln)<=t&&ie.push(a[ke]),ln<t}const a=this.connections_,p=e.x,v=e.y;e=0;let C=a.length-2,M=C;for(;e<M;)a[M].y<v?e=M:C=M,M=Math.floor((e+C)/2);const ie=[];if(C=e=M,a.length){for(;0<=e&&i(e);)e--;do C++;while(C<a.length&&i(C))}return ie}isInYRange_(e,t,i){return Math.abs(this.connections_[e].y-t)<=i}searchForClosest(e,t,i){if(!this.connections_.length)return{connection:null,radius:t};const a=e.y,p=e.x;e.x=p+i.x,e.y=a+i.y;var v=this.calculateIndexForYPos_(e.y);i=null;let C=t,M,ie=v-1;for(;0<=ie&&this.isInYRange_(ie,e.y,t);)M=this.connections_[ie],this.connectionChecker.canConnect(e,M,!0,C)&&(i=M,C=M.distanceFrom(e)),ie--;for(;v<this.connections_.length&&this.isInYRange_(v,e.y,t);)M=this.connections_[v],this.connectionChecker.canConnect(e,M,!0,C)&&(i=M,C=M.distanceFrom(e)),v++;return e.x=p,e.y=a,{connection:i,radius:C}}static init(e){const t=[];return t[Ce.INPUT_VALUE]=new tu(e),t[Ce.OUTPUT_VALUE]=new tu(e),t[Ce.NEXT_STATEMENT]=new tu(e),t[Ce.PREVIOUS_STATEMENT]=new tu(e),t}},om=class extends ja{constructor(e){super(e),this.type=Kn,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){if(l("Blockly.Events.BlockMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldParentId=e.oldParentId,this.oldInputName=e.oldInputName,e.oldCoordinate){var t=e.oldCoordinate.split(",");this.oldCoordinate=new ge(Number(t[0]),Number(t[1]))}this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(t=e.newCoordinate.split(","),this.newCoordinate=new ge(Number(t[0]),Number(t[1]))),e.recordUndo!==void 0&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new om),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(i=e.oldCoordinate.split(","),t.oldCoordinate=new ge(Number(i[0]),Number(i[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(i=e.newCoordinate.split(","),t.newCoordinate=new ge(Number(i[0]),Number(i[1]))),e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}currentLocation_(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const i=t.getParent();return i?(e.parentId=i.id,(t=i.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&ge.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var i=t.getBlockById(this.blockId);if(i){var a=e?this.newParentId:this.oldParentId,p=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,a){var v=t.getBlockById(a);if(!v){console.warn("Can't connect to non-existent block: "+a);return}}if(i.getParent()&&i.unplug(),e)p=i.getRelativeToSurfaceXY(),i.moveBy(e.x-p.x,e.y-p.y);else{t=i.outputConnection,(!t||i.previousConnection&&i.previousConnection.isConnected())&&(t=i.previousConnection);let C,M;i=(M=t)==null?void 0:M.type,p?(i=v.getInput(p))&&(C=i.connection):i===Ce.PREVIOUS_STATEMENT&&(C=v.nextConnection),C&&t?t.connect(C):console.warn("Can't connect to non-existent input: "+p)}}else console.warn("Can't move non-existent block: "+this.blockId)}};s(ve.EVENT,Kn,om);var im=class extends vo{constructor(e,t,i){t=e?e.workspace.id:t,t===null&&(t=void 0),super(t),this.type=Fo,this.blockId=e?e.id:void 0,this.targetType=i}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}fromJson(e){l("Blockly.Events.Click.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.targetType=e.targetType,this.blockId=e.blockId}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new im),t.targetType=e.targetType,t.blockId=e.blockId,t}},sm;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(sm||(sm={})),s(ve.EVENT,Fo,im);var Ci=class extends _i{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=be(),this.recordUndo=Ie())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}fromJson(e){l("Blockly.Events.CommentBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.commentId=e.commentId}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Ci),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){var i=e.getEventWorkspace_();if(t){if(t=o.createElement$$module$build$src$core$utils$xml("xml"),!e.xml)throw Error("Ecountered a comment event without proper xml");t.appendChild(e.xml),da(t,i)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(i=i.getCommentById(e.commentId))?i.dispose():console.warn("Can't uncreate non-existent comment: "+e.commentId)}}},lm=class extends Ci{constructor(e,t,i){super(e),this.type=$n,e&&(this.oldContents_=typeof t>"u"?"":t,this.newContents_=typeof i>"u"?"":i)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}fromJson(e){l("Blockly.Events.CommentChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldContents_=e.oldContents,this.newContents_=e.newContents}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new lm),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var i=e?this.newContents_:this.oldContents_;if(!i)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");t.setContent(i)}else console.warn("Can't change non-existent comment: "+this.commentId)}};s(ve.EVENT,$n,lm);var Hc=class extends Ci{constructor(e){super(e),this.type=is,e&&(this.xml=e.toXmlWithXY())}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=si(this.xml),e}fromJson(e){l("Blockly.Events.CommentCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.xml=it(e.xml)}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Hc),t.xml=it(e.xml),t}run(e){Ci.CommentCreateDeleteHelper(this,e)}};s(ve.EVENT,is,Hc);var am=class extends Ci{constructor(e){super(e),this.type=wl,e&&(this.xml=e.toXmlWithXY())}run(e){Ci.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=si(this.xml),e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new am),t.xml=it(e.xml),t}};s(ve.EVENT,wl,am);var um=class extends Ci{constructor(e){super(e),this.type=ss,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}fromJson(e){l("Blockly.Events.CommentMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e);let t=e.oldCoordinate.split(",");this.oldCoordinate_=new ge(Number(t[0]),Number(t[1])),t=e.newCoordinate.split(","),this.newCoordinate_=new ge(Number(t[0]),Number(t[1]))}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new um),i=e.oldCoordinate.split(","),t.oldCoordinate_=new ge(Number(i[0]),Number(i[1])),i=e.newCoordinate.split(","),t.newCoordinate_=new ge(Number(i[0]),Number(i[1])),t}isNull(){return ge.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var i=t.getRelativeToSurfaceXY();t.moveBy(e.x-i.x,e.y-i.y)}else console.warn("Can't move non-existent comment: "+this.commentId)}};s(ve.EVENT,ss,um);var cm=class extends vo{constructor(e,t,i,a){let p=e?e.workspace.id:void 0;a&&a.getType()===ue.types.WORKSPACE&&(p=a.getLocation().id),super(p),this.type=mi,this.blockId=e==null?void 0:e.id,this.oldNode=i||void 0,this.newNode=a,this.isCursor=t}toJson(){const e=super.toJson();if(this.isCursor===void 0)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}fromJson(e){l("Blockly.Events.MarkerMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new cm),t.isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};s(ve.EVENT,mi,cm);var wn=class extends vo{constructor(e,t){super(t),this.type=Go,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}fromJson(e){l("Blockly.Events.ThemeChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.themeName=e.themeName}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new wn),t.themeName=e.themeName,t}};s(ve.EVENT,Go,wn);var qn=class extends vo{constructor(e,t,i){super(i),this.type=yl,this.oldItem=e??void 0,this.newItem=t??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}fromJson(e){l("Blockly.Events.ToolboxItemSelect.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldItem=e.oldItem,this.newItem=e.newItem}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new qn),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};s(ve.EVENT,yl,qn);var hm=class extends vo{constructor(e,t){super(t),this.type=Gs,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}fromJson(e){l("Blockly.Events.TrashcanOpen.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isOpen=e.isOpen}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new hm),t.isOpen=e.isOpen,t}};s(ve.EVENT,Gs,hm);var dm=class extends kl{constructor(e){super(e),this.type=Fa,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}fromJson(e){l("Blockly.Events.VarDelete.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varType=e.varType,this.varName=e.varName}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new dm),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};s(ve.EVENT,Fa,dm);var pm=class extends kl{constructor(e,t){super(e),this.type=eo,e&&(this.oldName=e.name,this.newName=typeof t>"u"?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}fromJson(e){l("Blockly.Events.VarRename.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldName=e.oldName,this.newName=e.newName}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new pm),t.oldName=e.oldName,t.newName=e.newName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};s(ve.EVENT,eo,pm);var np=class extends vo{constructor(e,t,i,a,p){super(a),this.type=El,this.viewTop=e,this.viewLeft=t,this.scale=i,this.oldScale=p}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}fromJson(e){l("Blockly.Events.Viewport.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new np),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};s(ve.EVENT,El,np),o.module$build$src$core$events$events={},o.module$build$src$core$events$events.Abstract=_i,o.module$build$src$core$events$events.BLOCK_CHANGE=Rn,o.module$build$src$core$events$events.BLOCK_CREATE=Dn,o.module$build$src$core$events$events.BLOCK_DELETE=Po,o.module$build$src$core$events$events.BLOCK_DRAG=Fs,o.module$build$src$core$events$events.BLOCK_MOVE=Kn,o.module$build$src$core$events$events.BUBBLE_OPEN=Fe,o.module$build$src$core$events$events.BUMP_EVENTS=Ad,o.module$build$src$core$events$events.BlockBase=ja,o.module$build$src$core$events$events.BlockChange=Sl,o.module$build$src$core$events$events.BlockCreate=Og,o.module$build$src$core$events$events.BlockDelete=Ng,o.module$build$src$core$events$events.BlockDrag=qg,o.module$build$src$core$events$events.BlockMove=om,o.module$build$src$core$events$events.BubbleOpen=Yg,o.module$build$src$core$events$events.BubbleType=Kg,o.module$build$src$core$events$events.CHANGE=Rn,o.module$build$src$core$events$events.CLICK=Fo,o.module$build$src$core$events$events.COMMENT_CHANGE=$n,o.module$build$src$core$events$events.COMMENT_CREATE=is,o.module$build$src$core$events$events.COMMENT_DELETE=wl,o.module$build$src$core$events$events.COMMENT_MOVE=ss,o.module$build$src$core$events$events.CREATE=Dn,o.module$build$src$core$events$events.Click=im,o.module$build$src$core$events$events.ClickTarget=sm,o.module$build$src$core$events$events.CommentBase=Ci,o.module$build$src$core$events$events.CommentChange=lm,o.module$build$src$core$events$events.CommentCreate=Hc,o.module$build$src$core$events$events.CommentDelete=am,o.module$build$src$core$events$events.CommentMove=um,o.module$build$src$core$events$events.DELETE=Po,o.module$build$src$core$events$events.FINISHED_LOADING=Ga,o.module$build$src$core$events$events.FinishedLoading=vv,o.module$build$src$core$events$events.MARKER_MOVE=mi,o.module$build$src$core$events$events.MOVE=Kn,o.module$build$src$core$events$events.MarkerMove=cm,o.module$build$src$core$events$events.SELECTED=gi,o.module$build$src$core$events$events.Selected=Tg,o.module$build$src$core$events$events.THEME_CHANGE=Go,o.module$build$src$core$events$events.TOOLBOX_ITEM_SELECT=yl,o.module$build$src$core$events$events.TRASHCAN_OPEN=Gs,o.module$build$src$core$events$events.ThemeChange=wn,o.module$build$src$core$events$events.ToolboxItemSelect=qn,o.module$build$src$core$events$events.TrashcanOpen=hm,o.module$build$src$core$events$events.UI=$l,o.module$build$src$core$events$events.Ui=bv,o.module$build$src$core$events$events.UiBase=vo,o.module$build$src$core$events$events.VAR_CREATE=bl,o.module$build$src$core$events$events.VAR_DELETE=Fa,o.module$build$src$core$events$events.VAR_RENAME=eo,o.module$build$src$core$events$events.VIEWPORT_CHANGE=El,o.module$build$src$core$events$events.VarBase=kl,o.module$build$src$core$events$events.VarCreate=Md,o.module$build$src$core$events$events.VarDelete=dm,o.module$build$src$core$events$events.VarRename=pm,o.module$build$src$core$events$events.ViewportChange=np,o.module$build$src$core$events$events.clearPendingUndo=Q,o.module$build$src$core$events$events.disable=ee,o.module$build$src$core$events$events.disableOrphans=jn,o.module$build$src$core$events$events.enable=Z,o.module$build$src$core$events$events.filter=Y,o.module$build$src$core$events$events.fire=ce,o.module$build$src$core$events$events.fromJson=It,o.module$build$src$core$events$events.get=we,o.module$build$src$core$events$events.getDescendantIds=Ke,o.module$build$src$core$events$events.getGroup=be,o.module$build$src$core$events$events.getRecordUndo=Ie,o.module$build$src$core$events$events.isEnabled=_e,o.module$build$src$core$events$events.setGroup=se,o.module$build$src$core$events$events.setRecordUndo=Se,Zf();var dr={};dr.registerCleanup=ml,dr.registerCollapse=ld,dr.registerCollapseExpandBlock=xa,dr.registerComment=fo,dr.registerDefaultOptions=Zf,dr.registerDelete=hd,dr.registerDeleteAll=In,dr.registerDisable=es,dr.registerDuplicate=cd,dr.registerExpand=qf,dr.registerHelp=Un,dr.registerInline=hc,dr.registerRedo=sd,dr.registerUndo=id;var Nv=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},rp=class extends Nv{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e,t){return e instanceof yo?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!t)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},nu=class extends pt{constructor(e,t,i){super(pt.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==pt.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){const e=this.getSourceBlock();if(!e)throw new rn;if(this.getConstants().FULL_BLOCK_FIELDS){let t=0,i=0;for(let a=0,p;p=e.inputList[a];a++){for(let v=0;p.fieldRow[v];v++)t++;p.connection&&i++}this.fullBlockClickTarget_=1>=t&&e.outputConnection&&!i}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()}doValueInvalid_(e){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&_e()&&ce(new(we(Rn))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){if(this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS){var e=this.sourceBlock_;this.borderRect_?this.borderRect_.setAttribute("stroke",e.style.colourTertiary):e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)}}render_(){if(super.render_(),this.isBeingEdited_){this.resizeEditor_();const e=this.htmlInput_;this.isTextValid_?(Oe(e,"blocklyInvalidInput"),Ot(e,Ht.INVALID,!1)):(ye(e,"blocklyInvalidInput"),Ot(e,Ht.INVALID,!0))}}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(Dr||Gd||Wa)?this.showPromptEditor_():this.showInlineEditor_(t)}showPromptEditor_(){Eh(Ve.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e))})}showInlineEditor_(e){const t=this.getSourceBlock();if(!t)throw new rn;dl(this,t.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new rn;se(!0);const t=hl();var i=this.getClickTarget_();if(!i)throw Error("A click target has not been set.");ye(i,"editing"),i=document.createElement("input"),i.className="blocklyHtmlInput",i.setAttribute("spellcheck",this.spellcheck_);const a=this.workspace_.getScale();var p=this.getConstants().FIELD_TEXT_FONTSIZE*a+"pt";return t.style.fontSize=p,i.style.fontSize=p,p=nu.BORDERRADIUS*a+"px",this.fullBlockClickTarget_&&(p=this.getScaledBBox(),p=(p.bottom-p.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,i.style.border=1*a+"px solid "+e,t.style.borderRadius=p,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*a+"px")),i.style.borderRadius=p,t.appendChild(i),i.value=i.defaultValue=this.getEditorText_(this.value_),i.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(i),i}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),se(!1),this.unbindInputEvents_();var e=hl().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");Oe(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper_=De(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=De(e,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(_t(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(_t(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(e){e.key==="Enter"?(po(),ho()):e.key==="Escape"?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value")),po(),ho()):e.key==="Tab"&&(po(),ho(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange_(e){this.setValue(this.getValueFromEditorText_(this.htmlInput_.value))}setEditorValue_(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)}resizeEditor_(){var e=this.getSourceBlock();if(!e)throw new rn;const t=hl(),i=this.getScaledBBox();t.style.width=i.right-i.left+"px",t.style.height=i.bottom-i.top+"px",e=new ge(e.RTL?i.right-t.offsetWidth:i.left,i.top),t.style.left=e.x+"px",t.style.top=e.y+"px"}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};nu.BORDERRADIUS=4;var at=class extends nu{constructor(e,t,i){super(pt.SKIP_SETUP),this.clockwise=at.CLOCKWISE,this.offset=at.OFFSET,this.wrap=at.WRAP,this.round=at.ROUND,this.boundEvents=[],this.symbol_=this.gauge=this.line=null,e!==pt.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){switch(super.configure_(e),e.mode){case op.COMPASS:this.clockwise=!0,this.offset=90;break;case op.PROTRACTOR:this.clockwise=!1,this.offset=0}e.clockwise&&(this.clockwise=e.clockwise),e.offset&&(this.offset=e.offset),e.wrap&&(this.wrap=e.wrap),e.round&&(this.round=e.round)}initView(){super.initView(),this.symbol_=J(U.TSPAN,{}),this.symbol_.appendChild(document.createTextNode("°")),this.getTextElement().appendChild(this.symbol_)}render_(){super.render_(),this.updateGraph()}showEditor_(e){super.showEditor_(e,Dr||Gd||Wa),e=this.dropdownCreate(),Xi().appendChild(e),this.sourceBlock_ instanceof yo&&zh(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),ma(this,this.dropdownDispose.bind(this)),this.updateGraph()}dropdownCreate(){const e=J(U.SVG,{xmlns:Us,"xmlns:html":Uo,"xmlns:xlink":Rr,version:"1.1",height:2*at.HALF+"px",width:2*at.HALF+"px",style:"touch-action: none"}),t=J(U.CIRCLE,{cx:at.HALF,cy:at.HALF,r:at.RADIUS,class:"blocklyAngleCircle"},e);this.gauge=J(U.PATH,{class:"blocklyAngleGauge"},e),this.line=J(U.LINE,{x1:at.HALF,y1:at.HALF,class:"blocklyAngleLine"},e);for(let i=0;360>i;i+=15)J(U.LINE,{x1:at.HALF+at.RADIUS,y1:at.HALF,x2:at.HALF+at.RADIUS-(i%45===0?10:5),y2:at.HALF,class:"blocklyAngleMarks",transform:"rotate("+i+","+at.HALF+","+at.HALF+")"},e);return this.boundEvents.push(De(e,"click",this,this.hide)),this.boundEvents.push(De(t,"pointerdown",this,this.onMouseMove_,!0)),this.boundEvents.push(De(t,"pointermove",this,this.onMouseMove_,!0)),e}dropdownDispose(){for(const e of this.boundEvents)_t(e);this.boundEvents.length=0,this.line=this.gauge=null}hide(){Is(this),po()}onMouseMove_(e){var t=this.gauge.ownerSVGElement.getBoundingClientRect();const i=e.clientX-t.left-at.HALF;e=e.clientY-t.top-at.HALF,t=Math.atan(-e/i),isNaN(t)||(t=Hu(t),0>i?t+=180:0<e&&(t+=360),t=this.clockwise?this.offset+360-t:360-(this.offset-t),this.displayMouseOrKeyboardValue(t))}displayMouseOrKeyboardValue(e){this.round&&(e=Math.round(e/this.round)*this.round),e=this.wrapValue(e),e!==this.value_&&this.setEditorValue_(e)}updateGraph(){if(this.gauge&&this.line){var e=Number(this.getText())+this.offset,t=fa(e%360);e=["M ",at.HALF,",",at.HALF];var i=at.HALF,a=at.HALF;if(!isNaN(t)){const p=Number(this.clockwise),v=fa(this.offset),C=Math.cos(v)*at.RADIUS,M=Math.sin(v)*-at.RADIUS;p&&(t=2*v-t),i+=Math.cos(t)*at.RADIUS,a-=Math.sin(t)*at.RADIUS,t=Math.abs(Math.floor((t-v)/Math.PI)%2),p&&(t=1-t),e.push(" l ",C,",",M," A ",at.RADIUS,",",at.RADIUS," 0 ",t," ",p," ",i,",",a," z")}this.gauge.setAttribute("d",e.join("")),this.line.setAttribute("x2",`${i}`),this.line.setAttribute("y2",`${a}`)}}onHtmlInputKeyDown_(e){super.onHtmlInputKeyDown_(e);var t=this.getSourceBlock();if(!t)throw new rn;let i=0;switch(e.key){case"ArrowLeft":i=t.RTL?1:-1;break;case"ArrowRight":i=t.RTL?-1:1;break;case"ArrowDown":i=-1;break;case"ArrowUp":i=1}i&&(t=this.getValue(),this.displayMouseOrKeyboardValue(t+i*this.round),e.preventDefault(),e.stopPropagation())}doClassValidation_(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue(e)}wrapValue(e){return e%=360,0>e&&(e+=360),e>this.wrap&&(e-=360),e}static fromJson(e){return new this(e.angle,void 0,e)}};at.HALF=50,at.RADIUS=at.HALF-1,at.CLOCKWISE=!1,at.OFFSET=0,at.WRAP=360,at.ROUND=15,Sn("field_angle",at),at.prototype.DEFAULT_VALUE=0,co(`
.blocklyAngleCircle {
  stroke: #444;
  stroke-width: 1;
  fill: #ddd;
  fill-opacity: 0.8;
}

.blocklyAngleMarks {
  stroke: #444;
  stroke-width: 1;
}

.blocklyAngleGauge {
  fill: #f88;
  fill-opacity: 0.8;
  pointer-events: none;
}

.blocklyAngleLine {
  stroke: #f00;
  stroke-width: 2;
  stroke-linecap: round;
  pointer-events: none;
}
`);var op;(function(e){e.COMPASS="compass",e.PROTRACTOR="protractor"})(op||(op={}));var Ll=class extends pt{constructor(e,t,i){super(pt.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar_=Ll.CHECK_CHAR,e!==pt.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)}saveState(){const e=this.saveLegacyState(Ll);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();ye(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar_}setCheckCharacter(e){this.checkChar_=e||Ll.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};Ll.CHECK_CHAR="✓",Sn("field_checkbox",Ll),Ll.prototype.DEFAULT_VALUE=!1;var Pr=class extends pt{constructor(e,t,i){super(pt.SKIP_SETUP),this.highlightedIndex=this.picker=null,this.boundEvents=[],this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles=this.colours=null,this.columns=0,e!==pt.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.colourOptions&&(this.colours=e.colourOptions),e.colourTitles&&(this.titles=e.colourTitles),e.columns&&(this.columns=e.columns)}initView(){this.size_=new On(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.sourceBlock_ instanceof yo&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()):(this.createBorderRect_(),this.getBorderRect().style.fillOpacity="1")}applyColour(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.sourceBlock_ instanceof yo&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())}doClassValidation_(e){return typeof e!="string"?null:Oo(e)}doValueUpdate_(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_ instanceof yo&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))}getText(){let e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e}setColours(e,t){return this.colours=e,t&&(this.titles=t),this}setColumns(e){return this.columns=e,this}showEditor_(){this.dropdownCreate(),Xi().appendChild(this.picker),ma(this,this.dropdownDispose.bind(this)),this.picker.focus({preventScroll:!0})}onClick(e){e=(e=e.target)&&e.getAttribute("data-colour"),e!==null&&(this.setValue(e),Is(this))}onKeyDown(e){let t=!0;var i;switch(e.key){case"ArrowUp":this.moveHighlightBy(0,-1);break;case"ArrowDown":this.moveHighlightBy(0,1);break;case"ArrowLeft":this.moveHighlightBy(-1,0);break;case"ArrowRight":this.moveHighlightBy(1,0);break;case"Enter":(i=this.getHighlighted())&&(i=i.getAttribute("data-colour"),i!==null&&this.setValue(i)),ho();break;default:t=!1}t&&e.stopPropagation()}moveHighlightBy(e,t){if(this.highlightedIndex){var i=this.colours||Pr.COLOURS,a=this.columns||Pr.COLUMNS,p=this.highlightedIndex%a,v=Math.floor(this.highlightedIndex/a);p+=e,v+=t,0>e?0>p&&0<v?(p=a-1,v--):0>p&&(p=0):0<e?p>a-1&&v<Math.floor(i.length/a)-1?(p=0,v++):p>a-1&&p--:0>t?0>v&&(v=0):0<t&&v>Math.floor(i.length/a)-1&&(v=Math.floor(i.length/a)-1),this.setHighlightedCell(this.picker.childNodes[v].childNodes[p],v*a+p)}}onMouseMove(e){const t=(e=e.target)&&Number(e.getAttribute("data-index"));t!==null&&t!==this.highlightedIndex&&this.setHighlightedCell(e,t)}onMouseEnter(){let e;(e=this.picker)==null||e.focus({preventScroll:!0})}onMouseLeave(){var e;(e=this.picker)==null||e.blur(),(e=this.getHighlighted())&&Oe(e,"blocklyColourHighlighted")}getHighlighted(){if(!this.highlightedIndex)return null;const e=this.columns||Pr.COLUMNS,t=this.picker.childNodes[Math.floor(this.highlightedIndex/e)];return t?t.childNodes[this.highlightedIndex%e]:null}setHighlightedCell(e,t){const i=this.getHighlighted();i&&Oe(i,"blocklyColourHighlighted"),ye(e,"blocklyColourHighlighted"),this.highlightedIndex=t,(e=e.getAttribute("id"))&&this.picker&&Ot(this.picker,Ht.ACTIVEDESCENDANT,e)}dropdownCreate(){const e=this.columns||Pr.COLUMNS,t=this.colours||Pr.COLOURS,i=this.titles||Pr.TITLES,a=this.getValue(),p=document.createElement("table");p.className="blocklyColourTable",p.tabIndex=0,p.dir="ltr",No(p,Lr.GRID),Ot(p,Ht.EXPANDED,!0),Ot(p,Ht.ROWCOUNT,Math.floor(t.length/e)),Ot(p,Ht.COLCOUNT,e);let v;for(let C=0;C<t.length;C++){C%e===0&&(v=document.createElement("tr"),No(v,Lr.ROW),p.appendChild(v));const M=document.createElement("td");v.appendChild(M),M.setAttribute("data-colour",t[C]),M.title=i[C]||t[C],M.id=ne(),M.setAttribute("data-index",`${C}`),No(M,Lr.GRIDCELL),Ot(M,Ht.LABEL,t[C]),Ot(M,Ht.SELECTED,t[C]===a),M.style.backgroundColor=t[C],t[C]===a&&(M.className="blocklyColourSelected",this.highlightedIndex=C)}this.boundEvents.push(De(p,"pointerdown",this,this.onClick,!0)),this.boundEvents.push(De(p,"pointermove",this,this.onMouseMove,!0)),this.boundEvents.push(De(p,"pointerenter",this,this.onMouseEnter,!0)),this.boundEvents.push(De(p,"pointerleave",this,this.onMouseLeave,!0)),this.boundEvents.push(De(p,"keydown",this,this.onKeyDown,!1)),this.picker=p}dropdownDispose(){for(const e of this.boundEvents)_t(e);this.boundEvents.length=0,this.highlightedIndex=this.picker=null}static fromJson(e){return new this(e.colour,void 0,e)}};Pr.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Pr.TITLES=[],Pr.COLUMNS=7,Pr.prototype.DEFAULT_VALUE=Pr.COLOURS[0],Sn("field_colour",Pr),co(`
.blocklyColourTable {
  border-collapse: collapse;
  display: block;
  outline: none;
  padding: 1px;
}

.blocklyColourTable>tr>td {
  border: 0.5px solid #888;
  box-sizing: border-box;
  cursor: pointer;
  display: inline-block;
  height: 20px;
  padding: 0;
  width: 20px;
}

.blocklyColourTable>tr>td.blocklyColourHighlighted {
  border-color: #eee;
  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);
  position: relative;
}

.blocklyColourSelected, .blocklyColourSelected:hover {
  border-color: #eee !important;
  outline: 1px solid #333;
  position: relative;
}
`);var js=class extends pt{constructor(e,t,i,a,p,v,C){if(super(pt.SKIP_SETUP),this.imageElement_=this.clickHandler_=null,this.flipRtl_=this.isDirty_=this.EDITABLE=!1,this.altText_="",i=Number(Mt(i)),t=Number(Mt(t)),isNaN(i)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(0>=i||0>=t)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new On(t,i+js.Y_PADDING),this.imageHeight_=i,typeof p=="function"&&(this.clickHandler_=p),e!==pt.SKIP_SETUP&&(C?this.configure_(C):(this.flipRtl_=!!v,this.altText_=Mt(a)||""),this.setValue(Mt(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl_=e.flipRtl),e.alt&&(this.altText_=Mt(e.alt))}initView(){this.imageElement_=J(U.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(Rr,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(Rr,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl_}setAlt(e){e!==this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))}showEditor_(){this.clickHandler_&&this.clickHandler_(this)}setOnClickHandler(e){this.clickHandler_=e}getText_(){return this.altText_}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};js.Y_PADDING=1,Sn("field_image",js),js.prototype.DEFAULT_VALUE="";var Lv=class extends cs{constructor(e,t,i){super(String(e??""),t,i),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Mt(e.text),void 0,e)}};Sn("field_label_serializable",Lv);var ru=class extends nu{constructor(e,t,i){super(e,t,i)}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(Mt(e.text),void 0,e)}};Sn("field_input",ru),ru.prototype.DEFAULT_VALUE="";var fm=class extends ru{constructor(e,t,i){super(pt.SKIP_SETUP),this.textGroup=null,this.maxLines_=1/0,this.isOverflowedY_=!1,e!==pt.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.maxLines&&this.setMaxLines(e.maxLines)}toXml(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e}fromXml(e){this.setValue(e.textContent.replace(/&#10;/g,`
`))}saveState(){const e=this.saveLegacyState(fm);return e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(pt,e)||this.setValue(e)}initView(){this.createBorderRect_(),this.textGroup=J(U.G,{class:"blocklyEditableText"},this.fieldGroup_)}getDisplayText_(){const e=this.getSourceBlock();if(!e)throw new rn;let t=this.getText();if(!t)return pt.NBSP;const i=t.split(`
`);t="";const a=this.isOverflowedY_?this.maxLines_:i.length;for(let p=0;p<a;p++){let v=i[p];v.length>this.maxDisplayLength?v=v.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&p===a-1&&(v=v.substring(0,v.length-3)+"..."),v=v.replace(/\s/g,pt.NBSP),t+=v,p!==a-1&&(t+=`
`)}return e.RTL&&(t+="‏"),t}doValueUpdate_(e){super.doValueUpdate_(e),this.value_!==null&&(this.isOverflowedY_=this.value_.split(`
`).length>this.maxLines_)}render_(){var e=this.getSourceBlock();if(!e)throw new rn;for(var t,i=this.textGroup;t=i.firstChild;)i.removeChild(t);t=this.getDisplayText_().split(`
`);let a=0;for(let p=0;p<t.length;p++){const v=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;J(U.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:a+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},i).appendChild(document.createTextNode(t[p])),a+=v}this.isBeingEdited_&&(i=this.htmlInput_,this.isOverflowedY_?ye(i,"blocklyHtmlTextAreaInputOverflowedY"):Oe(i,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(e.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(Oe(e,"blocklyInvalidInput"),Ot(e,Ht.INVALID,!1)):(ye(e,"blocklyInvalidInput"),Ot(e,Ht.INVALID,!0)))}updateSize_(){var e=this.textGroup.childNodes;const t=this.getConstants().FIELD_TEXT_FONTSIZE,i=this.getConstants().FIELD_TEXT_FONTWEIGHT,a=this.getConstants().FIELD_TEXT_FONTFAMILY;let p=0,v=0;for(var C=0;C<e.length;C++){var M=Ui(e[C],t,i,a);M>p&&(p=M),v+=this.getConstants().FIELD_TEXT_HEIGHT+(0<C?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){for(e=String(this.value_).split(`
`),C=J(U.TEXT,{class:"blocklyText blocklyMultilineText"}),M=0;M<e.length;M++){e[M].length>this.maxDisplayLength&&(e[M]=e[M].substring(0,this.maxDisplayLength)),C.textContent=e[M];const ie=Ui(C,t,i,a);ie>p&&(p=ie)}p+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(v+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,p+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",`${p}`),this.borderRect_.setAttribute("height",`${v}`)),this.size_.width=p,this.size_.height=v,this.positionBorderRect_()}showEditor_(e,t){super.showEditor_(e,t),this.forceRerender()}widgetCreate_(){const e=hl(),t=this.workspace_.getScale(),i=document.createElement("textarea");i.className="blocklyHtmlInput blocklyHtmlTextAreaInput",i.setAttribute("spellcheck",String(this.spellcheck_));var a=this.getConstants().FIELD_TEXT_FONTSIZE*t+"pt";e.style.fontSize=a,i.style.fontSize=a,i.style.borderRadius=ru.BORDERRADIUS*t+"px",a=this.getConstants().FIELD_BORDER_RECT_X_PADDING*t;const p=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*t/2;return i.style.padding=p+"px "+a+"px "+p+"px "+a+"px",a=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,i.style.lineHeight=a*t+"px",e.appendChild(i),i.value=i.defaultValue=this.getEditorText_(this.value_),i.setAttribute("data-untyped-default-value",String(this.value_)),i.setAttribute("data-old-value",""),Sg?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(i),i}setMaxLines(e){typeof e=="number"&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())}getMaxLines(){return this.maxLines_}onHtmlInputKeyDown_(e){e.key!=="Enter"&&super.onHtmlInputKeyDown_(e)}static fromJson(e){return new this(Mt(e.text),void 0,e)}};Sn("field_multilinetext",fm),co(`
.blocklyHtmlTextAreaInput {
  font-family: monospace;
  resize: none;
  overflow: hidden;
  height: 100%;
  text-align: left;
}

.blocklyHtmlTextAreaInputOverflowedY {
  overflow-y: scroll;
}
`);var gm=class extends nu{constructor(e,t,i,a,p,v){super(pt.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,this.spellcheck_=!1,e!==pt.SKIP_SETUP&&(v?this.configure_(v):this.setConstraints(t,i,a),this.setValue(e),p&&this.setValidator(p))}configure_(e){super.configure_(e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)}setConstraints(e,t,i){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(i),this.setValue(this.getValue())}setMin(e){this.setMinInternal_(e),this.setValue(this.getValue())}setMinInternal_(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal_(e),this.setValue(this.getValue())}setMaxInternal_(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())}setPrecisionInternal_(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.indexOf("e")!==-1&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const i=t.indexOf(".");this.decimalPlaces_=i===-1?e?0:null:t.length-i-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/ig,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces_!==null&&(e=Number(e.toFixed(this.decimalPlaces_))),e)}widgetCreate_(){const e=super.widgetCreate_();return e.type="number",-1/0<this.min_&&(e.min=`${this.min_}`,Ot(e,Ht.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,Ot(e,Ht.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Sn("field_number",gm),gm.prototype.DEFAULT_VALUE=0;var Si=class extends yi{constructor(e,t,i,a,p){super(pt.SKIP_SETUP),this.defaultType_="",this.variableTypes=[],this.variable_=null,this.SERIALIZABLE=!0,this.menuGenerator_=Si.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new On(0,0),e!==pt.SKIP_SETUP&&(p?this.configure_(p):this.setTypes_(i,a),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes_(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new rn;this.variable_||(e=Du(e.workspace,null,this.defaultVariableName,this.defaultType_),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new rn;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var t=this.getSourceBlock();if(!t)throw new rn;const i=e.getAttribute("id"),a=e.textContent,p=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=Du(t.workspace,i,a,p),p!==null&&p!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+si(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e}saveState(e){var t=this.saveLegacyState(Si);return t!==null||(this.initModel(),t={id:this.variable_.getId()},e&&(t.name=this.variable_.name,t.type=this.variable_.type)),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new rn;this.loadLegacyState(Si,e)||(e=Du(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable_?this.variable_.getId():null}getText(){return this.variable_?this.variable_.name:""}getVariable(){return this.variable_}getValidator(){return this.variable_?this.validator_:null}doClassValidation_(e){if(e===null)return null;var t=this.getSourceBlock();if(!t)throw new rn;return t=Ou(t.workspace,e),t?(t=t.type,this.typeIsAllowed_(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new rn;this.variable_=Ou(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed_(e){const t=this.getVariableTypes_();if(!t)return!0;for(let i=0;i<t.length;i++)if(e===t[i])return!0;return!1}getVariableTypes_(){var e=this.variableTypes;if(e===null&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],e.length===0)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes_(e=null,t=""){if(Array.isArray(e)){let i=!1;for(let a=0;a<e.length;a++)e[a]===t&&(i=!0);if(!i)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(e!==null)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType_=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===Qd){lf(this.sourceBlock_.workspace,this.variable_);return}if(e===Br){this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId());return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Mt(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var i=this.getVariableTypes_(),a=0;a<i.length;a++){const p=this.sourceBlock_.workspace.getVariablesOfType(i[a]);t=t.concat(p)}for(t.sort(Va.compareByName),i=[],a=0;a<t.length;a++)i[a]=[t[a].name,t[a].getId()];return i.push([Ve.RENAME_VARIABLE,Qd]),Ve.DELETE_VARIABLE&&i.push([Ve.DELETE_VARIABLE.replace("%1",e),Br]),i}};Sn("field_variable",Si);var Vo=class{constructor(e,t,i,a){this.workspace=e,this.targetWorkspace=t,this.isLabel_=a,this.onMouseUpWrapper_=null,this.height=this.width=0,this.svgText_=this.svgGroup_=null,this.text_=i.text,this.position_=new ge(0,0),this.callbackKey_=i.callbackKey||i.callbackkey,this.cssClass_=i["web-class"]||null,this.info=i}createDom(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=J(U.G,{class:e},this.workspace.getCanvas());let t;this.isLabel_||(t=J(U.RECT,{class:"blocklyFlyoutButtonShadow",rx:Vo.BORDER_RADIUS,ry:Vo.BORDER_RADIUS,x:1,y:1},this.svgGroup_)),e=J(U.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Vo.BORDER_RADIUS,ry:Vo.BORDER_RADIUS},this.svgGroup_);const i=J(U.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);var a=Mt(this.text_);this.workspace.RTL&&(a+="‏"),i.textContent=a,this.isLabel_&&(this.svgText_=i,this.workspace.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));const p=ii(i,"fontSize"),v=ii(i,"fontWeight"),C=ii(i,"fontFamily");if(this.width=na(i,p,v,C),a=ra(a,p,v,C),this.height=a.height,!this.isLabel_){this.width+=2*Vo.TEXT_MARGIN_X,this.height+=2*Vo.TEXT_MARGIN_Y;let M;(M=t)==null||M.setAttribute("width",String(this.width));let ie;(ie=t)==null||ie.setAttribute("height",String(this.height))}return e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),i.setAttribute("x",String(this.width/2)),i.setAttribute("y",String(this.height/2-a.height/2+a.baseline)),this.updateTransform_(),this.onMouseUpWrapper_=De(this.svgGroup_,"pointerup",this,this.onMouseUp_),this.svgGroup_}show(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")}updateTransform_(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")}moveTo(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()}isLabel(){return this.isLabel_}getPosition(){return this.position_}getButtonText(){return this.text_}getTargetWorkspace(){return this.targetWorkspace}dispose(){this.onMouseUpWrapper_&&_t(this.onMouseUpWrapper_),this.svgGroup_&&st(this.svgGroup_),this.svgText_&&this.workspace.getThemeManager().unsubscribe(this.svgText_)}onMouseUp_(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace.getButtonCallback(this.callbackKey_)?this.isLabel_||(e=this.targetWorkspace.getButtonCallback(this.callbackKey_))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)}};Vo.TEXT_MARGIN_X=5,Vo.TEXT_MARGIN_Y=2,Vo.BORDER_RADIUS=4,co(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var mm=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,i=0;return e&&(t=e.getWidth(),i=e.getHeight()),new On(t,i)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0;const t=this.getToolboxMetrics(),i=this.getFlyoutMetrics(!0),a=!!this.workspace_.getToolbox(),p=!!this.workspace_.getFlyout(!0);var v=a?t.position:i.position,C=v===Xe.LEFT;return v=v===Xe.TOP,a&&C?e=t.width:p&&C&&(e=i.width),C=0,a&&v?C=t.height:p&&v&&(C=i.height),{top:C,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),i=this.getToolboxMetrics(),a=this.getFlyoutMetrics(!0),p=this.workspace_.getToolbox()?i.position:a.position;return this.workspace_.getToolbox()?p===Xe.TOP||p===Xe.BOTTOM?t.height-=i.height:(p===Xe.LEFT||p===Xe.RIGHT)&&(t.width-=i.width):this.workspace_.getFlyout(!0)&&(p===Xe.TOP||p===Xe.BOTTOM?t.height-=a.height:(p===Xe.LEFT||p===Xe.RIGHT)&&(t.width-=a.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),i=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const a={};return i||(a.top=e.top,a.bottom=e.top+e.height),t||(a.left=e.left,a.right=e.left+e.width),a}getPaddedContent_(e,t){const i=t.top+t.height,a=t.left+t.width,p=e.width;e=e.height;const v=p/2,C=e/2;return{top:Math.min(t.top-C,i-e),bottom:Math.max(i+C,t.top+e),left:Math.min(t.left-v,a-p),right:Math.max(a+v,t.left+p)}}getScrollMetrics(e,t,i){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var a=i||this.getContentMetrics();i=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,a),a=i.top!==void 0?i.top:t.top;const p=i.left!==void 0?i.left:t.left;return{top:a/e,left:p/e,width:((i.right!==void 0?i.right:t.right)-p)/e,height:((i.bottom!==void 0?i.bottom:t.bottom)-a)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),i=this.getSvgMetrics(),a=this.getAbsoluteMetrics(),p=this.getViewMetrics(),v=this.getContentMetrics(),C=this.getScrollMetrics(!1,p,v);return{contentHeight:v.height,contentWidth:v.width,contentTop:v.top,contentLeft:v.left,scrollHeight:C.height,scrollWidth:C.width,scrollTop:C.top,scrollLeft:C.left,viewHeight:p.height,viewWidth:p.width,viewTop:p.top,viewLeft:p.left,absoluteTop:a.top,absoluteLeft:a.left,svgHeight:i.height,svgWidth:i.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};s(ve.METRICS_MANAGER,Qr,mm);var Mv=class extends mm{constructor(e,t){super(e),this.flyout_=t}getBoundingBox_(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,i){return t=i||this.getContentMetrics(),i=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*i)/e,width:(t.width+t.left+i)/e,top:0,left:0}}},_m=class{constructor(e,t,i,a,p){this.workspace=e,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,t=t===void 0?!0:t,i=i===void 0?!0:i;const v=t&&i;t&&(this.hScroll=new zt(e,!0,v,a,p)),i&&(this.vScroll=new zt(e,!1,v,a,p)),v&&(this.corner_=J(U.RECT,{height:zt.scrollbarThickness,width:zt.scrollbarThickness,class:"blocklyScrollbarBackground"}),tn(this.corner_,e.getBubbleCanvas()))}dispose(){st(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,i=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(i=!0)):i=t=!0,t||i){try{ee(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&i&&this.vScroll.resize(e)}finally{Z()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft){let a;(a=this.corner_)==null||a.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteTop!==e.absoluteTop){let a;(a=this.corner_)==null||a.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,i){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(i||i===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},Bv=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new ge(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){I()&&I().unselect(),this.workspace.setupDragSurface()}endDrag(e){this.drag(e),this.workspace.resetDragSurface()}drag(e){if(e=ge.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled_)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},Pv=5,Fv=6,Ii=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY_=new ge(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.hasExceededDragRadius_=!1,this.boundEvents=[],this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=null,this.isMultiTouch_=this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.cachedPoints=new Map,this.startDistance_=this.previousScale_=0,this.currentDropdownOwner=this.isPinchZoomEnabled_=null,this.mostRecentEvent_=e,this.currentDragDeltaXY_=new ge(0,0),this.healStack_=!Ti}dispose(){oi(),te(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)_t(e);this.boundEvents.length=0,this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose()}updateFromEvent_(e){const t=new ge(e.clientX,e.clientY);this.updateDragDelta_(t)&&(this.updateIsDragging_(),ri()),this.mostRecentEvent_=e}updateDragDelta_(e){return this.currentDragDeltaXY_=ge.difference(e,this.mouseDownXY_),this.hasExceededDragRadius_?!1:this.hasExceededDragRadius_=ge.magnitude(this.currentDragDeltaXY_)>(this.flyout_?o.config$$module$build$src$core$config.flyoutDragRadius:o.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout_(){let e;if(!this.targetBlock_||(e=this.flyout_)==null||!e.isBlockCreatable(this.targetBlock_))return!1;if(!this.flyout_.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout_.isScrollable()||this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)?(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),be()||se(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0):!1}updateIsDraggingBubble_(){return this.startBubble_?(this.startDraggingBubble_(),!0):!1}updateIsDraggingBlock_(){if(!this.targetBlock_)return!1;if(this.flyout_){if(this.updateIsDraggingFromFlyout_())return this.startDraggingBlock_(),!0}else if(this.targetBlock_.isMovable())return this.startDraggingBlock_(),!0;return!1}updateIsDraggingWorkspace_(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new Bv(this.startWorkspace_),this.workspaceDragger_.startDrag())}updateIsDragging_(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()}startDraggingBlock_(){this.blockDragger_=new(E(ve.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)}startDraggingBubble_(){if(!this.startBubble_)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger_=new Dv(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,aa(e)?this.cancel():(this.hasStarted_=!0,Ta(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=Wh(),this.startWorkspace_.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,oe(),this.targetBlock_&&this.targetBlock_.select(),Hi(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&hf(e,this),this.mouseDownXY_=new ge(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(De(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(De(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(De(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&ri())}handleMove(e){this.isDragging()&&Nu(e)||!this.isMultiTouch()?(this.updateFromEvent_(e),this.workspaceDragger_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.bubbleDragger_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),ri())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!Nu(e))return;if(this.updateFromEvent_(e),ri(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.bubbleDragger_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.endDrag(e,this.currentDragDeltaXY_):this.workspaceDragger_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e)}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=sa(e);this.cachedPoints.set(t,this.getTouchPoint(e));var i=Array.from(this.cachedPoints.keys());i.length===2&&(t=this.cachedPoints.get(i[0]),i=this.cachedPoints.get(i[1]),this.startDistance_=ge.distance(t,i),this.isMultiTouch_=!0,e.preventDefault())}handleTouchMove(e){const t=sa(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled_&&this.cachedPoints.size===2?this.handlePinch_(e):this.handleMove(e)}handlePinch_(e){var t=Array.from(this.cachedPoints.keys()),i=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),i=ge.distance(i,t)/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){if(t=i-this.previousScale_,t=0<t?t*Pv:t*Fv,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const a=this.startWorkspace_,p=ll(e,a.getParentSvg(),a.getInverseScreenCTM());a.zoom(p.x,p.y,t)}this.previousScale_=i,e.preventDefault()}handleTouchEnd(e){e=sa(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale_=0)}getTouchPoint(e){return this.startWorkspace_?new ge(e.pageX,e.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(ri(),this.bubbleDragger_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.workspaceDragger_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())}handleRightClick(e){this.targetBlock_?(this.bringBlockToFront_(),this.targetBlock_.workspace.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(t),this.mostRecentEvent_=e,this.doStart(e)}fireWorkspaceClick_(e){ce(new(we(Fo))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e}handleBubbleStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e}doBubbleClick_(){this.startBubble_ instanceof Jn&&(this.startBubble_.setFocus(),this.startBubble_.select())}doFieldClick_(){if(!this.startField_)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField_&&this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()}doBlockClick_(){if(this.flyout_&&this.flyout_.autoClose){if(!this.targetBlock_)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock_.isEnabled()&&(be()||se(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump())}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");const e=new(we(Fo))(this.startBlock_,this.startWorkspace_.id,"block");ce(e)}this.bringBlockToFront_(),se(!1)}doWorkspaceClick_(e){e=this.creatorWorkspace,I()&&I().unselect(),this.fireWorkspaceClick_(this.startWorkspace_||e)}bringBlockToFront_(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()}setStartField(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)}setStartBubble(e){this.startBubble_||(this.startBubble_=e)}setStartBlock(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))}setTargetBlock_(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e}setStartWorkspace_(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout_(e){this.flyout_||(this.flyout_=e)}isBubbleClick_(){return!!this.startBubble_&&!this.hasExceededDragRadius_}isBlockClick_(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()}isFieldClick_(){return(this.startField_?this.startField_.isClickable():!1)&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)}isWorkspaceClick_(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_}isDragging(){return!!this.workspaceDragger_||!!this.blockDragger_||!!this.bubbleDragger_}hasStarted(){return this.hasStarted_}getInsertionMarkers(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]}getCurrentDragger(){let e,t;return(t=(e=this.blockDragger_)!=null?e:this.workspaceDragger_)!=null?t:this.bubbleDragger_}static inProgress(){const e=D();for(let t=0,i;i=e[t];t++)if(i.currentGesture_)return!0;return!1}},vm=class{constructor(e,t){this.pattern=e;let i;this.spacing=(i=t.spacing)!=null?i:0;let a;this.length=(a=t.length)!=null?a:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let p;this.snapToGrid=(p=t.snap)!=null?p:!1}shouldSnap(){return this.snapToGrid}getSpacing(){return this.spacing}getPatternId(){return this.pattern.id}update(e){var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`),t=Math.floor(this.spacing/2)+.5;let i=t-this.length/2,a=t+this.length/2;t*=e,i*=e,a*=e,this.setLineAttributes(this.line1,e,i,a,t,t),this.setLineAttributes(this.line2,e,t,t,i,a)}setLineAttributes(e,t,i,a,p,v){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${i}`),e.setAttribute("y1",`${p}`),e.setAttribute("x2",`${a}`),e.setAttribute("y2",`${v}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}static createDom(e,t,i){e=J(U.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},i);let a,p;if(0<((a=t.length)!=null?a:1)&&0<((p=t.spacing)!=null?p:0)){J(U.LINE,{stroke:t.colour},e);let v;(v=t.length)!=null&&v&&J(U.LINE,{stroke:t.colour},e)}else J(U.LINE,{},e);return e}},pr=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap_=null,this.variablePrefix_=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap_=null}setVariableMap(e){this.variableMap_=e}getNameForUserVariable_(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=kh(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),o.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let i=e;t===o.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable_(e))&&(i=e),e=i.toLowerCase();const a=t===o.NameType$$module$build$src$core$names.VARIABLE||t===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix_:"";this.db.has(t)||this.db.set(t,new Map);const p=this.db.get(t);return p.has(e)?a+p.get(e):(t=this.getDistinctName(i,t),p.set(e,t.substr(a.length)),t)}getUserNames(e){let t;return(e=(t=this.db.get(e))==null?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName_(e);let i=null,a,p;for(;this.dbReverse.has(e+((a=i)!=null?a:""))||this.reservedWords.has(e+((p=i)!=null?p:""));)i=i?i+1:2;let v;return e+=(v=i)!=null?v:"",this.dbReverse.add(e),(t===o.NameType$$module$build$src$core$names.VARIABLE||t===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix_:"")+e}safeName_(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".indexOf(e[0])!==-1&&(e="my_"+e)):e=Ve.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}};(function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"})(pr||(pr={})),o.NameType$$module$build$src$core$names=pr.NameType,pr.DEVELOPER_VARIABLE_TYPE=o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,o.module$build$src$core$names={},o.module$build$src$core$names.NameType=o.NameType$$module$build$src$core$names,o.module$build$src$core$names.Names=pr;var Gv=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t?this:(super.set(e,t),pd(t)&&t.startPublishing(),this)}delete(e){const t=this.get(e);return e=super.delete(e),e&&(pd(t)&&t.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},ip,bm;ip="PROCEDURE",bm="x",o.module$build$src$core$procedures={},o.module$build$src$core$procedures.CATEGORY_NAME=ip,o.module$build$src$core$procedures.DEFAULT_ARG=bm,o.module$build$src$core$procedures.ObservableProcedureMap=Gv,o.module$build$src$core$procedures.allProcedures=Aa,o.module$build$src$core$procedures.findLegalName=_l,o.module$build$src$core$procedures.flyoutCategory=Ms,o.module$build$src$core$procedures.getCallers=gd,o.module$build$src$core$procedures.getDefinition=O0,o.module$build$src$core$procedures.isNameUsed=tg,o.module$build$src$core$procedures.isProcedureBlock=Ls,o.module$build$src$core$procedures.mutateCallers=D0,o.module$build$src$core$procedures.mutatorOpenListener=rg,o.module$build$src$core$procedures.rename=x0;var Ry=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},F=new Ry,Ri=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=F.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Vc=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=F.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(F.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(F.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(F.isSpacer(t))return t}return null}},$m=class extends Vc{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=F.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,i=0;for(let a=0;a<this.elements.length;a++){const p=this.elements[a];t+=p.width,F.isSpacer(p)||(F.isNextConnection(p)?i=Math.max(i,p.height):e=Math.max(e,p.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+i,this.descenderHeight=i,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},Ml=class extends Ri{constructor(e,t){super(e),this.connectionModel=t,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.type|=F.CONNECTION}},ds=class extends Ml{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=F.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},sp=class extends ds{constructor(e,t){super(e,t),this.height=0,this.type|=F.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},Bl=class extends Ri{constructor(e,t,i){super(e),this.field=t,this.parentInput=i,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=F.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},ym=class extends Ri{constructor(e){super(e),this.type|=F.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},Uv=class extends Ri{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.isVisible=t.isVisible(),this.type|=F.ICON,e=t.getCorrectedSize(),this.height=e.height,this.width=e.width}},ro=class extends Ri{constructor(e,t){super(e),this.type=this.type|F.SPACER|F.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Em=class extends ds{constructor(e,t){super(e,t),this.type|=F.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},Wc=class extends ds{constructor(e,t){super(e,t),this.type|=F.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},wm=class extends Vc{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=F.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const i=this.elements[t];this.width+=i.width,F.isInput(i)&&i instanceof ds&&(F.isStatementInput(i)&&i instanceof Wc?e+=i.connectedBlockWidth:F.isExternalInput(i)&&i instanceof sp&&i.connectedBlockWidth!==0&&(e+=i.connectedBlockWidth-i.connectionWidth)),F.isSpacer(i)||(this.height=Math.max(this.height,i.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},Hv=class extends Ri{constructor(e){super(e),this.type|=F.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},Vv=class extends Ml{constructor(e,t){super(e,t),this.type|=F.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Wv=class extends Ml{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=F.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},zv=class extends Ml{constructor(e,t){super(e,t),this.type|=F.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Pl=class extends Ri{constructor(e,t){super(e),this.type=(t&&t!=="left"?F.RIGHT_ROUND_CORNER:F.LEFT_ROUND_CORNER)|F.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},lp=class extends Vc{constructor(e,t,i){super(e),this.height=t,this.width=i,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|F.SPACER|F.BETWEEN_ROW_SPACER,this.elements=[new ro(this.constants_,i)]}measure(){}},ou=class extends Ri{constructor(e,t){super(e),this.type=(t&&t!=="left"?F.RIGHT_SQUARE_CORNER:F.LEFT_SQUARE_CORNER)|F.CORNER,this.width=this.height=this.constants_.NO_PADDING}},km=class extends Vc{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=F.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,i=e.getPreviousBlock();return!!e.outputConnection||t||(i?i.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,i=0;for(let a=0;a<this.elements.length;a++){const p=this.elements[a];t+=p.width,F.isSpacer(p)||(F.isHat(p)&&p instanceof ym?i=Math.max(i,p.ascenderHeight):e=Math.max(e,p.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+i,this.capline=this.ascenderHeight=i,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},zc=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs_=null,this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=Nt(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const i in t)this.blockStyles[i]=this.validatedBlockStyle_(t[i]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=ra("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.indexOf("auto_")===0?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=cl(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?cl(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?cl(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return ai("#fff",e,.6)||e}generateTertiaryColour_(e){return ai("#fff",e,.3)||e}dispose(){this.embossFilter_&&st(this.embossFilter_),this.disabledPattern_&&st(this.disabledPattern_),this.debugFilter_&&st(this.debugFilter_),this.cssNode_=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,i=Zi([Le(t,e/4),Le(2*-t,e/2),Le(t,e/4)]);return{height:e,width:t,path:i}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,i=Tr("c",[Le(30,-e),Le(70,-e),Le(t,0)]);return{height:e,width:t,path:i}}makePuzzleTab(){function e(v){v=v?-1:1;const C=-v;var M=i/2;const ie=M+2.5,ke=M+.5,sn=Le(-t,v*M);return M=Le(t,v*M),Tr("c",[Le(0,v*ie),Le(-t,C*ke),sn])+Tr("s",[Le(t,2.5*C),M])}const t=this.TAB_WIDTH,i=this.TAB_HEIGHT,a=e(!0),p=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:i,pathDown:p,pathUp:a}}makeNotch(){function e(C){return Zi([Le(C*a,i),Le(3*C,0),Le(C*a,-i)])}const t=this.NOTCH_WIDTH,i=this.NOTCH_HEIGHT,a=(t-3)/2,p=e(1),v=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:i,pathLeft:p,pathRight:v}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=Xt("a","0 0,0",e,Le(-e,e)),i=Xt("a","0 0,0",e,Le(e,e));return{width:e,height:e,pathTop:t,pathBottom:i}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=Nt(0,e)+Xt("a","0 0,1",e,Le(e,-e)),i=Xt("a","0 0,1",e,Le(e,e)),a=Xt("a","0 0,1",e,Le(-e,-e)),p=Xt("a","0 0,1",e,Le(-e,e));return{topLeft:t,topRight:i,bottomRight:p,bottomLeft:a,rightHeight:e}}shapeFor(e){switch(e.type){case Ce.INPUT_VALUE:case Ce.OUTPUT_VALUE:return this.PUZZLE_TAB;case Ce.PREVIOUS_STATEMENT:case Ce.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,i){this.injectCSS_(t,i),this.defs_=J(U.DEFS,{},e),e=J(U.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs_),J(U.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=J(U.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),J(U.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),J(U.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),J(U.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter_=e,e=J(U.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs_),J(U.RECT,{width:10,height:10,fill:"#aaa"},e),J(U.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern_=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter_){const e=J(U.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs_),t=J(U.FECOMPONENTTRANSFER,{result:"outBlur"},e);J(U.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),J(U.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),J(U.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);const i=t.join(`
`);this.cssNode_?this.cssNode_.firstChild.textContent=i:(t=document.createElement("style"),t.id=e,e=document.createTextNode(i),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode_=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},jv=!1,fr=class{constructor(e){this.constants=e,this.debugElements_=[],this.svgRoot_=null,this.randomColour_=""}clearElems(){for(let e=0;e<this.debugElements_.length;e++)st(this.debugElements_[e]);this.debugElements_=[]}drawSpacerRow(e,t,i){if(fr.config.rowSpacers){var a=Math.abs(e.height),p=0>e.height;p&&(t-=a),this.debugElements_.push(J(U.RECT,{class:"rowSpacerRect blockRenderDebug",x:i?-(e.xPos+e.width):e.xPos,y:t,width:e.width,height:a,stroke:p?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}}drawSpacerElem(e,t,i){if(fr.config.elemSpacers){t=Math.abs(e.width);var a=0>e.width,p=a?e.xPos-t:e.xPos;i&&(p=-(p+t)),this.debugElements_.push(J(U.RECT,{class:"elemSpacerRect blockRenderDebug",x:p,y:e.centerline-e.height/2,width:t,height:e.height,stroke:"pink",fill:a?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}}drawRenderedElem(e,t){if(fr.config.elems){let i=e.xPos;t&&(i=-(i+e.width)),t=e.centerline-e.height/2,this.debugElements_.push(J(U.RECT,{class:"rowRenderingRect blockRenderDebug",x:i,y:t,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),F.isField(e)&&e instanceof Bl&&e.field instanceof cs&&this.debugElements_.push(J(U.RECT,{class:"rowRenderingRect blockRenderDebug",x:i,y:t+this.constants.FIELD_TEXT_BASELINE,width:e.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}F.isInput(e)&&e instanceof ds&&fr.config.connections&&this.drawConnection(e.connectionModel)}drawConnection(e){if(fr.config.connections){var t="",i=0,a="";e.type===Ce.INPUT_VALUE?(i=4,t="magenta",a="none"):e.type===Ce.OUTPUT_VALUE?(i=2,a=t="magenta"):e.type===Ce.NEXT_STATEMENT?(i=4,t="goldenrod",a="none"):e.type===Ce.PREVIOUS_STATEMENT&&(i=2,a=t="goldenrod"),this.debugElements_.push(J(U.CIRCLE,{class:"blockRenderDebug",cx:e.getOffsetInBlock().x,cy:e.getOffsetInBlock().y,r:i,fill:a,stroke:t},this.svgRoot_))}}drawRenderedRow(e,t,i){fr.config.rows&&(this.debugElements_.push(J(U.RECT,{class:"elemRenderingRect blockRenderDebug",x:i?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),F.isTopOrBottomRow(e)||fr.config.connectedBlockBounds&&this.debugElements_.push(J(U.RECT,{class:"connectedBlockWidth blockRenderDebug",x:i?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}drawRowWithElements(e,t,i){for(let a=0;a<e.elements.length;a++){const p=e.elements[a];p?F.isSpacer(p)?this.drawSpacerElem(p,e.height,i):this.drawRenderedElem(p,i):console.warn("A row has an undefined or null element.",e,p)}this.drawRenderedRow(e,t,i)}drawBoundingBox(e){if(fr.config.blockBounds){var t=e.RTL?-e.width:0;this.debugElements_.push(J(U.RECT,{class:"blockBoundingBox blockRenderDebug",x:t,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),fr.config.connectedBlockBounds&&(t=e.RTL?-e.widthWithChildren:0,this.debugElements_.push(J(U.RECT,{class:"blockRenderDebug",x:t,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}}drawDebug(e,t){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);let i=0;for(let a=0;a<t.rows.length;a++){const p=t.rows[a];F.isBetweenRowSpacer(p)?this.drawSpacerRow(p,i,t.RTL):this.drawRowWithElements(p,i,t.RTL),i+=p.height}e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),t.rightSide&&this.drawRenderedElem(t.rightSide,t.RTL),this.drawBoundingBox(t),this.drawRender(e.pathObject.svgPath)}drawRender(e){fr.config.render&&(e.setAttribute("filter","url(#"+this.constants.debugFilterId+")"),setTimeout(function(){e.setAttribute("filter","")},100))}};fr.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0};var jc=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){if(this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),vl()){let e;(e=this.block_.renderingDebugger)==null||e.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}hideHiddenIcons_(){for(let e=0,t;t=this.info_.hiddenIcons[e];e++){let i;(i=t.icon.iconGroup_)==null||i.setAttribute("display","none")}}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=Nt(e.xPos,this.info_.startY);for(let i=0,a;a=t[i];i++)F.isLeftRoundedCorner(a)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:F.isRightRoundedCorner(a)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:F.isPreviousConnection(a)&&a instanceof Ml?this.outlinePath_+=a.shape.pathLeft:F.isHat(a)?this.outlinePath_+=this.constants_.START_HAT.path:F.isSpacer(a)&&(this.outlinePath_+=Te("h",a.width));this.outlinePath_+=Te("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+Te("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const i=md(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=Te("H",t.xPos+t.width)+i+Te("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var i=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+Te("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var a=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=Te("H",i)+t+Te("v",a)+this.constants_.INSIDE_CORNERS.pathBottom+Te("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=Te("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let i=0,a="";for(let p=t.length-1,v;v=t[p];p--)F.isNextConnection(v)&&v instanceof Ml?a+=v.shape.pathRight:F.isLeftSquareCorner(v)?a+=Te("H",e.xPos):F.isLeftRoundedCorner(v)?a+=this.constants_.OUTSIDE_CORNERS.bottomLeft:F.isRightRoundedCorner(v)?(a+=this.constants_.OUTSIDE_CORNERS.bottomRight,i=this.constants_.OUTSIDE_CORNERS.rightHeight):F.isSpacer(v)&&(a+=Te("h",-1*v.width));this.outlinePath_+=Te("V",e.baseline-i),this.outlinePath_+=a}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=md(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=Te("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let i=0,a;a=t.elements[i];i++)F.isInlineInput(a)?this.drawInlineInput_(a):(F.isIcon(a)||F.isField(a))&&this.layoutField_(a)}layoutField_(e){const t=F.isField(e)?e.field.getSvgRoot():e.icon.iconGroup_,i=e.centerline-e.height/2;let a=e.xPos,p="";this.info_.RTL&&(a=-(a+e.width),e.flipRtl&&(a+=e.width,p="scale(-1 1)")),F.isIcon(e)?(t.setAttribute("display","block"),t.setAttribute("transform","translate("+a+","+i+")"),e.icon.computeIconLocation()):t.setAttribute("transform","translate("+a+","+i+")"+p),this.info_.isInsertionMarker&&t.setAttribute("display","none")}drawInlineInput_(e){const t=e.width,i=e.height,a=e.connectionOffsetY,p=e.connectionHeight+a;this.inlinePath_+=Gn(e.xPos+e.connectionWidth,e.centerline-i/2)+Te("v",a)+e.shape.pathDown+Te("v",i-p)+Te("h",t-e.connectionWidth)+Te("v",-i)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let i=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(i*=-1),e.connectionModel.setOffsetInBlock(i,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let i=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(i*=-1),t.connectionModel.setOffsetInBlock(i,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let i=e.xPos+e.width;this.info_.RTL&&(i*=-1),t.connectionModel.setOffsetInBlock(i,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,i=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-i:i,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}},iu=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new Wv(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new km(this.constants_),this.bottomRow=new $m(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new wm(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let i=0,a;a=t[i];i++){const p=new Uv(this.constants_,a);this.isCollapsed&&a.collapseHidden?this.hiddenIcons.push(p):e.elements.push(p)}t=void 0;for(let i=0,a;a=this.block_.inputList[i];i++)if(a.isVisible()){this.shouldStartNewRow_(a,t)&&(this.rows.push(e),e=new wm(this.constants_),this.inputRows.push(e));for(let p=0,v;v=a.fieldRow[p];p++)e.elements.push(new Bl(this.constants_,v,a));this.addInput_(a,e),t=a}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new Hv(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let i=this.topRow.hasLeftSquareCorner(this.block_)?ou:Pl;this.topRow.elements.push(new i(this.constants_)),t?(e=new ym(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new zv(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type===et.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,i=this.topRow.hasRightSquareCorner(this.block_)?ou:Pl,this.topRow.elements.push(new i(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===et.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new ou(this.constants_)):this.bottomRow.elements.push(new Pl(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new Vv(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new ou(this.constants_,"right")):this.bottomRow.elements.push(new Pl(this.constants_,"right"))}addInput_(e,t){this.isInline&&e.type===et.VALUE?(t.elements.push(new Em(this.constants_,e)),t.hasInlineInput=!0):e.type===et.STATEMENT?(t.elements.push(new Wc(this.constants_,e)),t.hasStatement=!0):e.type===et.VALUE?(t.elements.push(new sp(this.constants_,e)),t.hasExternalInput=!0):e.type===et.DUMMY&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),t.align===null&&(t.align=e.align)}shouldStartNewRow_(e,t){return t?e.type===et.STATEMENT||t.type===et.STATEMENT?!0:e.type===et.VALUE||e.type===et.DUMMY?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){const i=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new ro(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(let a=0;a<i.length-1;a++){t.elements.push(i[a]);const p=this.getInRowSpacing_(i[a],i[a+1]);t.elements.push(new ro(this.constants_,p))}t.elements.push(i[i.length-1]),t.endsWithElemSpacer()&&t.elements.push(new ro(this.constants_,this.getInRowSpacing_(i[i.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&F.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&F.isInput(e)&&!t){if(F.isExternalInput(e))return this.constants_.NO_PADDING;if(F.isInlineInput(e))return this.constants_.LARGE_PADDING;if(F.isStatementInput(e))return this.constants_.NO_PADDING}return e&&F.isLeftSquareCorner(e)&&t&&(F.isPreviousConnection(t)||F.isNextConnection(t))?t.notchOffset:e&&F.isLeftRoundedCorner(e)&&t&&(F.isPreviousConnection(t)||F.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,i=0;for(let p=0,v;v=this.rows[p];p++){if(v.measure(),t=Math.max(t,v.width),v.hasStatement){var a=v.getLastInput();let C,M;a=v.width-((M=(C=a)==null?void 0:C.width)!=null?M:0),e=Math.max(e,a)}i=Math.max(i,v.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let p=0,v;v=this.rows[p];p++)v.hasStatement&&(v.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,i),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,i;i=this.rows[t];t++)if(i.hasStatement)this.alignStatementRow_(i);else{var e=i.width;e=this.getDesiredRowWidth_(i)-e,0<e&&this.addAlignmentPadding_(i,e),F.isTopOrBottomRow(i)&&(i.widthWithConnectedBlocks=i.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const i=e.getFirstSpacer(),a=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===o.Align$$module$build$src$core$input.LEFT&&a)a.width+=t;else if(e.align===o.Align$$module$build$src$core$input.CENTRE&&i&&a)i.width+=t/2,a.width+=t/2;else if(e.align===o.Align$$module$build$src$core$input.RIGHT&&i)i.width+=t;else if(a)a.width+=t;else return;e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var i=e.width-t.width,a=this.statementEdge;i=a-i,0<i&&this.addAlignmentPadding_(e,i),i=e.width,a=this.getDesiredRowWidth_(e),t.width+=a-i,t.height=Math.max(t.height,e.height),e.width+=a-i,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var i=this.getSpacerRowHeight_(e,t);const a=this.getSpacerRowWidth_(e,t);return i=new lp(this.constants_,i,a),e.hasStatement&&(i.followsStatement=!0),t.hasStatement&&(i.precedesStatement=!0),i}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return F.isSpacer(t)?e.yPos+t.height/2:F.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,F.isNextConnection(t)?e+t.height/2:e-t.height/2):F.isTopRow(e)?F.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let i=0,a;a=e.elements[i];i++)F.isSpacer(a)&&(a.height=e.height),a.xPos=t,a.centerline=this.getElemCenterline_(e,a),t+=a.width}finalize_(){let e=0,t=0;for(let i=0,a;a=this.rows[i];i++)a.yPos=t,a.xPos=this.startX,t+=a.height,e=Math.max(e,a.widthWithConnectedBlocks),this.recordElemPositions_(a);if(this.outputConnection&&this.block_.nextConnection){const i=this.block_.nextConnection.targetBlock();i&&(e=Math.max(e,i.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}},xy="blocklyCursor",Fr="blocklyMarker",Tm=.75,Cm=class{constructor(e,t,i){this.workspace=e,this.marker=i,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent_=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=i.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return this.marker.type==="cursor"}createDom(){const e=this.isCursor()?xy:Fr;return this.svgGroup_=J(U.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var i=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||i,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent_(e,t),e=this.currentMarkerSvg.childNodes[0],e!==void 0&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const t=e.getLocation().type;e.getType()===ue.types.BLOCK?this.showWithBlock_(e):e.getType()===ue.types.OUTPUT?this.showWithOutput_(e):t===Ce.INPUT_VALUE?this.showWithInput_(e):t===Ce.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===ue.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===ue.types.FIELD?this.showWithField_(e):e.getType()===ue.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===ue.types.STACK&&this.showWithStack_(e)}showWithBlockPrevOutput_(e){e=e.getSourceBlock();const t=e.width;var i=e.height,a=i*Tm;const p=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(i=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,p,a,i)):e.outputConnection?(a=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,i,a)):this.positionBlock_(t,p,a),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput_(e)}showWithPrevious_(e){this.showWithBlockPrevOutput_(e)}showWithOutput_(e){this.showWithBlockPrevOutput_(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){e=e.getLocation();const t=e.getSize().width,i=e.getSize().height;this.positionRect_(0,0,t,i),this.setParent_(e),this.showCurrent_()}showWithInput_(e){e=e.getLocation();const t=e.getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let i=0;t=t.getOffsetInBlock().y;const a=e.getHeightWidth().width;this.workspace.RTL&&(i=-a),this.positionLine_(i,t,a),this.setParent_(e),this.showCurrent_()}showWithStack_(e){e=e.getLocation();var t=e.getHeightWidth();const i=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;const a=-this.constants_.CURSOR_STACK_PADDING/2,p=-this.constants_.CURSOR_STACK_PADDING/2;let v=a;this.workspace.RTL&&(v=-(i+a)),this.positionRect_(v,p,i,t),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,i){if(e=Nt(-t,i)+Te("V",-t)+Te("H",e+2*t)+Te("V",i),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const t=e.getOffsetInBlock().x,i=e.getOffsetInBlock().y;e=Gn(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+i+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,i){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${t}`),this.markerSvgLine_.setAttribute("width",`${i}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,i){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=Nt(e,0)+Te("h",-(e-i.width))+Te("v",this.constants_.TAB_OFFSET_FROM_TOP)+i.pathDown+Te("V",t)+Te("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,i,a){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=Nt(-t,i)+Te("V",-t)+Te("H",this.constants_.NOTCH_OFFSET_LEFT)+a.pathLeft+Te("H",e+2*t)+Te("V",i),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,i,a){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${t}`),this.markerSvgRect_.setAttribute("width",`${i}`),this.markerSvgRect_.setAttribute("height",`${a}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl_(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent_(e,t){const i=t.getSourceBlock();e=new(we(mi))(i,this.isCursor(),e,t),ce(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=J(U.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=J(U.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=J(U.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=J(U.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=J(U.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){const e=this.getBlinkProperties_();J(U.ANIMATE,e,this.markerSvgLine_),J(U.ANIMATE,e,this.markerInput_),J(U.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&st(this.svgGroup_)}},ap=class{constructor(e,t,i){this.markerSvg=this.cursorSvg=null,this.constants=i,this.style=t,this.svgRoot=e,this.svgPath=J(U.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?ye(this.svgRoot,e):Oe(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}},Xc=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){const i=this.getConstants();i.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=i.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new zc}makeRenderInfo_(e){return new iu(this,e)}makeDrawer_(e,t){return new jc(e,t)}makeDebugger_(){return new fr(this.getConstants())}makeMarkerDrawer(e,t){return new Cm(e,this.getConstants(),t)}makePathObject(e,t){return new ap(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,i){return!!gt.getConnectionForOrphanedConnection(e,i===Ce.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,i){return t.type===Ce.OUTPUT_VALUE||t.type===Ce.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(i,e.targetBlock(),t.type)?no.PREVIEW_TYPE.INSERTION_MARKER:no.PREVIEW_TYPE.REPLACEMENT_FADE:no.PREVIEW_TYPE.INSERTION_MARKER}render(e){vl()&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},$t={};$t.BottomRow=$m,$t.Connection=Ml,$t.ConstantProvider=zc,$t.Debug=fr,$t.Drawer=jc,$t.ExternalValueInput=sp,$t.Field=Bl,$t.Hat=ym,$t.Icon=Uv,$t.InRowSpacer=ro,$t.InlineInput=Em,$t.InputConnection=ds,$t.InputRow=wm,$t.JaggedEdge=Hv,$t.MarkerSvg=Cm,$t.Measurable=Ri,$t.NextConnection=Vv,$t.OutputConnection=Wv,$t.PathObject=ap,$t.PreviousConnection=zv,$t.RenderInfo=iu,$t.Renderer=Xc,$t.RoundCorner=Pl,$t.Row=Vc,$t.SpacerRow=lp,$t.SquareCorner=ou,$t.StatementInput=Wc,$t.TopRow=km,$t.Types=F,$t.init=_d,$t.register=Bs,$t.stopDebugger=ig,$t.unregister=og;var up=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&Oe(e,t),(t=this.theme.getClassName())&&ye(e,t));for(let i=0,a;a=this.subscribedWorkspaces_[i];i++)a.refreshTheme();for(const[i,a]of this.componentDB)for(const p of a){e=p.element,t=p.propertyName;const v=this.theme&&this.theme.getComponentStyle(i);e.style.setProperty(t,v||"")}for(const i of this.subscribedWorkspaces_)i.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces_.push(e)}unsubscribeWorkspace(e){if(!je(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,i){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:i}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(i,t||"")}unsubscribe(e){if(e)for(const[t,i]of this.componentDB){for(let a=i.length-1;0<=a;a--)i[a].element===e&&i.splice(a,1);i.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces_.length=0,this.componentDB.clear()}},Sm="VARIABLE_DYNAMIC",xi={};xi.CATEGORY_NAME=Sm,xi.flyoutCategory=dc,xi.flyoutCategoryBlocks=lg,xi.onCreateVariableButtonClick_Colour=vd,xi.onCreateVariableButtonClick_Number=sg,xi.onCreateVariableButtonClick_String=Da;var Im=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.name!==t){var i=this.getVariable(t,e.type),a=this.workspace.getAllBlocks(!1),p=be();p||se(!0);try{i&&i.getId()!==e.getId()?this.renameVariableWithConflict_(e,t,i,a):this.renameVariableAndUses_(e,t,a)}finally{se(p)}}}renameVariableById(e,t){const i=this.getVariableById(e);if(!i)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(i,t)}renameVariableAndUses_(e,t,i){for(ce(new(we(eo))(e,t)),e.name=t,t=0;t<i.length;t++)i[t].updateVarName(e)}renameVariableWithConflict_(e,t,i,a){const p=e.type;for(t!==i.name&&this.renameVariableAndUses_(i,t,a),t=0;t<a.length;t++)a[t].renameVarById(e.getId(),i.getId());ce(new(we(Fa))(e)),je(this.variableMap.get(p),e)}createVariable(e,t,i){var a=this.getVariable(e,t);if(a){if(i&&a.getId()!==i)throw Error('Variable "'+e+'" is already in use and its id is "'+a.getId()+'" which conflicts with the passed in id, "'+i+'".');return a}if(i&&this.getVariableById(i))throw Error('Variable id, "'+i+'", is already in use.');return a=i||xe(),t=t||"",a=new Va(this.workspace,e,t,a),e=this.variableMap.get(t)||[],e.push(a),this.variableMap.delete(t),this.variableMap.set(t,e),ce(new(we(bl))(a)),a}deleteVariable(e){const t=e.getId(),i=this.variableMap.get(e.type);if(i){for(let a=0;a<i.length;a++)if(i[a].getId()===t){i.splice(a,1),ce(new(we(Fa))(e)),i.length===0&&this.variableMap.delete(e.type);break}}}deleteVariableById(e){const t=this.getVariableById(e);if(t){var i=t.name;const a=this.getVariableUsesById(e);for(let p=0,v;v=a[p];p++)if(v.type==="procedures_defnoreturn"||v.type==="procedures_defreturn"){e=String(v.getFieldValue("NAME")),i=Ve.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",i).replace("%2",e),ol(i);return}1<a.length?(i=Ve.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(a.length)).replace("%2",i),oa(i,p=>{p&&t&&this.deleteVariableInternal(t,a)})):this.deleteVariableInternal(t,a)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){const i=be();i||se(!0);try{for(let a=0;a<t.length;a++)t[a].dispose(!0);this.deleteVariable(e)}finally{se(i)}}getVariable(e,t){if(t=this.variableMap.get(t||"")){for(let i=0,a;a=t[i];i++)if(pr.equals(a.name,e))return a}return null}getVariableById(e){for(const t of this.variableMap.values())for(const i of t)if(i.getId()===e)return i;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const i of e.getPotentialVariableMap().variableMap.keys())t.add(i);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){const t=[],i=this.workspace.getAllBlocks(!1);for(let a=0;a<i.length;a++){const p=i[a].getVarModels();if(p)for(let v=0;v<p.length;v++)p[v].getId()===e&&t.push(i[a])}return t}},Yc=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new Gv,this.potentialVariableMap=null,this.id=xe(),L(this),this.options=e||new Ho({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(E(ve.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new Im(this)}dispose(){this.listeners.length=0,this.clear(),N(this)}sortObjects_(e,t){const i=Math.sin(fa(Yc.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+i*e.x-(t.y+i*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!je(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e){const t=[].concat(this.topBlocks);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){je(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&e.sort(this.sortObjects_.bind(this)),e.filter(function(i){return!i.isInsertionMarker()})):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!je(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e){const t=[].concat(this.topComments);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}getAllBlocks(e){if(e){var t=this.getTopBlocks(!0);e=[];for(let i=0;i<t.length;i++)e.push(...t[i].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(function(i){return!i.isInsertionMarker()})}clear(){this.isClearing=!0;try{const e=be();for(e||se(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();se(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,i){return this.variableMap.createVariable(e,t,i)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const i in e){if(e[i]>this.remainingCapacityOfType(i))return!1;t+=e[i]}return!(t>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,i=e?this.undoStack_:this.redoStack_;const a=t.pop();if(a){for(var p=[a];t.length&&a.group&&a.group===t[t.length-1].group;){const v=t.pop();v&&p.push(v)}for(t=0;t<p.length;t++)i.push(p[t]);p=Y(p,e),Se(!1);try{for(i=0;i<p.length;i++)p[i].run(e)}finally{Se(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,Q()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){je(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return(t=this.commentDB.get(e))!=null?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let i=0;i<t.length;i++)if(!t[i].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new Im(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}static getById(e){return S(e)}static getAll(){return D()}};Yc.SCAN_ANGLE=3;var Ay=100,Xv=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound_=null}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var i=new globalThis.Audio}catch{return}for(let p=0;p<e.length;p++){const v=e[p],C=v.match(/\.(\w+)$/);if(C&&i.canPlayType("audio/"+C[1])){var a=new globalThis.Audio(v);break}}a&&this.sounds.set(t,a)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(t!==void 0?t.then(e.pause).catch(function(){}):e.pause(),Wa||sv)break}}play(e,t){var i=this.sounds.get(e);i?(e=new Date,this.lastSound_!==null&&e.getTime()-this.lastSound_.getTime()<Ay||(this.lastSound_=e,i=Wa||Gd?i:i.cloneNode(),i.volume=t===void 0?1:t,i.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}},Ai;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(Ai||(Ai={}));var su;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(su||(su={}));var Xs;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Xs||(Xs={}));var Fl={};Fl.bumpDirection=Xs,Fl.bumpPositionRect=Oa,Fl.getCornerOppositeToolbox=bd,Fl.getStartPositionRect=pc,Fl.horizontalPosition=su,Fl.verticalPosition=Ai;var Vn={width:96,height:124,url:"sprites.png"},cp=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=J(U.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[on.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&st(this.svgGroup);for(const e of this.boundEvents)_t(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new Yt(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var i=bd(this.workspace,e),a=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(a+=this.LARGE_SPACING+this.HEIGHT),e=pc(i,new On(this.WIDTH,a),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),i=i.vertical,t=Oa(e,this.MARGIN_VERTICAL,i===Ai.TOP?Xs.DOWN:Xs.UP,t),i===Ai.TOP){var p=this.SMALL_SPACING+this.HEIGHT,v;(v=this.zoomInGroup)==null||v.setAttribute("transform","translate(0, "+p+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(p+this.LARGE_SPACING+this.HEIGHT)+")")}else{v=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let M;(M=this.zoomInGroup)==null||M.setAttribute("transform","translate(0, "+v+")"),v=v+this.SMALL_SPACING+this.HEIGHT,(p=this.zoomOutGroup)==null||p.setAttribute("transform","translate(0, "+v+")")}this.top=t.top,this.left=t.left;var C;(C=this.svgGroup)==null||C.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=J(U.G,{class:"blocklyZoom"},this.svgGroup);const t=J(U.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);J(U.RECT,{width:32,height:32},t),J(U.IMAGE,{width:Vn.width,height:Vn.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(Rr,"xlink:href",this.workspace.options.pathToMedia+Vn.url),this.boundEvents.push(De(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=J(U.G,{class:"blocklyZoom"},this.svgGroup);const t=J(U.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);J(U.RECT,{width:32,height:32},t),J(U.IMAGE,{width:Vn.width,height:Vn.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(Rr,"xlink:href",this.workspace.options.pathToMedia+Vn.url),this.boundEvents.push(De(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),oi(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=J(U.G,{class:"blocklyZoom"},this.svgGroup);const t=J(U.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);J(U.RECT,{width:32,height:32},t),J(U.IMAGE,{width:Vn.width,height:Vn.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(Rr,"xlink:href",this.workspace.options.pathToMedia+Vn.url),this.boundEvents.push(De(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),oi(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(we(Fo))(null,this.workspace.id,"zoom_controls");ce(e)}};co(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var Dy=20,Wo=class extends Yc{constructor(e,t,i){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.workspaceDragSurface=this.blockDragSurface=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.isDragSurfaceActive=!1,this.inverseScreenCTM=this.targetWorkspace=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=null,this.metricsManager=new(E(ve.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||Wo.setTopLevelWorkspaceMetrics_,this.componentManager=new on,this.connectionDBList=tu.init(this.connectionChecker),t&&(this.blockDragSurface=t),i&&(this.workspaceDragSurface=i),this.useWorkspaceDragSurface=!!this.workspaceDragSurface,this.audioManager=new Xv(e.parentWorkspace),this.grid=this.options.gridPattern?new vm(this.options.gridPattern,e.gridOptions):null,this.markerManager=new Sc(this),o.module$build$src$core$variables&&Th&&this.registerToolboxCategoryCallback(Tl,Th),xi&&dc&&this.registerToolboxCategoryCallback(Sm,dc),o.module$build$src$core$procedures&&Ms&&(this.registerToolboxCategoryCallback(ip,Ms),this.addChangeListener(rg)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new up(this,this.options.theme||Kd),this.themeManager_.subscribeWorkspace(this);let a;this.renderer=_d(this.options.renderer||"geras",this.getTheme(),(a=this.options.rendererOverrides)!=null?a:void 0),this.cachedParentSvgSize=new On(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Kd),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(t){return!!t.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(we(Go))(this.getTheme().name,this.id);ce(e)}updateBlockStyles_(e){for(let t=0,i;i=e[t];t++){const a=i.getStyleName();if(a){const p=i;p.setStyle(a),p.mutator&&p.mutator.updateBlockStyle()}}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(e){let t=0,i=0,a=1;(ks(this.getCanvas(),e)||ks(this.getBubbleCanvas(),e))&&(a=this.scale);do{const p=wr(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(a=1),t+=p.x*a,i+=p.y*a,e=e.parentNode}while(e&&e!==this.getParentSvg());return new ge(t,i)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new On(e.width,e.height)}getOriginOffsetInPixels(){return Fu(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getBlockCanvas(){return this.svgBlockCanvas_}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e){return this.svgGroup_=J(U.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=J(U.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=J(U.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=J(U.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(De(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),document.body.addEventListener("wheel",function(){}),De(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(E(ve.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=E(ve.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&st(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&st(e.parentNode)}this.resizeHandlerWrapper&&(_t(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null)}addTrashcan(){this.trashcan=Wo.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new cp(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const t=new Ho({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(E(ve.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(E(ve.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(on.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),i=[];for(let a=0,p;p=e[a];a++){p.position(t,i);const v=p.getBoundingRectangle();v&&i.push(v)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const e=ha();ge.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}getCanvas(){return this.svgBlockCanvas_}setCachedParentSvgSize(e,t){const i=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,i.setAttribute("data-cached-width",`${e}`)),t!=null&&(this.cachedParentSvgSize.height=t,i.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.svgBubbleCanvas_}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(_e()){var e=this.scale,t=-this.scrollY,i=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(i-this.oldLeft))){var a=new(we(El))(t,i,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=i,ce(a)}}}translate(e,t){if(this.useWorkspaceDragSurface&&this.isDragSurfaceActive){var i;(i=this.workspaceDragSurface)==null||i.translateSurface(e,t)}else i="translate("+e+","+t+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",i),this.svgBubbleCanvas_.setAttribute("transform",i);this.blockDragSurface&&this.blockDragSurface.translateAndScaleGroup(e,t,this.scale),this.grid&&this.grid.moveTo(e,t),this.maybeFireViewportChangeEvent()}resetDragSurface(){if(this.useWorkspaceDragSurface){this.isDragSurfaceActive=!1;var e=this.workspaceDragSurface.getSurfaceTranslation();this.workspaceDragSurface.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}}setupDragSurface(){if(this.useWorkspaceDragSurface&&!this.isDragSurfaceActive){this.isDragSurfaceActive=!0;var e=this.svgBlockCanvas_.previousSibling,t,i=parseInt((t=this.getParentSvg().getAttribute("width"))!=null?t:"0"),a;t=parseInt((a=this.getParentSvg().getAttribute("height"))!=null?a:"0"),a=wr(this.getCanvas()),this.workspaceDragSurface.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),e,i,t,this.scale),this.workspaceDragSurface.translateSurface(a.x,a.y)}}getBlockDragSurface(){return this.blockDragSurface}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){e=this.getAllBlocks(!1);for(let t=e.length-1;0<=t;t--)e[t].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else this.hideChaff(!0)}render(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1);this.markerManager.updateMarkers()}highlightBlock(e,t){if(t===void 0){for(let i=0,a;a=this.highlightedBlocks[i];i++)a.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=t===void 0||t)?this.highlightedBlocks.indexOf(e)===-1&&this.highlightedBlocks.push(e):je(this.highlightedBlocks,e),e.setHighlighted(t))}paste(e){if(!this.rendered||!e.type&&!e.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();const t=be();t||se(!0);let i;try{i=e.type?this.pasteBlock_(null,e):e.tagName.toLowerCase()==="comment"?this.pasteWorkspaceComment_(e):this.pasteBlock_(e,null)}finally{se(t)}return i}pasteBlock_(e,t){ee();let i;try{let a=0,p=0;if(e){i=al(e,this);let v;a=parseInt((v=e.getAttribute("x"))!=null?v:"0"),this.RTL&&(a=-a);let C;p=parseInt((C=e.getAttribute("y"))!=null?C:"0")}else t&&(i=Wi(t,this),a=t.x||10,this.RTL&&(a=this.getWidth()-a),p=t.y||10);if(!isNaN(a)&&!isNaN(p)){let v;do{v=!1;const C=this.getAllBlocks(!1);for(let M=0,ie;ie=C[M];M++){const ke=ie.getRelativeToSurfaceXY();if(1>=Math.abs(a-ke.x)&&1>=Math.abs(p-ke.y)){v=!0;break}}if(!v){const M=i.getConnections_(!1);for(let ie=0,ke;ke=M[ie];ie++)if(ke.closest(o.config$$module$build$src$core$config.snapRadius,new ge(a,p)).connection){v=!0;break}}v&&(a=this.RTL?a-o.config$$module$build$src$core$config.snapRadius:a+o.config$$module$build$src$core$config.snapRadius,p+=2*o.config$$module$build$src$core$config.snapRadius)}while(v);i.moveTo(new ge(a,p))}}finally{Z()}return _e()&&!i.isShadow()&&ce(new(we(Dn))(i)),i.select(),i}pasteWorkspaceComment_(e){ee();let t;try{t=Jn.fromXmlRendered(e,this);let i,a=parseInt((i=e.getAttribute("x"))!=null?i:"0"),p,v=parseInt((p=e.getAttribute("y"))!=null?p:"0");isNaN(a)||isNaN(v)||(this.RTL&&(a=-a),t.moveBy(a+50,v+50))}finally{Z()}return _e()&&vi.fireCreateEvent(t),t.select(),t}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,i){return e=super.createVariable(e,t,i),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(on.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,i;i=e[t];t++){const a=i.getClientRect();a&&this.dragTargetAreas.push({component:i,clientRect:a})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,i;i=this.dragTargetAreas[t];t++)if(i.clientRect.contains(e.clientX,e.clientY))return i.component;return null}onMouseDown_(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){e=ll(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,this.dragDeltaXY=ge.difference(t,e)}moveDrag(e){return e=ll(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,ge.sum(this.dragDeltaXY,e)}isDragging(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel_(e){if(Ii.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,i=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||i){var a=Mu(e);if(Ig)var p=e.metaKey;t&&(e.ctrlKey||p||!i)?(a=-a.y/50,t=ll(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,a)):(t=this.scrollX-a.x,i=this.scrollY-a.y,e.shiftKey&&!a.x&&(t=this.scrollX-a.y,i=this.scrollY),this.scroll(t,i)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new Yt(0,0,0,0);const t=e[0].getBoundingRectangle();for(let a=1;a<e.length;a++){var i=e[a];i.isInsertionMarker&&i.isInsertionMarker()||(i=i.getBoundingRectangle(),i.top<t.top&&(t.top=i.top),i.bottom>t.bottom&&(t.bottom=i.bottom),i.left<t.left&&(t.left=i.left),i.right>t.right&&(t.right=i.right))}return t}cleanUp(){this.setResizesEnabled(!1),se(!0);const e=this.getTopBlocks(!0);let t=0;for(let i=0,a;a=e[i];i++){if(!a.isMovable())continue;const p=a.getRelativeToSurfaceXY();a.moveBy(-p.x,t-p.y),a.snapToGrid(),t=a.getRelativeToSurfaceXY().y+a.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}se(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=bt.registry.getContextMenuOptions(bt.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),cc(e,t,this.RTL)}}updateToolbox(e){if(e=vn(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(ic(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(k(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,i){i=Math.pow(this.options.zoomOptions.scaleSpeed,i);const a=this.scale*i;if(this.scale!==a){a>this.options.zoomOptions.maxScale?i=this.options.zoomOptions.maxScale/this.scale:a<this.options.zoomOptions.minScale&&(i=this.options.zoomOptions.minScale/this.scale);var p=this.getCanvas().getCTM(),v=this.getParentSvg().createSVGPoint();v.x=e,v.y=t,v=v.matrixTransform(p.inverse()),e=v.x,t=v.y,p=p.translate(e*(1-i),t*(1-i)).scale(i),this.scrollX=p.e,this.scrollY=p.f,this.setScale(a)}}zoomCenter(e){var t=this.getMetrics();let i;this.flyout?(i=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(i=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(i,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var i=this.getBlocksBoundingBox(),a=2*Dy,p=i.right-i.left+a;if(i=i.bottom-i.top+a,p){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),i+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),p+=this.flyout.getWidth()/this.scale)),t/=p,e/=i,ee();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{Z()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){ye(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),ye(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")}endCanvasTransition(){Oe(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),Oe(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,i=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,i=-i-e.scrollTop,this.scroll(t,i)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var i=e?this.getBlockById(e):null;if(i){e=i.getRelativeToSurfaceXY(),i=t?{height:i.height,width:i.width}:i.getHeightWidth();var a=this.scale;t=(e.x+(this.RTL?-1:1)*i.width/2)*a,e=(e.y+i.height/2)*a,i=this.getMetrics(),this.scroll(-(t-i.viewWidth/2),-(e-i.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);const i=this.getMetrics();e=Math.min(e,-i.scrollLeft),t=Math.min(t,-i.scrollTop);const a=i.scrollTop+Math.max(0,i.scrollHeight-i.viewHeight);e=Math.max(e,-(i.scrollLeft+Math.max(0,i.scrollWidth-i.viewWidth))),t=Math.max(t,-a),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+i.scrollLeft),-(t+i.scrollTop),!1),e+=i.absoluteLeft,t+=i.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e){return super.getAllBlocks(e)}getTopBlocks(e){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){je(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if(typeof t!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return(t=this.flyoutButtonCallbacks.get(e))!=null?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if(typeof t!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const t=e.type==="pointerdown",i=this.currentGesture_;return i?t&&i.hasStarted()?(console.warn("Tried to start the same gesture twice."),i.cancel(),null):i:t?this.currentGesture_=new Ii(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e){V(),po(),ho();const t=!!e;this.getComponentManager().getComponents(on.Capability.AUTOHIDEABLE,!0).forEach(i=>i.autoHide(t))}static setTopLevelWorkspaceMetrics_(e){const t=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},lu;(function(e){e.BLOCK="block",e.BUTTON="button"})(lu||(lu={}));var hp=class extends rp{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper_=this.reflowWrapper_=null,this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.recycledBlocks_=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible_=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Wo(e),this.workspace_.setMetricsManager(new Mv(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=xe(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=J(e,{class:"blocklyFlyout",style:"display: none"}),this.svgBackground_=J(U.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new _m(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(De(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),this.boundEvents.push(De(this.svgBackground_,"pointerdown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[on.Capability.DELETE_AREA,on.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)_t(e);this.boundEvents.length=0,this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&(st(this.svgGroup_),this.svgGroup_=null),this.svgBackground_=null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}isVisible(){return this.isVisible_}setVisible(e){const t=e!==this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())}setContainerVisible(e){const t=e!==this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()}updateDisplay_(){let e;e=this.containerVisible_?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let t;(t=this.workspace_.scrollbar)==null||t.setContainerVisible(e)}positionAt_(e,t,i,a){let p;(p=this.svgGroup_)==null||p.setAttribute("width",`${e}`);let v;(v=this.svgGroup_)==null||v.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&Er(this.svgGroup_,"translate("+i+"px,"+a+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(i,a),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const e of this.listeners_)_t(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),typeof e=="string"&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=oc(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_),this.emptyRecycledBlocks_()}createFlyoutInfo_(e){const t=[],i=[];this.permanentlyDisabled_.length=0;const a=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const p of e){if("custom"in p){e=this.getDynamicCategoryContents_(p.custom),e=oc(e);const{contents:v,gaps:C}=this.createFlyoutInfo_(e);t.push(...v),i.push(...C)}switch(p.kind.toUpperCase()){case"BLOCK":e=p;const v=this.createFlyoutBlock_(e);t.push({type:lu.BLOCK,block:v}),this.addBlockGap_(e,i,a);break;case"SEP":this.addSeparatorGap_(p,i,a);break;case"LABEL":e=this.createButton_(p,!0),t.push({type:lu.BUTTON,button:e}),i.push(a);break;case"BUTTON":e=this.createButton_(p,!1),t.push({type:lu.BUTTON,button:e}),i.push(a)}}return{contents:t,gaps:i}}getDynamicCategoryContents_(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton_(e,t){return new Vo(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock_(e){let t;return e.blockxml?(e=typeof e.blockxml=="string"?it(e.blockxml):e.blockxml,(t=this.getRecycledBlock_(e.getAttribute("type")))||(t=al(e,this.workspace_))):(t=this.getRecycledBlock_(e.type),t||(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),t=Wi(e,this.workspace_))),t.isEnabled()||this.permanentlyDisabled_.push(t),t}getRecycledBlock_(e){let t=-1;for(let i=0;i<this.recycledBlocks_.length;i++)if(this.recycledBlocks_[i].type===e){t=i;break}return t===-1?void 0:this.recycledBlocks_.splice(t,1)[0]}addBlockGap_(e,t,i){let a;e.gap?a=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?it(e.blockxml):e.blockxml,a=parseInt(e.getAttribute("gap"))),t.push(!a||isNaN(a)?i:a)}addSeparatorGap_(e,t,i){e=parseInt(String(e.gap)),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(i)}clearOldBlocks_(){var e=this.workspace_.getTopBlocks(!1);for(let i=0,a;a=e[i];i++)this.blockIsRecyclable_(a)?this.recycleBlock_(a):a.dispose(!1,!1);for(e=0;e<this.mats_.length;e++){const i=this.mats_[e];i&&(Of(i),st(i))}this.mats_.length=0;for(let i=0,a;a=this.buttons_[i];i++)a.dispose();this.buttons_.length=0;let t;(t=this.workspace_.getPotentialVariableMap())==null||t.clear()}emptyRecycledBlocks_(){for(let e=0;e<this.recycledBlocks_.length;e++)this.recycledBlocks_[e].dispose();this.recycledBlocks_=[]}blockIsRecyclable_(e){return!1}recycleBlock_(e){const t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks_.push(e)}addBlockListeners_(e,t,i){this.listeners_.push(De(e,"pointerdown",null,this.blockMouseDown_(t))),this.listeners_.push(De(i,"pointerdown",null,this.blockMouseDown_(t))),this.listeners_.push(Yn(e,"pointerenter",t,t.addSelect)),this.listeners_.push(Yn(e,"pointerleave",t,t.removeSelect)),this.listeners_.push(Yn(i,"pointerenter",t,t.addSelect)),this.listeners_.push(Yn(i,"pointerleave",t,t.removeSelect))}blockMouseDown_(e){return t=>{const i=this.targetWorkspace.getGesture(t);i&&(i.setStartBlock(e),i.handleFlyoutStart(t,this))}}onMouseDown_(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;ee();var i=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock_(e)}finally{Z()}if(this.targetWorkspace.hideChaff(),e=Ih(this.targetWorkspace,i),_e()){for(se(!0),i=0;i<e.length;i++){const a=e[i];ce(new(we(bl))(a))}ce(new(we(Dn))(t))}return this.autoClose?this.hide():this.filterForCapacity_(),t}initFlyoutButton_(e,t,i){const a=e.createDom();e.moveTo(t,i),e.show(),this.listeners_.push(De(a,"pointerdown",this,this.onMouseDown_)),this.buttons_.push(e)}createRect_(e,t,i,a,p){return t=J(U.RECT,{"fill-opacity":0,x:t,y:i,height:a.height,width:a.width}),t.tooltip=e,Ju(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats_[p]=t}moveRectToBlock_(e,t){const i=t.getHeightWidth();e.setAttribute("width",String(i.width)),e.setAttribute("height",String(i.height)),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",String(t.y)),e.setAttribute("x",String(this.RTL?t.x-i.width:t.x))}filterForCapacity_(){const e=this.workspace_.getTopBlocks(!1);for(let t=0,i;i=e[t];t++)if(this.permanentlyDisabled_.indexOf(i)===-1){const a=this.targetWorkspace.isCapacityAvailable(K(i));for(;i;)i.setEnabled(a),i=i.getNextBlock()}}reflow(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock_(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");const i=Ao(e);return t.setResizesEnabled(!1),t=Wi(i,t),this.positionNewBlock_(e,t),t}positionNewBlock_(e,t){const i=this.targetWorkspace;var a=i.getOriginOffsetInPixels(),p=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),p=ge.sum(p,e),a=ge.difference(p,a),a.scale(1/i.scale),t.moveTo(new ge(a.x,a.y))}};hp.FlyoutItemType=lu;var Yv=class extends hp{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),i=t.getScrollMetrics(),a=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(i.left+(i.width-a.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),i=e.getViewMetrics();e=e.getToolboxMetrics();const a=this.toolboxPosition_===Xe.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?a?e.height:i.height-this.height_:a?0:i.height:a?0:i.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath_(e,t){const i=this.toolboxPosition_===Xe.TOP,a=["M 0,"+(i?0:this.CORNER_RADIUS)];i?(a.push("h",e+2*this.CORNER_RADIUS),a.push("v",t),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("h",-e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),a.push("h",e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("v",t),a.push("h",-e-2*this.CORNER_RADIUS)),a.push("z"),this.svgBackground_.setAttribute("d",a.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var t=Mu(e);if(t=t.x||t.y){const i=this.workspace_.getMetricsManager(),a=i.getScrollMetrics();t=i.getViewMetrics().left-a.left+t;let p;(p=this.workspace_.scrollbar)==null||p.setX(t),po(),ho()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;const i=this.MARGIN;let a=i+this.tabWidth_;this.RTL&&(e=e.reverse());for(let M=0,ie;ie=e[M];M++)if(ie.type==="block"){var p=ie.block,v=p.getDescendants(!1);for(let sn=0,ln;ln=v[sn];sn++)ln.isInFlyout=!0;p.render(),v=p.getSvgRoot();const ke=p.getHeightWidth();var C=p.outputConnection?this.tabWidth_:0;C=this.RTL?a+ke.width:a-C,p.moveBy(C,i),C=this.createRect_(p,C,i,ke,M),a+=ke.width+t[M],this.addBlockListeners_(v,p,C)}else ie.type==="button"&&(p=ie.button,this.initFlyoutButton_(p,a,i),a+=p.width+t[M])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Xe.TOP?new Yt(-1e9,t+e.height,-1e9,1e9):new Yt(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const t=this.workspace_.getTopBlocks(!1);for(let a=0,p;p=t[a];a++)e=Math.max(e,p.getHeightWidth().height);const i=this.buttons_;for(let a=0,p;p=i[a];a++)e=Math.max(e,p.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=zt.scrollbarThickness,this.height_!==e){for(let a=0,p;p=t[a];a++)this.rectMap_.has(p)&&this.moveRectToBlock_(this.rectMap_.get(p),p);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==Xe.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.recordDragTargets()}}};s(ve.FLYOUTS_HORIZONTAL_TOOLBOX,Qr,Yv);var Rm=class extends hp{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),i=t.getScrollMetrics(),a=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(i.top+(i.height-a.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),i=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Xe.LEFT?e.width:i.width-this.width_:this.toolboxPosition_===Xe.LEFT?0:i.width:this.toolboxPosition_===Xe.LEFT?0:i.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath_(e,t){const i=this.toolboxPosition_===Xe.RIGHT;var a=e+this.CORNER_RADIUS;a=["M "+(i?a:0)+",0"],a.push("h",i?-e:e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,i?0:1,i?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("v",Math.max(0,t)),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,i?0:1,i?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("h",i?e:-e),a.push("z"),this.svgBackground_.setAttribute("d",a.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var t=Mu(e);if(t.y){const i=this.workspace_.getMetricsManager(),a=i.getScrollMetrics();t=i.getViewMetrics().top-a.top+t.y;let p;(p=this.workspace_.scrollbar)==null||p.setY(t),po(),ho()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var i=this.MARGIN;const a=this.RTL?i:i+this.tabWidth_;for(let M=0,ie;ie=e[M];M++)if(ie.type==="block"){var p=ie.block,v=p.getDescendants(!1);for(let sn=0,ln;ln=v[sn];sn++)ln.isInFlyout=!0;p.render(),v=p.getSvgRoot();const ke=p.getHeightWidth();var C=p.outputConnection?a-this.tabWidth_:a;p.moveBy(C,i),C=this.createRect_(p,this.RTL?C-ke.width:C,i,ke,M),this.addBlockListeners_(v,p,C),i+=ke.height+t[M]}else ie.type==="button"&&(p=ie.button,this.initFlyoutButton_(p,a,i),i+=p.height+t[M])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Xe.LEFT?new Yt(-1e9,1e9,-1e9,t+e.width):new Yt(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let a=0,p;p=t[a];a++){var i=p.getHeightWidth().width;p.outputConnection&&(i-=this.tabWidth_),e=Math.max(e,i)}for(let a=0,p;p=this.buttons_[a];a++)e=Math.max(e,p.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=zt.scrollbarThickness,this.width_!==e){for(let a=0,p;p=t[a];a++){if(this.RTL){i=p.getRelativeToSurfaceXY().x;let v=e/this.workspace_.scale-this.MARGIN;p.outputConnection||(v-=this.tabWidth_),p.moveBy(v-i,0)}this.rectMap_.has(p)&&this.moveRectToBlock_(this.rectMap_.get(p),p)}if(this.RTL)for(let a=0,p;p=this.buttons_[a];a++)t=p.getPosition().y,p.moveTo(e/this.workspace_.scale-p.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==Xe.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.recordDragTargets()}}};Rm.registryName="verticalFlyout",s(ve.FLYOUTS_VERTICAL_TOOLBOX,Qr,Rm),o.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=w());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let i=0,a;a=e[i];i++){let p=this.blockToCode(a);Array.isArray(p)&&(p=p[0]),p&&(a.outputConnection&&(p=this.scrubNakedValue(p),this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&(p=this.injectId(this.STATEMENT_PREFIX,a)+p),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(p+=this.injectId(this.STATEMENT_SUFFIX,a))),t.push(p))}return t=t.join(`
`),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,`
`),t=t.replace(/[ \t]+\n/g,`
`)}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,`
`+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let i=0;i<e.length;i++){const a=e[i].getCommentText();a&&t.push(a)}return t.length&&t.push(""),t.join(`
`)}blockToCode(e,t){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var i=this[e.type];if(typeof i!="function")throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(i=i.call(e,e),Array.isArray(i)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,i[0],t),i[1]]}if(typeof i=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(i=this.injectId(this.STATEMENT_PREFIX,e)+i),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(i+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,i,t);if(i===null)return"";throw SyntaxError("Invalid code generated: "+i)}valueToCode(e,t,i){if(isNaN(i))throw TypeError("Expecting valid order from block: "+e.type);var a=e.getInputTargetBlock(t);if(!a||(t=this.blockToCode(a),t===""))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${a.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+a.type);if(!e)return"";a=!1;var p=Math.floor(i);const v=Math.floor(t);if(p<=v&&(p!==v||p!==0&&p!==99)){for(a=!0,p=0;p<this.ORDER_OVERRIDES.length;p++)if(this.ORDER_OVERRIDES[p][0]===i&&this.ORDER_OVERRIDES[p][1]===t){a=!1;break}}return a&&(e="("+e+")"),e}statementToCode(e,t){if(e=e.getInputTargetBlock(t),t=this.blockToCode(e),typeof t!="string")throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const i=this.nameDB_.getDistinctName(e,o.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=i,Array.isArray(t)&&(t=t.join(`
`)),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);let a;for(;a!==t;)a=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,i){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},Object.defineProperties(o.CodeGenerator$$module$build$src$core$generator.prototype,{variableDB_:{get(){return l("variableDB_","version 9","version 10","nameDB_"),this.nameDB_},set(e){l("variableDB_","version 9","version 10","nameDB_"),this.nameDB_=e}}}),o.CodeGenerator$$module$build$src$core$generator;var Et=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),(t=e.keyCodes)&&0<t.length)for(let i=0;i<t.length;i++)this.addKeyMapping(t[i],e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,i){e=`${e}`;const a=this.keyMap.get(e);if(a&&!i)throw Error(`Shortcut named "${t}" collides with shortcuts "${a}"`);a&&i?a.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,i){const a=this.keyMap.get(e);if(!a)return i||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const p=a.indexOf(t);return-1<p?(a.splice(p,1),a.length===0&&this.keyMap.delete(e),!0):(i||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,i]of this.keyMap)e[t]=i;return e}getRegistry(){const e=Object.create(null);for(const[t,i]of this.shortcuts)e[t]=i;return Ji(Object.create(null),e)}onKeyDown(e,t){var i=this.serializeKeyEvent_(t);if(i=this.getShortcutNamesByKeyCode(i),!i)return!1;for(let a=0,p;p=i[a];a++){const v=this.shortcuts.get(p);let C,M;if((C=v)==null||!C.preconditionFn||(M=v)!=null&&M.preconditionFn(e)){let ie,ke;if((ie=v)!=null&&ie.callback&&((ke=v)!=null&&ke.callback(e,t,v)))return!0}}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const t=[];for(const[i,a]of this.keyMap)-1<a.indexOf(e)&&t.push(i);return t}serializeKeyEvent_(e){let t="";for(const i in Et.modifierKeys)e.getModifierState(i)&&(t!==""&&(t+="+"),t+=i);return t!==""&&e.keyCode?t=t+"+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers_(e){for(let t=0,i;i=e[t];t++)if(!(i in Et.modifierKeys))throw Error(i+" is not a valid modifier key.")}createSerializedKey(e,t){let i="";if(t){this.checkModifiers_(t);for(const a in Et.modifierKeys)-1<t.indexOf(Et.modifierKeys[a])&&(i!==""&&(i+="+"),i+=a)}return i!==""&&e?i=i+"+"+e:e&&(i=`${e}`),i}};Et.registry=new Et,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(Et||(Et={}));var Kv=class{constructor(e){this.container=e,this.previousSibling=null,this.createDom()}createDom(){this.SVG||(this.SVG=J(U.SVG,{xmlns:Us,"xmlns:html":Uo,"xmlns:xlink":Rr,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"}),this.container.appendChild(this.SVG))}translateSurface(e,t){e=Math.round(e),t=Math.round(t),this.SVG.style.display="block",Er(this.SVG,"translate3d("+e+"px, "+t+"px, 0)")}getSurfaceTranslation(){return wr(this.SVG)}clearAndHide(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");const t=this.SVG.childNodes[0],i=this.SVG.childNodes[1];if(!t||!i||!t.classList.contains("blocklyBlockCanvas")&&i.classList.contains("blocklyBubbleCanvas"))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(this.previousSibling!==null?tn(t,this.previousSibling):e.insertBefore(t,e.firstChild),tn(i,t),this.SVG.style.display="none",this.SVG.childNodes.length)throw Error("Drag surface was not cleared.");Er(this.SVG,""),this.previousSibling=null}setContentsAndShow(e,t,i,a,p,v){if(this.SVG.childNodes.length)throw Error("Already dragging a block.");this.previousSibling=i,e.setAttribute("transform","translate(0, 0) scale("+v+")"),t.setAttribute("transform","translate(0, 0) scale("+v+")"),this.SVG.setAttribute("width",String(a)),this.SVG.setAttribute("height",String(p)),this.SVG.appendChild(e),this.SVG.appendChild(t),this.SVG.style.display="block"}},Jv=!1,qv=class extends zc{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},Zv=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=Nt(e.xPos,this.info_.startY);for(let t=0,i;i=e.elements[t];t++)F.isLeftSquareCorner(i)?this.steps_+=this.highlightConstants_.START_POINT:F.isLeftRoundedCorner(i)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):F.isPreviousConnection(i)?this.steps_+=this.notchPaths_.pathLeft:F.isHat(i)?this.steps_+=this.startPaths_.path(this.RTL_):F.isSpacer(i)&&i.width!==0&&(this.steps_+=Te("H",i.xPos+i.width-this.highlightOffset_));this.steps_+=Te("H",e.xPos+e.width-this.highlightOffset_)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+Te("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const i=e.height-t.connectionHeight;this.steps_+=Gn(t.xPos+t.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+Te("v",i)}else this.steps_+=Gn(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const i=e.height-2*this.insideCornerPaths_.height;this.steps_+=Gn(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+Te("v",i)+this.insideCornerPaths_.pathBottom(this.RTL_)+Cr(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=Gn(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+Cr(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset_;e instanceof lp&&e.followsStatement&&(this.steps_+=Te("H",t)),this.RTL_&&(this.steps_+=Te("H",t),e.height>this.highlightOffset_&&(this.steps_+=Te("V",e.yPos+e.height-this.highlightOffset_)))}drawBottomRow(e){if(this.RTL_)this.steps_+=Te("V",e.baseline-this.highlightOffset_);else{const t=this.info_.bottomRow.elements[0];F.isLeftSquareCorner(t)?this.steps_+=Gn(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):F.isLeftRoundedCorner(t)&&(this.steps_+=Gn(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=Gn(this.info_.startX,e):(this.steps_+=Gn(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=Te("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,F.isLeftRoundedCorner(e.elements[0])?this.steps_+=Te("V",this.outsideCornerPaths_.height):this.steps_+=Te("V",e.capline+this.highlightOffset_))}drawInlineInput(e){const t=this.highlightOffset_,i=e.xPos+e.connectionWidth;var a=e.centerline-e.height/2;const p=e.width-e.connectionWidth,v=a+t;this.RTL_?(a=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=Gn(i-t,v)+Te("v",a)+this.puzzleTabPaths_.pathDown(this.RTL_)+Te("v",e)+Te("h",p)):this.inlineSteps_+=Gn(e.xPos+e.width+t,v)+Te("v",e.height)+Te("h",-p)+Gn(i,a+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Qv=class extends jc{constructor(e,t){super(e,t),this.highlighter_=new Zv(t)}draw(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();const e=this.block_.pathObject;if(e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),vl()){let t,i;(t=this.block_)==null||(i=t.renderingDebugger)==null||i.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=Te("H",e.xPos+e.width)+Te("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let i=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(i*=-1),e.connectionModel.setOffsetInBlock(i,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let i=e.xPos+e.statementEdge+t.notchOffset;i=this.info_.RTL?-1*i:i+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(i,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let i=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(i*=-1),t.connectionModel.setOffsetInBlock(i,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,i=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-i:i)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},eb=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=Nt(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,i=(1-Math.SQRT1_2)*(e+t)-t,a=Nt(i,i)+Xt("a","0 0,0",e,Le(-i-t,e-i)),p=Xt("a","0 0,0",e+t,Le(e+t,e+t)),v=Nt(i,-i)+Xt("a","0 0,0",e+t,Le(e-i,i+t));return{width:e+t,height:e,pathTop(C){return C?a:""},pathBottom(C){return C?p:v}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,i=(1-Math.SQRT1_2)*(e-t)+t,a=Nt(i,i)+Xt("a","0 0,1",e-t,Le(e-i,-i+t)),p=Nt(t,e)+Xt("a","0 0,1",e-t,Le(e,-e+t)),v=-i,C=Nt(i,v)+Xt("a","0 0,1",e-t,Le(-i+t,-v-e));return{height:e,topLeft(M){return M?a:p},bottomLeft(){return C}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,i=Nt(-2,-t+3.4)+Cr(-.45*e,-2.1),a=Te("v",2.5)+Nt(.97*-e,2.5)+Tr("q",[Le(.05*-e,10),Le(.3*e,9.5)])+Nt(.67*e,-1.9)+Te("v",2.5),p=Te("v",-1.5)+Nt(-.92*e,-.5)+Tr("q",[Le(-.19*e,-5.5),Le(0,-11)])+Nt(.92*e,1),v=Nt(-5,t-.7)+Cr(.46*e,-2.1);return{width:e,height:t,pathUp(C){return C?i:p},pathDown(C){return C?a:v}}}makeNotch(){return{pathLeft:Te("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:Cr(5.1,2.6)+Nt(-10.2,6.8)+Cr(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=Nt(25,-8.7)+Tr("c",[Le(29.7,-6.2),Le(57.2,-.5),Le(75,8.7)]),i=Tr("c",[Le(17.8,-9.2),Le(45.3,-14.9),Le(75,-8.7)])+Gn(100.5,e+.5);return{path(a){return a?t:i}}}},tb=class extends Em{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},nb=class extends Wc{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},rb=class extends iu{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===et.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e.type===et.VALUE?(t.elements.push(new tb(this.constants_,e)),t.hasInlineInput=!0):e.type===et.STATEMENT?(t.elements.push(new nb(this.constants_,e)),t.hasStatement=!0):e.type===et.VALUE?(t.elements.push(new sp(this.constants_,e)),t.hasExternalInput=!0):e.type===et.DUMMY&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||t.align!==null||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let i=0,a;a=this.rows[i];i++)a.hasExternalInput&&(e=!0);for(let i=0,a;a=this.rows[i];i++){var t=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new ro(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let p=0;p<t.length-1;p++){a.elements.push(t[p]);const v=this.getInRowSpacing_(t[p],t[p+1]);a.elements.push(new ro(this.constants_,v))}a.elements.push(t[t.length-1]),a.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&a.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),a.elements.push(new ro(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&F.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&F.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&F.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!F.isInput(e)&&(!t||F.isStatementInput(t)))return F.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:F.isIcon(e)?2*this.constants_.LARGE_PADDING+1:F.isHat(e)?this.constants_.NO_PADDING:F.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:F.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:F.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(F.isInput(e)&&!t){if(F.isExternalInput(e))return this.constants_.NO_PADDING;if(F.isInlineInput(e))return this.constants_.LARGE_PADDING;if(F.isStatementInput(e))return this.constants_.NO_PADDING}if(!F.isInput(e)&&t&&F.isInput(t)){if(F.isField(e)&&e.isEditable){if(F.isInlineInput(t)||F.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(F.isInlineInput(t)||F.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(F.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(F.isIcon(e)&&t&&!F.isInput(t))return this.constants_.LARGE_PADDING;if(F.isInlineInput(e)&&t&&F.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(F.isLeftSquareCorner(e)&&t){if(F.isHat(t))return this.constants_.NO_PADDING;if(F.isPreviousConnection(t))return t.notchOffset;if(F.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(F.isLeftRoundedCorner(e)&&t){if(F.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(F.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return F.isField(e)&&t&&F.isField(t)&&e.isEditable===t.isEditable||t&&F.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return F.isTopRow(e)&&F.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:F.isTopRow(e)||F.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(F.isSpacer(t))return e.yPos+t.height/2;if(F.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,F.isNextConnection(t)?e+t.height/2:e-t.height/2;if(F.isTopRow(e))return F.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let i=e.yPos;return F.isField(t)||F.isIcon(t)?(i+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(i+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):i=F.isInlineInput(t)?i+t.height/2:i+e.height/2,i}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,i=null;for(let a=this.rows.length-1,p;p=this.rows[a];a--)t.set(p,e),F.isInputRow(p)&&(p.hasStatement&&this.alignStatementRow_(p),i&&i.hasStatement&&p.width<i.width?t.set(p,i.width):e=p.width,i=p);e=0;for(let a=0,p;p=this.rows[a];a++)p.hasStatement?e=this.getDesiredRowWidth_(p):F.isSpacer(p)?p.width=Math.max(e,t.get(p)):(i=p.width,e=Math.max(e,t.get(p))-i,0<e&&this.addAlignmentPadding_(p,e),e=p.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let a=0,p;p=this.rows[a];a++){p.yPos=t,p.xPos=this.startX,t+=p.height,e=Math.max(e,p.widthWithConnectedBlocks);var i=t-this.topRow.ascenderHeight;p===this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,t+=i),this.recordElemPositions_(p)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(i=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,i.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},ob=class extends ap{constructor(e,t,i){super(e,t,i),this.constants=i,this.colourDark="#000000",this.svgPathDark=J(U.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=J(U.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=ai("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},ib=class extends Xc{constructor(e){super(e),this.highlightConstants_=null}init(e,t){super.init(e,t),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new qv}makeRenderInfo_(e){return new rb(this,e)}makeDrawer_(e,t){return new Qv(e,t)}makePathObject(e,t){return new ob(e,t,this.getConstants())}makeHighlightConstants_(){return new eb(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants_)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants_}};Bs("geras",ib);var Di={};Di.ConstantProvider=qv,Di.Drawer=Qv,Di.HighlightConstantProvider=eb,Di.Highlighter=Zv,Di.InlineInput=tb,Di.PathObject=ob,Di.RenderInfo=rb,Di.Renderer=ib,Di.StatementInput=nb;var sb=class extends zc{constructor(){super()}},lb=class extends jc{constructor(e,t){super(e,t)}},u=class extends iu{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}},h=class extends Xc{constructor(e){super(e)}makeConstants_(){return new sb}makeRenderInfo_(e){return new u(this,e)}makeDrawer_(e,t){return new lb(e,t)}};Bs("minimalist",h);var m={};m.ConstantProvider=sb,m.Drawer=lb,m.RenderInfo=u,m.Renderer=h;var $=class extends iu{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const a=this.rows[t];var i=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new ro(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(let p=0;p<i.length-1;p++){a.elements.push(i[p]);const v=this.getInRowSpacing_(i[p],i[p+1]);a.elements.push(new ro(this.constants_,v))}a.elements.push(i[i.length-1]),a.endsWithElemSpacer()&&(i=this.getInRowSpacing_(i[i.length-1],null),e&&a.hasDummyInput&&(i+=this.constants_.TAB_WIDTH),a.elements.push(new ro(this.constants_,i)))}}}getInRowSpacing_(e,t){if(!e)return t&&F.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&F.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&F.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!F.isInput(e)&&!t)return F.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:F.isIcon(e)?2*this.constants_.LARGE_PADDING+1:F.isHat(e)?this.constants_.NO_PADDING:F.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:F.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:F.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(F.isInput(e)&&!t){if(F.isExternalInput(e))return this.constants_.NO_PADDING;if(F.isInlineInput(e))return this.constants_.LARGE_PADDING;if(F.isStatementInput(e))return this.constants_.NO_PADDING}if(!F.isInput(e)&&t&&F.isInput(t)){if(F.isField(e)&&e.isEditable){if(F.isInlineInput(t)||F.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(F.isInlineInput(t)||F.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(F.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(F.isIcon(e)&&t&&!F.isInput(t))return this.constants_.LARGE_PADDING;if(F.isInlineInput(e)&&t&&F.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(F.isLeftSquareCorner(e)&&t){if(F.isHat(t))return this.constants_.NO_PADDING;if(F.isPreviousConnection(t)||F.isNextConnection(t))return t.notchOffset}return F.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:F.isField(e)&&t&&F.isField(t)&&e.isEditable===t.isEditable||t&&F.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return F.isTopRow(e)&&F.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:F.isTopRow(e)||F.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(F.isSpacer(t))return e.yPos+t.height/2;if(F.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,F.isNextConnection(t)?e+t.height/2:e-t.height/2;if(F.isTopRow(e))return F.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let i=e.yPos;return i=F.isField(t)&&e.hasStatement?i+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):i+e.height/2}finalize_(){let e=0,t=0;for(var i=0;i<this.rows.length;i++){const p=this.rows[i];p.yPos=t,p.xPos=this.startX,t+=p.height,e=Math.max(e,p.widthWithConnectedBlocks);var a=t-this.topRow.ascenderHeight;p===this.bottomRow&&a<this.constants_.MIN_BLOCK_HEIGHT&&(a=this.constants_.MIN_BLOCK_HEIGHT-a,this.bottomRow.height+=a,t+=a),this.recordElemPositions_(p)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(i=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,i.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},T=class extends Xc{constructor(e){super(e)}makeRenderInfo_(e){return new $(this,e)}};Bs("thrasos",T);var A={};A.RenderInfo=$,A.Renderer=T;var B=class extends zc{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter_=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter_&&st(this.selectedGlowFilter_),this.replacementGlowFilter_&&st(this.replacementGlowFilter_)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,i=Tr("c",[Le(25,-e),Le(71,-e),Le(t,0)]);return{height:e,width:t,path:i}}makeHexagonal(){function e(i,a,p){var v=i/2;return v=v>t?t:v,p=p?-1:1,i=(a?-1:1)*i/2,Cr(-p*v,i)+Cr(p*v,i)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(i){return i/=2,i>t?t:i},height(i){return i},connectionOffsetY(i){return i/2},connectionOffsetX(i){return-i},pathDown(i){return e(i,!1,!1)},pathUp(i){return e(i,!0,!1)},pathRightDown(i){return e(i,!1,!0)},pathRightUp(i){return e(i,!1,!0)}}}makeRounded(){function e(a,p,v){const C=a>i?a-i:0;return a=(a>i?i:a)/2,Xt("a","0 0,1",a,Le((p?-1:1)*a,(p?-1:1)*a))+Te("v",(v?1:-1)*C)+Xt("a","0 0,1",a,Le((p?1:-1)*a,(p?-1:1)*a))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,i=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width(a){return a/=2,a>t?t:a},height(a){return a},connectionOffsetY(a){return a/2},connectionOffsetX(a){return-a},pathDown(a){return e(a,!1,!1)},pathUp(a){return e(a,!0,!1)},pathRightDown(a){return e(a,!1,!0)},pathRightUp(a){return e(a,!1,!0)}}}makeSquared(){function e(i,a,p){return i-=2*t,Xt("a","0 0,1",t,Le((a?-1:1)*t,(a?-1:1)*t))+Te("v",(p?1:-1)*i)+Xt("a","0 0,1",t,Le((a?1:-1)*t,(a?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(i){return t},height(i){return i},connectionOffsetY(i){return i/2},connectionOffsetX(i){return-i},pathDown(i){return e(i,!1,!1)},pathUp(i){return e(i,!0,!1)},pathRightDown(i){return e(i,!1,!0)},pathRightUp(i){return e(i,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case Ce.INPUT_VALUE:case Ce.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&t.indexOf("Boolean")!==-1?this.HEXAGONAL:t&&t.indexOf("Number")!==-1?this.ROUNDED:(t&&t.indexOf("String"),this.ROUNDED);case Ce.PREVIOUS_STATEMENT:case Ce.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(ke){return Tr("c",[Le(ke*p/2,0),Le(ke*p*3/4,C/2),Le(ke*p,C)])+Zi([Le(ke*p,v)])+Tr("c",[Le(ke*p/4,C/2),Le(ke*p/2,C),Le(ke*p,C)])+Te("h",ke*a)+Tr("c",[Le(ke*p/2,0),Le(ke*p*3/4,-(C/2)),Le(ke*p,-C)])+Zi([Le(ke*p,-v)])+Tr("c",[Le(ke*p/4,-(C/2)),Le(ke*p/2,-C),Le(ke*p,-C)])}const t=this.NOTCH_WIDTH,i=this.NOTCH_HEIGHT,a=t/3,p=a/3,v=i/2,C=v/2,M=e(1),ie=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:i,pathLeft:M,pathRight:ie}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=Xt("a","0 0,0",e,Le(-e,e)),i=Xt("a","0 0,1",e,Le(-e,e)),a=Xt("a","0 0,0",e,Le(e,e)),p=Xt("a","0 0,1",e,Le(e,e));return{width:e,height:e,pathTop:t,pathBottom:a,rightWidth:e,rightHeight:e,pathTopRight:i,pathBottomRight:p}}generateSecondaryColour_(e){return ai("#000",e,.15)||e}generateTertiaryColour_(e){return ai("#000",e,.25)||e}createDom(e,t,i){super.createDom(e,t,i),e=J(U.DEFS,{},e),t=J(U.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),J(U.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),i=J(U.FECOMPONENTTRANSFER,{result:"outBlur"},t),J(U.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},i),J(U.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),J(U.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter_=t,e=J(U.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),J(U.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=J(U.FECOMPONENTTRANSFER,{result:"outBlur"},e),J(U.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),J(U.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),J(U.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),J(U.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},G=class extends jc{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;if(e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),vl()){let t,i;(t=this.block_)==null||(i=t.renderingDebugger)==null||i.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height))if(F.isSpacer(e)&&(e.precedesStatement||e.followsStatement)){var t=this.constants_.INSIDE_CORNERS.rightHeight;t=e.height-(e.precedesStatement?t:0),this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<t?Te("V",e.yPos+t):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=Te("V",e.yPos+e.height)}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=Nt(e.xPos,this.info_.startY),this.outlinePath_+=Te("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=Te("V",e.baseline),this.outlinePath_+=Te("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var i=e.width-2*e.connectionWidth;e=Gn(e.xPos+e.connectionWidth,e.centerline-e.height/2)+Te("h",i)+e.shape.pathRightDown(e.height)+Te("h",-i)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(t,e)}}drawStatementInput_(e){var t=e.getLastInput();const i=t.xPos+t.notchOffset+t.shape.width,a=t.shape.pathRight+Te("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,p=e.height-2*this.constants_.INSIDE_CORNERS.height;t=this.constants_.INSIDE_CORNERS.pathBottom+Te("h",t.notchOffset-this.constants_.INSIDE_CORNERS.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=Te("H",i)+a+Te("v",p)+t+Te("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}},X=class extends $m{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},le=class extends Wc{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},ae=class extends Ri{constructor(e){super(e),this.width=this.height=0,this.type|=F.getType("RIGHT_CONNECTION")}},he=class extends km{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Ee=class extends iu{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new he(this.constants_),this.bottomRow=new X(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new ae(this.constants_):null,this.rightAlignedDummyInputs_=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return t?e.type===et.STATEMENT||t.type===et.STATEMENT?!0:e.type===et.VALUE||e.type===et.DUMMY?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&F.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&F.isLeftRoundedCorner(e)&&t&&(F.isPreviousConnection(t)||F.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&F.isLeftSquareCorner(e)&&t&&F.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(F.isTopRow(e)&&F.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const i=F.isInputRow(e)&&e.hasStatement,a=F.isInputRow(t)&&t.hasStatement;return a||i?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),a&&i?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):F.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):F.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const i=this.width-this.startX;return F.isInputRow(e)&&e.hasStatement||F.isInputRow(t)&&t.hasStatement?Math.max(i,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):i}getElemCenterline_(e,t){if(e.hasStatement&&!F.isSpacer(t)&&!F.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(F.isInlineInput(t)&&t instanceof ds){const i=t.connectedBlock;if(i&&i.outputConnection&&i.nextConnection)return e.yPos+i.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if(e.type===et.DUMMY&&t.hasDummyInput&&t.align===o.Align$$module$build$src$core$input.LEFT&&e.align===o.Align$$module$build$src$core$input.RIGHT)this.rightAlignedDummyInputs_.set(t,e);else if(e.type===et.STATEMENT){t.elements.push(new le(this.constants_,e)),t.hasStatement=!0,t.align===null&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs_.get(e)){let i;for(let a=0;a<e.elements.length;a++){const p=e.elements[a];if(F.isSpacer(p)&&(i=p),F.isField(p)&&p instanceof Bl&&p.parentInput===this.rightAlignedDummyInputs_.get(e))break}if(i){i.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let p=2;p<this.rows.length-1;p+=2){var i=this.rows[p-1];const v=this.rows[p];var a=this.rows[p+1];if(i=p===2?!!this.topRow.hasPreviousConnection:!!i.followsStatement,a=p+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!a.precedesStatement,F.isInputRow(v)&&v.hasStatement){v.measure();let C,M;t=v.width-((M=(C=v.getLastInput())==null?void 0:C.width)!=null?M:0)+e}else if(i&&(p===2||a)&&F.isInputRow(v)&&!v.hasStatement){a=v.xPos,i=null;for(let C=0;C<v.elements.length;C++){const M=v.elements[C];F.isSpacer(M)&&(i=M),i&&(F.isField(M)||F.isInput(M))&&a<t&&!(F.isField(M)&&M instanceof Bl&&(M.field instanceof cs||M.field instanceof js))&&(i.width+=t-a),a+=M.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,i=0;i<this.rows.length;i++){const a=this.rows[i];a.yPos=t,t+=a.height}this.height=t,i=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(i),i=e.width(i),this.outputConnection.height=t,this.outputConnection.width=i,this.outputConnection.startX=i,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(i),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=i,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=i,this.width+=i+e,this.widthWithChildren+=i+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var i=this.rows[t];if(!F.isInputRow(i))continue;e=i.elements[i.elements.length-2];let a=this.getNegativeSpacing_(i.elements[1]),p=this.getNegativeSpacing_(e);e=a+p;const v=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<v&&(e=this.width-v,a=e/2,p=e/2),i.elements.unshift(new ro(this.constants_,-a)),i.elements.push(new ro(this.constants_,-p))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)i=this.rows[t],F.isTopOrBottomRow(i)&&(i.elements[1].width-=e),i.width-=e,i.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var i=this.outputConnection.shape.type;const a=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(i){case a.SHAPES.ROUND:return i=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,i=this.height/2>i?i:this.height/2,t-i*(1-Math.sin(Math.acos((i-this.constants_.SMALL_PADDING)/i)));default:return 0}if(F.isInlineInput(e)&&e instanceof ds){const p=e.connectedBlock;return e=p?p.pathObject.outputShapeType:e.shape.type,e==null||p&&p.outputConnection&&(p.statementInputCount||p.nextConnection)||i===a.SHAPES.HEXAGONAL&&i!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[i][e]}return F.isField(e)&&e instanceof Bl?i===a.SHAPES.ROUND&&e.field instanceof ru?t-2.75*a.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[i][0]:F.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let a=2;a<this.rows.length-1;a+=2){const p=this.rows[a-1],v=this.rows[a],C=this.rows[a+1];var e=a===2,t=a+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!C.precedesStatement;if(e?this.topRow.hasPreviousConnection:p.followsStatement){var i=v.elements[1];if(i=v.elements.length===3&&i instanceof Bl&&(i.field instanceof cs||i.field instanceof js),!e&&i)p.height-=this.constants_.SMALL_PADDING,C.height-=this.constants_.SMALL_PADDING,v.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!t)p.height+=this.constants_.SMALL_PADDING;else if(t){for(e=!1,t=0;t<v.elements.length;t++)if(i=v.elements[t],i instanceof ds&&F.isInlineInput(i)&&i.connectedBlock&&!i.connectedBlock.isShadow()&&40<=i.connectedBlock.getHeightWidth().height){e=!0;break}e&&(p.height-=this.constants_.SMALL_PADDING,C.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},Be=class extends Cm{constructor(e,t,i){super(e,t,i),this.markerCircle_=null}showWithInputOutput_(e){const t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput_(e)}showWithInput_(e){this.showWithInputOutput_(e)}showWithBlock_(e){e=e.getLocation();const t=e.getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle_(e,t){let i;(i=this.markerCircle_)==null||i.setAttribute("cx",`${e}`);let a;(a=this.markerCircle_)==null||a.setAttribute("cy",`${t}`),this.currentMarkerSvg=this.markerCircle_}hide(){super.hide(),this.markerCircle_&&(this.markerCircle_.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle_=J(U.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){const e=this.getBlinkProperties_();J(U.ANIMATE,e,this.markerCircle_)}return this.markerSvg_}applyColour_(e){super.applyColour_(e);let t;(t=this.markerCircle_)==null||t.setAttribute("fill",this.colour_);let i;if((i=this.markerCircle_)==null||i.setAttribute("stroke",this.colour_),this.isCursor()){e=this.colour_+";transparent;transparent;";let a;(a=this.markerCircle_)==null||a.firstElementChild.setAttribute("values",e)}}},We=class extends ap{constructor(e,t,i){super(e,t,i),this.svgPathSelected_=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=i}setPath(e){super.setPath(e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);for(const i of this.outlines.values())i.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath_(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath_(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath_(e){return this.outlines.has(e)||this.outlines.set(e,J(U.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath_(e){let t,i;(t=this.outlines.get(e))==null||(i=t.parentNode)==null||i.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},ut=class extends Xc{constructor(e){super(e)}makeConstants_(){return new B}makeRenderInfo_(e){return new Ee(this,e)}makeDrawer_(e,t){return new G(e,t)}makeMarkerDrawer(e,t){return new Be(e,this.getConstants(),t)}makePathObject(e,t){return new We(e,t,this.getConstants())}getConstants(){return this.constants_}shouldHighlightConnection(e){return e.type!==Ce.INPUT_VALUE&&e.type!==Ce.OUTPUT_VALUE}getConnectionPreviewMethod(e,t,i){return t.type===Ce.OUTPUT_VALUE?e.isConnected()?no.PREVIEW_TYPE.REPLACEMENT_FADE:no.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,i)}};Bs("zelos",ut);var Pe={};Pe.BottomRow=X,Pe.ConstantProvider=B,Pe.Drawer=G,Pe.MarkerSvg=Be,Pe.PathObject=We,Pe.RenderInfo=Ee,Pe.Renderer=ut,Pe.RightConnectionShape=ae,Pe.StatementInput=le,Pe.TopRow=he;var ft=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=mv}save(e){return e=e.getProcedureMap().getProcedures().map(t=>Ed(t)),e.length?e:null}load(e,t){const i=t.getProcedureMap();for(const a of e)i.add(cg(this.procedureModelClass,this.parameterModelClass,a,t))}clear(e){e.getProcedureMap().clear()}},ht={};ht.ProcedureSerializer=ft,ht.loadParameter=Ir,ht.loadProcedure=cg,ht.saveParameter=ug,ht.saveProcedure=Ed;var Gr=class{constructor(){this.priority=gv}save(e){const t=[];for(const i of e.getAllVariables())e={name:i.name,id:i.getId()},i.type&&(e.type=i.type),t.push(e);return t.length?t:null}load(e,t){for(const i of e)t.createVariable(i.name,i.type,i.id)}clear(e){e.getVariableMap().clear()}};Bh("variables",new Gr);var Zn={};Zn.VariableSerializer=Gr;var gr={};gr.load=fc,gr.save=P0;var dn={blocks:Tc,exceptions:za,priorities:Hd,procedures:ht,registry:kc,variables:Zn,workspaces:gr},ze;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(ze||(ze={}));var Ln;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(Ln||(Ln={})),La();var zo={};zo.names=Ln,zo.registerCopy=kd,zo.registerCut=sr,zo.registerDefaultShortcuts=La,zo.registerDelete=wd,zo.registerEscape=gc,zo.registerPaste=pi,zo.registerRedo=Td,zo.registerUndo=mc;var HD={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},VD={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},WD=new Ol("zelos",HD,VD),Oy={};Oy.Classic=Kd,Oy.Zelos=WD;var Ny=class{constructor(e,t,i){this.id_=e.toolboxitemid||ne(),this.level_=(this.parent_=i||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},ps=class extends Ny{constructor(e,t,i){super(e,t,i),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const i=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(i)}}parseCategoryDef_(e){this.name_="name"in e?Mt(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),No(this.htmlDiv_,Lr.TREEITEM),Ot(this.htmlDiv_,Ht.SELECTED,!1),Ot(this.htmlDiv_,Ht.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),No(this.iconDom_,Lr.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&Ot(this.htmlDiv_,Ht.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&ye(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&ye(e,t),t=`${ps.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&ye(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&ye(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&ye(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=ps.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle_(t);if(e)return this.parseColour_(e)}return""}getColourfromStyle_(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(e){if(e=Mt(e),e==null||e==="")return"";var t=Number(e);return isNaN(t)?(t=Oo(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):kt(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&tt(e,t),(t=this.cssConfig_.openicon)&&ye(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&tt(e,t),(t=this.cssConfig_.closedicon)&&ye(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const i=this.parseColour_(ps.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||i,t&&ye(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&Oe(this.rowDiv_,t);Ot(this.htmlDiv_,Ht.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:oc(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){st(this.htmlDiv_)}};ps.registrationName="category",ps.nestedPadding=19,ps.borderWidth=8,ps.defaultBackgroundColour="#57e",co(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),s(ve.TOOLBOX_ITEM,ps.registrationName,ps);var xm=class extends Ny{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&ye(e,t),this.htmlDiv_=e}getDiv(){return this.htmlDiv_}dispose(){st(this.htmlDiv_)}};xm.registrationName="sep",co(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),s(ve.TOOLBOX_ITEM,xm.registrationName,xm);var dp=class extends ps{constructor(e,t,i){super(e,t,i),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let i=0;i<t.length;i++){const a=t[i];!g(ve.TOOLBOX_ITEM,a.kind)||a.kind.toLowerCase()===xm.registrationName&&e?(this.flyoutItems_.push(a),e=!0):(this.createToolboxItem_(a),e=!1)}}}}createToolboxItem_(e){let t=e.kind;t.toUpperCase()==="CATEGORY"&&ya(e)&&(t=dp.registrationName),e=new(_(ve.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||!!this.toolboxItemDef_.expanded)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),No(this.subcategoriesDiv_,Lr.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&ye(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");var i=this.cssConfig_.contents;for(i&&ye(t,i),i=0;i<e.length;i++){const a=e[i];a.init();const p=a.getDiv();if(t.appendChild(p),a.getClickTarget){let v;(v=a.getClickTarget())==null||v.setAttribute("id",a.getId())}}return t}setExpanded(e){this.expanded_!==e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),Ot(this.htmlDiv_,Ht.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let i=0;i<t.length;i++)t[i].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};dp.registrationName="collapsibleCategory",s(ve.TOOLBOX_ITEM,dp.registrationName,dp);var yT=class extends rp{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),tn(this.flyout_.createDom("svg"),t),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[on.Capability.AUTOHIDEABLE,on.Capability.DELETE_AREA,on.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,No(this.contentsDiv_,Lr.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),ye(e,"blocklyToolboxDiv"),ye(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return ye(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=De(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=De(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(Hi(e)||e.target===this.HtmlDiv)w().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),w().hideChaff(!0)}oi()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext_();break;case"ArrowUp":t=this.selectPrevious_();break;case"ArrowLeft":t=this.selectParent_();break;case"ArrowRight":t=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=new Ho({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?E(ve.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):E(ve.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let t=0;t<this.contents_.length;t++){const i=this.contents_[t];i&&i.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let i=0;i<e.length;i++)this.createToolboxItem_(e[i],t);this.contentsDiv_.appendChild(t)}createToolboxItem_(e,t){var i=e.kind;i.toUpperCase()==="CATEGORY"&&ya(e)&&(i=dp.registrationName),(i=_(ve.TOOLBOX_ITEM,i.toLowerCase()))&&(e=new i(e,this),e.init(),this.addToolboxItem_(e),(i=e.getDiv())&&t.appendChild(i),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&ye(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&Oe(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,i=t+e.height,a=e.left;return e=a+e.width,this.toolboxPosition===Xe.TOP?new Yt(-1e7,i,-1e7,1e7):this.toolboxPosition===Xe.BOTTOM?new Yt(t,1e7,-1e7,1e7):this.toolboxPosition===Xe.LEFT?new Yt(-1e7,1e7,-1e7,e):new Yt(-1e7,1e7,a,1e7)}wouldDelete(e,t){return e instanceof yo?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Xe.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Xe.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===Xe.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===Xe.TOP?e.scrollY+t.height:e.scrollY),H(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!hg(e)||(this.shouldDeselectItem_(t,e)&&t!==null&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&e!==null&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))}shouldDeselectItem_(e,t){return e!==null&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return t!==null&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),Ot(this.contentsDiv_,Ht.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),Ot(this.contentsDiv_,Ht.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(e,t){const i=e&&e.getName();let a=t&&t.getName();e===t&&(a=null),e=new(we(yl))(i,a,this.workspace_.id),ce(e)}selectParent_(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)_t(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),st(this.HtmlDiv))}};co(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),s(ve.TOOLBOX,Qr,yT);var ET=class extends rp{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents_=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness_=0,this.lidTask_=this.svgLid_=this.svgGroup_=null,this.top_=this.left_=this.lidOpen_=0,this.initialized_=!1,0>=this.workspace.options.maxTrashcanContents||(e=new Ho({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Xe.TOP?Xe.BOTTOM:Xe.TOP,this.flyout=new(E(ve.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Xe.RIGHT?Xe.LEFT:Xe.RIGHT,this.flyout=new(E(ve.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete_.bind(this)))}createDom(){this.svgGroup_=J(U.G,{class:"blocklyTrash"});let e;const t=String(Math.random()).substring(2);e=J(U.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_),J(U.RECT,{width:pp,height:ab,y:fp},e);const i=J(U.IMAGE,{width:Vn.width,x:-Ly,height:Vn.height,y:-My,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return i.setAttributeNS(Rr,"xlink:href",this.workspace.options.pathToMedia+Vn.url),e=J(U.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),J(U.RECT,{width:pp,height:fp},e),this.svgLid_=J(U.IMAGE,{width:Vn.width,x:-Ly,height:Vn.height,y:-My,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(Rr,"xlink:href",this.workspace.options.pathToMedia+Vn.url),Yn(this.svgGroup_,"pointerdown",this,this.blockMouseDownWhenOpenable_),Yn(this.svgGroup_,"pointerup",this,this.click),Yn(i,"pointerover",this,this.mouseOver_),Yn(i,"pointerout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_}init(){0<this.workspace.options.maxTrashcanContents&&(tn(this.flyout.createDom(U.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[on.Capability.AUTOHIDEABLE,on.Capability.DELETE_AREA,on.Capability.DRAG_TARGET,on.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&(st(this.svgGroup_),this.svgGroup_=null),this.svgLid_=null,this.lidTask_&&clearTimeout(this.lidTask_)}hasContents_(){return!!this.contents_.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents_.map(function(i){return JSON.parse(i)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let i;(i=this.flyout)==null||i.show(e),t.cursor=""},10),this.fireUiEvent_(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide(),this.fireUiEvent_(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())}position(e,t){if(this.initialized_){var i=bd(this.workspace,e);e=pc(i,new On(pp,ab+fp),zD,wT,e,this.workspace),t=Oa(e,wT,i.vertical===Ai.TOP?Xs.DOWN:Xs.UP,t),this.top_=t.top,this.left_=t.left;var a;(a=this.svgGroup_)==null||a.setAttribute("transform","translate("+this.left_+","+this.top_+")")}}getBoundingRectangle(){return new Yt(this.top_,this.top_+ab+fp,this.left_,this.left_+pp)}getClientRect(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect();const t=e.top+My-ub;return e=e.left+Ly-ub,new Yt(t,t+fp+ab+2*ub,e,e+pp+2*ub)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask_&&clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())}animateLid_(){const e=YD;var t=1/(e+1);this.lidOpen_+=this.isLidOpen?t:-t,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*TT),t=kT+this.lidOpen_*(KD-kT),this.svgGroup_&&(this.svgGroup_.style.opacity=`${t}`),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),XD/e))}setLidAngle_(e){const t=this.workspace.toolboxPosition===Xe.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let i;(i=this.svgLid_)==null||i.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:pp-4)+","+(fp-2)+")")}setMinOpenness_(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(e*TT)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents_()&&this.openFlyout()}fireUiEvent_(e){e=new(we(Gs))(e,this.workspace.id),ce(e)}blockMouseDownWhenOpenable_(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()}mouseOver_(){this.hasContents_()&&this.setLidOpen(!0)}mouseOut_(){this.setLidOpen(!1)}onDelete_(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==Po||e.type!==Po||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson_(e.oldJson)),this.contents_.indexOf(e)===-1){for(this.contents_.unshift(e);this.contents_.length>this.workspace.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(jD)}}}cleanBlockJson_(e){function t(i){if(i){if(delete i.id,delete i.x,delete i.y,delete i.enabled,i.icons&&i.icons.comment){var a=i.icons.comment;delete a.height,delete a.width,delete a.pinned}a=i.inputs;for(var p in a){var v=a[p];const C=v.block;v=v.shadow,C&&t(C),v&&t(v)}i.next&&(p=i.next,i=p.block,p=p.shadow,i&&t(i),p&&t(p))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},pp=47,ab=44,fp=16,wT=20,zD=20,ub=10,Ly=0,My=32,jD=.1,XD=80,YD=4,kT=.4,KD=.8,TT=45,mt={};mt.Coordinate=ge,mt.KeyCodes=ze,mt.Rect=Yt,mt.Size=On,mt.Svg=U,mt.aria=Oc,mt.array=Jt,mt.arrayRemove=pg,mt.browserEvents=bi,mt.checkMessageReferences=ts,mt.colour=Hn,mt.deprecation=bn,mt.dom=yn,mt.extensions=o.module$build$src$core$extensions,mt.getBlockTypeCounts=Rd,mt.getDocumentScroll=fg,mt.getInjectionDivXY_=dg,mt.getRelativeXY=Cd,mt.getViewportBBox=ns,mt.idGenerator=Ba,mt.is3dSupported=F0,mt.math=Vd,mt.object=Ze,mt.parseBlockColour=U0,mt.parsing=qa,mt.replaceMessageReferences=Id,mt.runAfterPageLoad=H0,mt.screenToWsCoordinates=G0,mt.string=o.module$build$src$core$utils$string,mt.style=$i,mt.svgMath=Hs,mt.svgPaths=$o,mt.tokenizeInterpolation=Sd,mt.toolbox=Ws,mt.userAgent=ls,mt.xml=o.module$build$src$core$utils$xml;var JD="9.3.3",qD=o.Align$$module$build$src$core$input.LEFT,ZD=o.Align$$module$build$src$core$input.CENTRE,QD=o.Align$$module$build$src$core$input.RIGHT,eO=Ce.INPUT_VALUE,tO=Ce.OUTPUT_VALUE,nO=Ce.NEXT_STATEMENT,rO=Ce.PREVIOUS_STATEMENT,oO=et.DUMMY,iO=Xe.TOP,sO=Xe.BOTTOM,lO=Xe.LEFT,aO=Xe.RIGHT;Yc.prototype.newBlock=function(e,t){return new Nl(this,e,t)},Wo.prototype.newBlock=function(e,t){return new yo(this,e,t)},Wo.newTrashcan=function(e){return new ET(e)},Jn.prototype.showContextMenu=function(e){if(!this.workspace.options.readOnly){var t=[];this.isDeletable()&&this.isMovable()&&(t.push(Kf(this)),t.push(Yf(this))),cc(e,t,this.RTL)}},o.Mutator$$module$build$src$core$mutator.prototype.newWorkspaceSvg=function(e){return new Wo(e)},pr.prototype.populateProcedures=function(e){e=Aa(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],pr.NameType.PROCEDURE)};var uO=Ce,q={};return q.ALIGN_CENTRE=ZD,q.ALIGN_LEFT=qD,q.ALIGN_RIGHT=QD,q.ASTNode=ue,q.BasicCursor=Uc,q.Block=Nl,q.BlockDragSurfaceSvg=Rv,q.BlockDragger=Zg,q.BlockSvg=yo,q.Blocks=ur,q.Bubble=Ue,q.BubbleDragger=Dv,q.COLLAPSED_FIELD_NAME=Il,q.COLLAPSED_INPUT_NAME=Xa,q.COLLAPSE_CHARS=em,q.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator,q.CollapsibleToolboxCategory=dp,q.Comment=Bc,q.ComponentManager=on,q.Connection=gt,q.ConnectionChecker=Ov,q.ConnectionDB=tu,q.ConnectionType=Ce,q.ContextMenu=o.module$build$src$core$contextmenu,q.ContextMenuItems=dr,q.ContextMenuRegistry=bt,q.Css=Ag,q.Cursor=Tt,q.DELETE_VARIABLE_ID=Br,q.DRAG_STACK=Ti,q.DUMMY_INPUT=oO,q.DeleteArea=rp,q.DragTarget=Nv,q.DropDownDiv=nn,q.Events=o.module$build$src$core$events$events,q.Extensions=o.module$build$src$core$extensions,q.Field=pt,q.FieldAngle=at,q.FieldCheckbox=Ll,q.FieldColour=Pr,q.FieldDropdown=yi,q.FieldImage=js,q.FieldLabel=cs,q.FieldLabelSerializable=Lv,q.FieldMultilineInput=fm,q.FieldNumber=gm,q.FieldTextInput=ru,q.FieldVariable=Si,q.Flyout=hp,q.FlyoutButton=Vo,q.FlyoutMetricsManager=Mv,q.Generator=o.CodeGenerator$$module$build$src$core$generator,q.Gesture=Ii,q.Grid=vm,q.HorizontalFlyout=Yv,q.INPUT_VALUE=eO,q.Icon=Ei,q.Input=hs,q.InsertionMarkerManager=no,q.Marker=xv,q.MarkerManager=Sc,q.Menu=jg,q.MenuItem=Xg,q.MetricsManager=mm,q.Msg=Ve,q.Mutator=o.Mutator$$module$build$src$core$mutator,q.NEXT_STATEMENT=nO,q.Names=pr,q.OPPOSITE_TYPE=Qe,q.OUTPUT_VALUE=tO,q.Options=Ho,q.PREVIOUS_STATEMENT=rO,q.PROCEDURE_CATEGORY_NAME=ip,q.Procedures=o.module$build$src$core$procedures,q.RENAME_VARIABLE_ID=Qd,q.RenderedConnection=hr,q.Scrollbar=zt,q.ScrollbarPair=_m,q.ShortcutItems=zo,q.ShortcutRegistry=Et,q.TOOLBOX_AT_BOTTOM=sO,q.TOOLBOX_AT_LEFT=lO,q.TOOLBOX_AT_RIGHT=aO,q.TOOLBOX_AT_TOP=iO,q.TabNavigateCursor=tm,q.Theme=Ol,q.ThemeManager=up,q.Themes=Oy,q.Toolbox=yT,q.ToolboxCategory=ps,q.ToolboxItem=Ny,q.ToolboxSeparator=xm,q.Tooltip=Kt,q.Touch=to,q.TouchGesture=Ii,q.Trashcan=ET,q.UnattachedFieldError=rn,q.VARIABLE_CATEGORY_NAME=Tl,q.VARIABLE_DYNAMIC_CATEGORY_NAME=Sm,q.VERSION=JD,q.VariableMap=Im,q.VariableModel=Va,q.Variables=o.module$build$src$core$variables,q.VariablesDynamic=xi,q.VerticalFlyout=Rm,q.Warning=Av,q.WidgetDiv=Nr,q.Workspace=Yc,q.WorkspaceAudio=Xv,q.WorkspaceComment=vi,q.WorkspaceCommentSvg=Jn,q.WorkspaceDragSurfaceSvg=Kv,q.WorkspaceDragger=Bv,q.WorkspaceSvg=Wo,q.Xml=o.module$build$src$core$xml,q.ZoomControls=cp,q.bindEventWithChecks_=_c,q.bindEvent_=W0,q.blockAnimations=Mc,q.blockRendering=$t,q.browserEvents=bi,q.bumpObjects=qd,q.clipboard=Pc,q.common=o.module$build$src$core$common,q.config=o.config$$module$build$src$core$config,q.connectionTypes=uO,q.constants=Lg,q.copy=V0,q.defineBlocksWithJsonArray=re,q.dialog=Ar,q.duplicate=vg,q.fieldRegistry=o.module$build$src$core$field_registry,q.geras=Di,q.getMainWorkspace=w,q.getSelected=I,q.hideChaff=gg,q.hueToHex=Mo,q.inject=$d,q.inputTypes=et,q.isNumber=lr,q.isObservable=pd,q.isVariableBackedParameterModel=wh,q.minimalist=m,q.paste=_g,q.procedures=o.module$build$src$core$procedures,q.registry=go,q.resizeSvgContents=mg,q.serialization=dn,q.setLocale=Ld,q.setParentContainer=j,q.svgResize=H,q.thrasos=A,q.uiPosition=Fl,q.unbindEvent_=z0,q.utils=mt,q.zelos=Pe,o.module$build$src$core$contextmenu,o.module$build$src$core$events$events,o.module$build$src$core$msg,o.module$build$src$core$common,Object.defineProperties(q,{alert:{set:function(e){bn.warn("Blockly.alert","version 9","version 10","Blockly.dialog.setAlert"),Ar.setAlert(e)},get:function(){return bn.warn("Blockly.alert","version 9","version 10","Blockly.dialog.alert"),Ar.alert}},confirm:{set:function(e){bn.warn("Blockly.confirm","version 9","version 10","Blockly.dialog.setConfirm"),Ar.setConfirm(e)},get:function(){return bn.warn("Blockly.confirm","version 9","version 10","Blockly.dialog.confirm"),Ar.confirm}},mainWorkspace:{set:function(e){bn.warn("Blockly.mainWorkspace","version 9","version 10","Blockly.getMainWorkspace"),o.module$build$src$core$common.setMainWorkspace(e)},get:function(){return bn.warn("Blockly.mainWorkspace","version 9","version 10","Blockly.getMainWorkspace"),o.module$build$src$core$common.getMainWorkspace()}},prompt:{set:function(e){bn.warn("Blockly.prompt","version 9","version 10","Blockly.dialog.setPrompt"),Ar.setPrompt(e)},get:function(){return bn.warn("Blockly.prompt","version 9","version 10","Blockly.dialog.prompt"),Ar.prompt}},selected:{get:function(){return bn.warn("Blockly.selected","version 9","version 10","Blockly.getSelected"),o.module$build$src$core$common.getSelected()},set:function(e){bn.warn("Blockly.selected","version 9","version 10","Blockly.getSelected"),o.module$build$src$core$common.setSelected(e)}},HSV_SATURATION:{get:function(){return Hn.getHsvSaturation()},set:function(e){Hn.setHsvSaturation(e)}},HSV_VALUE:{get:function(){return Hn.getHsvValue()},set:function(e){Hn.setHsvValue(e)}}}),Object.defineProperties(o.module$build$src$core$contextmenu,{currentBlock:{get:function(){return bn.warn("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.getCurrentBlock()"),o.module$build$src$core$contextmenu.getCurrentBlock()},set:function(e){bn.warn("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.setCurrentBlock(block)"),o.module$build$src$core$contextmenu.setCurrentBlock(e)}}}),Object.defineProperties(o.module$build$src$core$events$events,{recordUndo:{get:function(){return bn.warn("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.getRecordUndo()"),rt.getRecordUndo()},set:function(e){bn.warn("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.setRecordUndo()"),rt.setRecordUndo(e)}}}),Object.defineProperties(Kt,{visible:{get:function(){return bn.warn("Blockly.Tooltip.visible","September 2021","September 2022","Blockly.Tooltip.isVisible()"),Kt.isVisible()}},DIV:{get:function(){return bn.warn("Blockly.Tooltip.DIV","September 2021","September 2022","Blockly.Tooltip.getDiv()"),Kt.getDiv()}}}),Object.defineProperties(Nr,{DIV:{get:function(){return bn.warn("Blockly.WidgetDiv.DIV","September 2021","September 2022","Blockly.WidgetDiv.getDiv()"),Nr.getDiv()}}}),"Blockly"in globalThis||(globalThis.Blockly={Msg:o.module$build$src$core$msg}),q.__namespace__=o,q})}(FE)),FE.exports}var sS;function uU(){return sS||(sS=1,function(n,r){(function(o,l){n.exports=l(LD())})(Li,function(o){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return o})}(PE)),PE.exports}(function(n,r){(function(o,l){n.exports=l(uU())})(Li,function(o){return o})})(ND);var Zt=ND.exports;const er=Iu(Zt);var MD={exports:{}},GE={exports:{}},lS;function cU(){return lS||(lS=1,function(n,r){(function(o,l){n.exports=l(LD())})(Li,function(o){var l=o.__namespace__,s={};l.module$build$src$core$utils$string,l.module$build$src$core$variables,l.CodeGenerator$$module$build$src$core$generator,l.module$build$src$core$input_types.inputTypes,l.module$build$src$core$names.Names,l.NameType$$module$build$src$core$names,s.pythonGenerator=new l.CodeGenerator$$module$build$src$core$generator("Python"),s.pythonGenerator.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip"),s.pythonGenerator.ORDER_ATOMIC=0,s.pythonGenerator.ORDER_COLLECTION=1,s.pythonGenerator.ORDER_STRING_CONVERSION=1,s.pythonGenerator.ORDER_MEMBER=2.1,s.pythonGenerator.ORDER_FUNCTION_CALL=2.2,s.pythonGenerator.ORDER_EXPONENTIATION=3,s.pythonGenerator.ORDER_UNARY_SIGN=4,s.pythonGenerator.ORDER_BITWISE_NOT=4,s.pythonGenerator.ORDER_MULTIPLICATIVE=5,s.pythonGenerator.ORDER_ADDITIVE=6,s.pythonGenerator.ORDER_BITWISE_SHIFT=7,s.pythonGenerator.ORDER_BITWISE_AND=8,s.pythonGenerator.ORDER_BITWISE_XOR=9,s.pythonGenerator.ORDER_BITWISE_OR=10,s.pythonGenerator.ORDER_RELATIONAL=11,s.pythonGenerator.ORDER_LOGICAL_NOT=12,s.pythonGenerator.ORDER_LOGICAL_AND=13,s.pythonGenerator.ORDER_LOGICAL_OR=14,s.pythonGenerator.ORDER_CONDITIONAL=15,s.pythonGenerator.ORDER_LAMBDA=16,s.pythonGenerator.ORDER_NONE=99,s.pythonGenerator.ORDER_OVERRIDES=[[s.pythonGenerator.ORDER_FUNCTION_CALL,s.pythonGenerator.ORDER_MEMBER],[s.pythonGenerator.ORDER_FUNCTION_CALL,s.pythonGenerator.ORDER_FUNCTION_CALL],[s.pythonGenerator.ORDER_MEMBER,s.pythonGenerator.ORDER_MEMBER],[s.pythonGenerator.ORDER_MEMBER,s.pythonGenerator.ORDER_FUNCTION_CALL],[s.pythonGenerator.ORDER_LOGICAL_NOT,s.pythonGenerator.ORDER_LOGICAL_NOT],[s.pythonGenerator.ORDER_LOGICAL_AND,s.pythonGenerator.ORDER_LOGICAL_AND],[s.pythonGenerator.ORDER_LOGICAL_OR,s.pythonGenerator.ORDER_LOGICAL_OR]],s.pythonGenerator.isInitialized=!1,s.pythonGenerator.init=function(d){Object.getPrototypeOf(this).init.call(this),this.PASS=this.INDENT+`pass
`,this.nameDB_?this.nameDB_.reset():this.nameDB_=new l.module$build$src$core$names.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(d.getVariableMap()),this.nameDB_.populateVariables(d),this.nameDB_.populateProcedures(d);const g=[];var _=l.module$build$src$core$variables.allDeveloperVariables(d);for(let b=0;b<_.length;b++)g.push(this.nameDB_.getName(_[b],l.module$build$src$core$names.Names.DEVELOPER_VARIABLE_TYPE)+" = None");for(d=l.module$build$src$core$variables.allUsedVarModels(d),_=0;_<d.length;_++)g.push(this.nameDB_.getName(d[_].getId(),l.NameType$$module$build$src$core$names.VARIABLE)+" = None");this.definitions_.variables=g.join(`
`),this.isInitialized=!0},s.pythonGenerator.finish=function(d){const g=[],_=[];for(let b in this.definitions_){const y=this.definitions_[b];y.match(/^(from\s+\S+\s+)?import\s+\S+/)?g.push(y):_.push(y)}return d=Object.getPrototypeOf(this).finish.call(this,d),this.isInitialized=!1,this.nameDB_.reset(),(g.join(`
`)+`

`+_.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+d},s.pythonGenerator.scrubNakedValue=function(d){return d+`
`},s.pythonGenerator.quote_=function(d){d=d.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`);let g="'";return d.indexOf("'")!==-1&&(d.indexOf('"')===-1?g='"':d=d.replace(/'/g,"\\'")),g+d+g},s.pythonGenerator.multiline_quote_=function(d){return d.split(/\n/g).map(this.quote_).join(` + '\\n' + 
`)},s.pythonGenerator.scrub_=function(d,g,_){let b="";if(!d.outputConnection||!d.outputConnection.targetConnection){var y=d.getCommentText();y&&(y=l.module$build$src$core$utils$string.wrap(y,this.COMMENT_WRAP-3),b+=this.prefixLines(y+`
`,"# "));for(let E=0;E<d.inputList.length;E++)d.inputList[E].type===l.module$build$src$core$input_types.inputTypes.VALUE&&(y=d.inputList[E].connection.targetBlock())&&(y=this.allNestedComments(y))&&(b+=this.prefixLines(y,"# "))}return d=d.nextConnection&&d.nextConnection.targetBlock(),_=_?"":this.blockToCode(d),b+g+_},s.pythonGenerator.getAdjustedInt=function(d,g,_,b){_=_||0,d.workspace.options.oneBasedIndex&&_--;const y=d.workspace.options.oneBasedIndex?"1":"0";return d=this.valueToCode(d,g,_?this.ORDER_ADDITIVE:this.ORDER_NONE)||y,l.module$build$src$core$utils$string.isNumber(d)?(d=parseInt(d,10)+_,b&&(d=-d)):(d=0<_?"int("+d+" + "+_+")":0>_?"int("+d+" - "+-_+")":"int("+d+")",b&&(d="-"+d)),d},s.pythonGenerator.colour_picker=function(d){return[s.pythonGenerator.quote_(d.getFieldValue("COLOUR")),s.pythonGenerator.ORDER_ATOMIC]},s.pythonGenerator.colour_random=function(d){return s.pythonGenerator.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.colour_rgb=function(d){const g=s.pythonGenerator.provideFunction_("colour_rgb",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(r, g, b):
  r = round(min(100, max(0, r)) * 2.55)
  g = round(min(100, max(0, g)) * 2.55)
  b = round(min(100, max(0, b)) * 2.55)
  return '#%02x%02x%02x' % (r, g, b)
`),_=s.pythonGenerator.valueToCode(d,"RED",s.pythonGenerator.ORDER_NONE)||0,b=s.pythonGenerator.valueToCode(d,"GREEN",s.pythonGenerator.ORDER_NONE)||0;return d=s.pythonGenerator.valueToCode(d,"BLUE",s.pythonGenerator.ORDER_NONE)||0,[g+"("+_+", "+b+", "+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.colour_blend=function(d){const g=s.pythonGenerator.provideFunction_("colour_blend",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio):
  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)
  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)
  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)
  ratio = min(1, max(0, ratio))
  r = round(r1 * (1 - ratio) + r2 * ratio)
  g = round(g1 * (1 - ratio) + g2 * ratio)
  b = round(b1 * (1 - ratio) + b2 * ratio)
  return '#%02x%02x%02x' % (r, g, b)
`),_=s.pythonGenerator.valueToCode(d,"COLOUR1",s.pythonGenerator.ORDER_NONE)||"'#000000'",b=s.pythonGenerator.valueToCode(d,"COLOUR2",s.pythonGenerator.ORDER_NONE)||"'#000000'";return d=s.pythonGenerator.valueToCode(d,"RATIO",s.pythonGenerator.ORDER_NONE)||0,[g+"("+_+", "+b+", "+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},l.module$build$src$core$utils$string,l.NameType$$module$build$src$core$names,s.pythonGenerator.lists_create_empty=function(d){return["[]",s.pythonGenerator.ORDER_ATOMIC]},s.pythonGenerator.lists_create_with=function(d){const g=Array(d.itemCount_);for(let _=0;_<d.itemCount_;_++)g[_]=s.pythonGenerator.valueToCode(d,"ADD"+_,s.pythonGenerator.ORDER_NONE)||"None";return["["+g.join(", ")+"]",s.pythonGenerator.ORDER_ATOMIC]},s.pythonGenerator.lists_repeat=function(d){const g=s.pythonGenerator.valueToCode(d,"ITEM",s.pythonGenerator.ORDER_NONE)||"None";return d=s.pythonGenerator.valueToCode(d,"NUM",s.pythonGenerator.ORDER_MULTIPLICATIVE)||"0",["["+g+"] * "+d,s.pythonGenerator.ORDER_MULTIPLICATIVE]},s.pythonGenerator.lists_length=function(d){return["len("+(s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_NONE)||"[]")+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.lists_isEmpty=function(d){return["not len("+(s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_NONE)||"[]")+")",s.pythonGenerator.ORDER_LOGICAL_NOT]},s.pythonGenerator.lists_indexOf=function(d){const g=s.pythonGenerator.valueToCode(d,"FIND",s.pythonGenerator.ORDER_NONE)||"[]",_=s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_NONE)||"''";let b=" -1",y="",E=" - 1";return d.workspace.options.oneBasedIndex&&(b=" 0",y=" + 1",E=""),[(d.getFieldValue("END")==="FIRST"?s.pythonGenerator.provideFunction_("first_index",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = my_list.index(elem)${y}
  except: index =${b}
  return index
`):s.pythonGenerator.provideFunction_("last_index",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = len(my_list) - my_list[::-1].index(elem)${E}
  except: index =${b}
  return index
`))+"("+_+", "+g+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.lists_getIndex=function(d){const g=d.getFieldValue("MODE")||"GET",_=d.getFieldValue("WHERE")||"FROM_START";var b=s.pythonGenerator.valueToCode(d,"VALUE",_==="RANDOM"?s.pythonGenerator.ORDER_NONE:s.pythonGenerator.ORDER_MEMBER)||"[]";switch(_){case"FIRST":if(g==="GET")return[b+"[0]",s.pythonGenerator.ORDER_MEMBER];if(g==="GET_REMOVE")return[b+".pop(0)",s.pythonGenerator.ORDER_FUNCTION_CALL];if(g==="REMOVE")return b+`.pop(0)
`;break;case"LAST":if(g==="GET")return[b+"[-1]",s.pythonGenerator.ORDER_MEMBER];if(g==="GET_REMOVE")return[b+".pop()",s.pythonGenerator.ORDER_FUNCTION_CALL];if(g==="REMOVE")return b+`.pop()
`;break;case"FROM_START":if(d=s.pythonGenerator.getAdjustedInt(d,"AT"),g==="GET")return[b+"["+d+"]",s.pythonGenerator.ORDER_MEMBER];if(g==="GET_REMOVE")return[b+".pop("+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL];if(g==="REMOVE")return b+".pop("+d+`)
`;break;case"FROM_END":if(d=s.pythonGenerator.getAdjustedInt(d,"AT",1,!0),g==="GET")return[b+"["+d+"]",s.pythonGenerator.ORDER_MEMBER];if(g==="GET_REMOVE")return[b+".pop("+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL];if(g==="REMOVE")return b+".pop("+d+`)
`;break;case"RANDOM":if(s.pythonGenerator.definitions_.import_random="import random",g==="GET")return["random.choice("+b+")",s.pythonGenerator.ORDER_FUNCTION_CALL];if(b=s.pythonGenerator.provideFunction_("lists_remove_random_item",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList):
  x = int(random.random() * len(myList))
  return myList.pop(x)
`)+"("+b+")",g==="GET_REMOVE")return[b,s.pythonGenerator.ORDER_FUNCTION_CALL];if(g==="REMOVE")return b+`
`}throw Error("Unhandled combination (lists_getIndex).")},s.pythonGenerator.lists_setIndex=function(d){let g=s.pythonGenerator.valueToCode(d,"LIST",s.pythonGenerator.ORDER_MEMBER)||"[]";const _=d.getFieldValue("MODE")||"GET";var b=d.getFieldValue("WHERE")||"FROM_START";const y=s.pythonGenerator.valueToCode(d,"TO",s.pythonGenerator.ORDER_NONE)||"None";switch(b){case"FIRST":if(_==="SET")return g+"[0] = "+y+`
`;if(_==="INSERT")return g+".insert(0, "+y+`)
`;break;case"LAST":if(_==="SET")return g+"[-1] = "+y+`
`;if(_==="INSERT")return g+".append("+y+`)
`;break;case"FROM_START":if(d=s.pythonGenerator.getAdjustedInt(d,"AT"),_==="SET")return g+"["+d+"] = "+y+`
`;if(_==="INSERT")return g+".insert("+d+", "+y+`)
`;break;case"FROM_END":if(d=s.pythonGenerator.getAdjustedInt(d,"AT",1,!0),_==="SET")return g+"["+d+"] = "+y+`
`;if(_==="INSERT")return g+".insert("+d+", "+y+`)
`;break;case"RANDOM":if(s.pythonGenerator.definitions_.import_random="import random",g.match(/^\w+$/)?d="":(d=s.pythonGenerator.nameDB_.getDistinctName("tmp_list",l.NameType$$module$build$src$core$names.VARIABLE),b=d+" = "+g+`
`,g=d,d=b),b=s.pythonGenerator.nameDB_.getDistinctName("tmp_x",l.NameType$$module$build$src$core$names.VARIABLE),d+=b+" = int(random.random() * len("+g+`))
`,_==="SET")return d+(g+"["+b+"] = "+y+`
`);if(_==="INSERT")return d+(g+".insert("+b+", "+y+`)
`)}throw Error("Unhandled combination (lists_setIndex).")},s.pythonGenerator.lists_getSublist=function(d){const g=s.pythonGenerator.valueToCode(d,"LIST",s.pythonGenerator.ORDER_MEMBER)||"[]";var _=d.getFieldValue("WHERE1");const b=d.getFieldValue("WHERE2");switch(_){case"FROM_START":_=s.pythonGenerator.getAdjustedInt(d,"AT1"),_===0&&(_="");break;case"FROM_END":_=s.pythonGenerator.getAdjustedInt(d,"AT1",1,!0);break;case"FIRST":_="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(b){case"FROM_START":d=s.pythonGenerator.getAdjustedInt(d,"AT2",1);break;case"FROM_END":d=s.pythonGenerator.getAdjustedInt(d,"AT2",0,!0),l.module$build$src$core$utils$string.isNumber(String(d))?d===0&&(d=""):(s.pythonGenerator.definitions_.import_sys="import sys",d+=" or sys.maxsize");break;case"LAST":d="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[g+"["+_+" : "+d+"]",s.pythonGenerator.ORDER_MEMBER]},s.pythonGenerator.lists_sort=function(d){const g=s.pythonGenerator.valueToCode(d,"LIST",s.pythonGenerator.ORDER_NONE)||"[]",_=d.getFieldValue("TYPE");return d=d.getFieldValue("DIRECTION")==="1"?"False":"True",[s.pythonGenerator.provideFunction_("lists_sort",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):
  def try_float(s):
    try:
      return float(s)
    except:
      return 0
  key_funcs = {
    "NUMERIC": try_float,
    "TEXT": str,
    "IGNORE_CASE": lambda s: str(s).lower()
  }
  key_func = key_funcs[type]
  list_cpy = list(my_list)
  return sorted(list_cpy, key=key_func, reverse=reverse)
`)+"("+g+', "'+_+'", '+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.lists_split=function(d){var g=d.getFieldValue("MODE");if(g==="SPLIT")g=s.pythonGenerator.valueToCode(d,"INPUT",s.pythonGenerator.ORDER_MEMBER)||"''",d=s.pythonGenerator.valueToCode(d,"DELIM",s.pythonGenerator.ORDER_NONE),d=g+".split("+d+")";else if(g==="JOIN")g=s.pythonGenerator.valueToCode(d,"INPUT",s.pythonGenerator.ORDER_NONE)||"[]",d=(s.pythonGenerator.valueToCode(d,"DELIM",s.pythonGenerator.ORDER_MEMBER)||"''")+".join("+g+")";else throw Error("Unknown mode: "+g);return[d,s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.lists_reverse=function(d){return["list(reversed("+(s.pythonGenerator.valueToCode(d,"LIST",s.pythonGenerator.ORDER_NONE)||"[]")+"))",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.controls_if=function(d){let g=0,_="",b,y;s.pythonGenerator.STATEMENT_PREFIX&&(_+=s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_PREFIX,d));do y=s.pythonGenerator.valueToCode(d,"IF"+g,s.pythonGenerator.ORDER_NONE)||"False",b=s.pythonGenerator.statementToCode(d,"DO"+g)||s.pythonGenerator.PASS,s.pythonGenerator.STATEMENT_SUFFIX&&(b=s.pythonGenerator.prefixLines(s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_SUFFIX,d),s.pythonGenerator.INDENT)+b),_+=(g===0?"if ":"elif ")+y+`:
`+b,g++;while(d.getInput("IF"+g));return(d.getInput("ELSE")||s.pythonGenerator.STATEMENT_SUFFIX)&&(b=s.pythonGenerator.statementToCode(d,"ELSE")||s.pythonGenerator.PASS,s.pythonGenerator.STATEMENT_SUFFIX&&(b=s.pythonGenerator.prefixLines(s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_SUFFIX,d),s.pythonGenerator.INDENT)+b),_+=`else:
`+b),_},s.pythonGenerator.controls_ifelse=s.pythonGenerator.controls_if,s.pythonGenerator.logic_compare=function(d){const g={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[d.getFieldValue("OP")],_=s.pythonGenerator.ORDER_RELATIONAL,b=s.pythonGenerator.valueToCode(d,"A",_)||"0";return d=s.pythonGenerator.valueToCode(d,"B",_)||"0",[b+" "+g+" "+d,_]},s.pythonGenerator.logic_operation=function(d){const g=d.getFieldValue("OP")==="AND"?"and":"or",_=g==="and"?s.pythonGenerator.ORDER_LOGICAL_AND:s.pythonGenerator.ORDER_LOGICAL_OR;let b=s.pythonGenerator.valueToCode(d,"A",_);if(d=s.pythonGenerator.valueToCode(d,"B",_),b||d){const y=g==="and"?"True":"False";b||(b=y),d||(d=y)}else d=b="False";return[b+" "+g+" "+d,_]},s.pythonGenerator.logic_negate=function(d){return["not "+(s.pythonGenerator.valueToCode(d,"BOOL",s.pythonGenerator.ORDER_LOGICAL_NOT)||"True"),s.pythonGenerator.ORDER_LOGICAL_NOT]},s.pythonGenerator.logic_boolean=function(d){return[d.getFieldValue("BOOL")==="TRUE"?"True":"False",s.pythonGenerator.ORDER_ATOMIC]},s.pythonGenerator.logic_null=function(d){return["None",s.pythonGenerator.ORDER_ATOMIC]},s.pythonGenerator.logic_ternary=function(d){const g=s.pythonGenerator.valueToCode(d,"IF",s.pythonGenerator.ORDER_CONDITIONAL)||"False",_=s.pythonGenerator.valueToCode(d,"THEN",s.pythonGenerator.ORDER_CONDITIONAL)||"None";return d=s.pythonGenerator.valueToCode(d,"ELSE",s.pythonGenerator.ORDER_CONDITIONAL)||"None",[_+" if "+g+" else "+d,s.pythonGenerator.ORDER_CONDITIONAL]},l.module$build$src$core$utils$string,l.NameType$$module$build$src$core$names,s.pythonGenerator.controls_repeat_ext=function(d){let g;g=d.getField("TIMES")?String(parseInt(d.getFieldValue("TIMES"),10)):s.pythonGenerator.valueToCode(d,"TIMES",s.pythonGenerator.ORDER_NONE)||"0",g=l.module$build$src$core$utils$string.isNumber(g)?parseInt(g,10):"int("+g+")";let _=s.pythonGenerator.statementToCode(d,"DO");return _=s.pythonGenerator.addLoopTrap(_,d)||s.pythonGenerator.PASS,"for "+s.pythonGenerator.nameDB_.getDistinctName("count",l.NameType$$module$build$src$core$names.VARIABLE)+" in range("+g+`):
`+_},s.pythonGenerator.controls_repeat=s.pythonGenerator.controls_repeat_ext,s.pythonGenerator.controls_whileUntil=function(d){const g=d.getFieldValue("MODE")==="UNTIL";let _=s.pythonGenerator.valueToCode(d,"BOOL",g?s.pythonGenerator.ORDER_LOGICAL_NOT:s.pythonGenerator.ORDER_NONE)||"False",b=s.pythonGenerator.statementToCode(d,"DO");return b=s.pythonGenerator.addLoopTrap(b,d)||s.pythonGenerator.PASS,g&&(_="not "+_),"while "+_+`:
`+b},s.pythonGenerator.controls_for=function(d){const g=s.pythonGenerator.nameDB_.getName(d.getFieldValue("VAR"),l.NameType$$module$build$src$core$names.VARIABLE);var _=s.pythonGenerator.valueToCode(d,"FROM",s.pythonGenerator.ORDER_NONE)||"0",b=s.pythonGenerator.valueToCode(d,"TO",s.pythonGenerator.ORDER_NONE)||"0",y=s.pythonGenerator.valueToCode(d,"BY",s.pythonGenerator.ORDER_NONE)||"1";let E=s.pythonGenerator.statementToCode(d,"DO");E=s.pythonGenerator.addLoopTrap(E,d)||s.pythonGenerator.PASS;let S="";const D=function(){return s.pythonGenerator.provideFunction_("upRange",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start <= stop:
    yield start
    start += abs(step)
`)},L=function(){return s.pythonGenerator.provideFunction_("downRange",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start >= stop:
    yield start
    start -= abs(step)
`)};if(d=function(N,w,k){return"("+N+" <= "+w+") and "+D()+"("+N+", "+w+", "+k+") or "+L()+"("+N+", "+w+", "+k+")"},l.module$build$src$core$utils$string.isNumber(_)&&l.module$build$src$core$utils$string.isNumber(b)&&l.module$build$src$core$utils$string.isNumber(y))_=Number(_),b=Number(b),y=Math.abs(Number(y)),_%1===0&&b%1===0&&y%1===0?(_<=b?(b++,d=_===0&&y===1?b:_+", "+b,y!==1&&(d+=", "+y)):(b--,d=_+", "+b+", -"+y),d="range("+d+")"):(d=_<b?D():L(),d+="("+_+", "+b+", "+y+")");else{const N=function(w,k){return l.module$build$src$core$utils$string.isNumber(w)?w=Number(w):w.match(/^\w+$/)||(k=s.pythonGenerator.nameDB_.getDistinctName(g+k,l.NameType$$module$build$src$core$names.VARIABLE),S+=k+" = "+w+`
`,w=k),w};_=N(_,"_start"),b=N(b,"_end"),y=N(y,"_inc"),typeof _=="number"&&typeof b=="number"?(d=_<b?D():L(),d+="("+_+", "+b+", "+y+")"):d=d(_,b,y)}return S+="for "+g+" in "+d+`:
`+E},s.pythonGenerator.controls_forEach=function(d){const g=s.pythonGenerator.nameDB_.getName(d.getFieldValue("VAR"),l.NameType$$module$build$src$core$names.VARIABLE),_=s.pythonGenerator.valueToCode(d,"LIST",s.pythonGenerator.ORDER_RELATIONAL)||"[]";let b=s.pythonGenerator.statementToCode(d,"DO");return b=s.pythonGenerator.addLoopTrap(b,d)||s.pythonGenerator.PASS,"for "+g+" in "+_+`:
`+b},s.pythonGenerator.controls_flow_statements=function(d){let g="";if(s.pythonGenerator.STATEMENT_PREFIX&&(g+=s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_PREFIX,d)),s.pythonGenerator.STATEMENT_SUFFIX&&(g+=s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_SUFFIX,d)),s.pythonGenerator.STATEMENT_PREFIX){const _=d.getSurroundLoop();_&&!_.suppressPrefixSuffix&&(g+=s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_PREFIX,_))}switch(d.getFieldValue("FLOW")){case"BREAK":return g+`break
`;case"CONTINUE":return g+`continue
`}throw Error("Unknown flow statement.")},l.NameType$$module$build$src$core$names,s.pythonGenerator.addReservedWords("math,random,Number"),s.pythonGenerator.math_number=function(d){d=Number(d.getFieldValue("NUM"));let g;return d===1/0?(d='float("inf")',g=s.pythonGenerator.ORDER_FUNCTION_CALL):d===-1/0?(d='-float("inf")',g=s.pythonGenerator.ORDER_UNARY_SIGN):g=0>d?s.pythonGenerator.ORDER_UNARY_SIGN:s.pythonGenerator.ORDER_ATOMIC,[d,g]},s.pythonGenerator.math_arithmetic=function(d){var g={ADD:[" + ",s.pythonGenerator.ORDER_ADDITIVE],MINUS:[" - ",s.pythonGenerator.ORDER_ADDITIVE],MULTIPLY:[" * ",s.pythonGenerator.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",s.pythonGenerator.ORDER_MULTIPLICATIVE],POWER:[" ** ",s.pythonGenerator.ORDER_EXPONENTIATION]}[d.getFieldValue("OP")];const _=g[0];g=g[1];const b=s.pythonGenerator.valueToCode(d,"A",g)||"0";return d=s.pythonGenerator.valueToCode(d,"B",g)||"0",[b+_+d,g]},s.pythonGenerator.math_single=function(d){const g=d.getFieldValue("OP");let _;if(g==="NEG")return _=s.pythonGenerator.valueToCode(d,"NUM",s.pythonGenerator.ORDER_UNARY_SIGN)||"0",["-"+_,s.pythonGenerator.ORDER_UNARY_SIGN];switch(s.pythonGenerator.definitions_.import_math="import math",d=g==="SIN"||g==="COS"||g==="TAN"?s.pythonGenerator.valueToCode(d,"NUM",s.pythonGenerator.ORDER_MULTIPLICATIVE)||"0":s.pythonGenerator.valueToCode(d,"NUM",s.pythonGenerator.ORDER_NONE)||"0",g){case"ABS":_="math.fabs("+d+")";break;case"ROOT":_="math.sqrt("+d+")";break;case"LN":_="math.log("+d+")";break;case"LOG10":_="math.log10("+d+")";break;case"EXP":_="math.exp("+d+")";break;case"POW10":_="math.pow(10,"+d+")";break;case"ROUND":_="round("+d+")";break;case"ROUNDUP":_="math.ceil("+d+")";break;case"ROUNDDOWN":_="math.floor("+d+")";break;case"SIN":_="math.sin("+d+" / 180.0 * math.pi)";break;case"COS":_="math.cos("+d+" / 180.0 * math.pi)";break;case"TAN":_="math.tan("+d+" / 180.0 * math.pi)"}if(_)return[_,s.pythonGenerator.ORDER_FUNCTION_CALL];switch(g){case"ASIN":_="math.asin("+d+") / math.pi * 180";break;case"ACOS":_="math.acos("+d+") / math.pi * 180";break;case"ATAN":_="math.atan("+d+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+g)}return[_,s.pythonGenerator.ORDER_MULTIPLICATIVE]},s.pythonGenerator.math_constant=function(d){const g={PI:["math.pi",s.pythonGenerator.ORDER_MEMBER],E:["math.e",s.pythonGenerator.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",s.pythonGenerator.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",s.pythonGenerator.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",s.pythonGenerator.ORDER_MEMBER],INFINITY:["float('inf')",s.pythonGenerator.ORDER_ATOMIC]};return d=d.getFieldValue("CONSTANT"),d!=="INFINITY"&&(s.pythonGenerator.definitions_.import_math="import math"),g[d]},s.pythonGenerator.math_number_property=function(d){var g={EVEN:[" % 2 == 0",s.pythonGenerator.ORDER_MULTIPLICATIVE,s.pythonGenerator.ORDER_RELATIONAL],ODD:[" % 2 == 1",s.pythonGenerator.ORDER_MULTIPLICATIVE,s.pythonGenerator.ORDER_RELATIONAL],WHOLE:[" % 1 == 0",s.pythonGenerator.ORDER_MULTIPLICATIVE,s.pythonGenerator.ORDER_RELATIONAL],POSITIVE:[" > 0",s.pythonGenerator.ORDER_RELATIONAL,s.pythonGenerator.ORDER_RELATIONAL],NEGATIVE:[" < 0",s.pythonGenerator.ORDER_RELATIONAL,s.pythonGenerator.ORDER_RELATIONAL],DIVISIBLE_BY:[null,s.pythonGenerator.ORDER_MULTIPLICATIVE,s.pythonGenerator.ORDER_RELATIONAL],PRIME:[null,s.pythonGenerator.ORDER_NONE,s.pythonGenerator.ORDER_FUNCTION_CALL]};const _=d.getFieldValue("PROPERTY"),[b,y,E]=g[_];if(g=s.pythonGenerator.valueToCode(d,"NUMBER_TO_CHECK",y)||"0",_==="PRIME")s.pythonGenerator.definitions_.import_math="import math",s.pythonGenerator.definitions_.from_numbers_import_Number="from numbers import Number",d=s.pythonGenerator.provideFunction_("math_isPrime",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True
`)+"("+g+")";else if(_==="DIVISIBLE_BY"){if(d=s.pythonGenerator.valueToCode(d,"DIVISOR",s.pythonGenerator.ORDER_MULTIPLICATIVE)||"0",d==="0")return["False",s.pythonGenerator.ORDER_ATOMIC];d=g+" % "+d+" == 0"}else d=g+b;return[d,E]},s.pythonGenerator.math_change=function(d){s.pythonGenerator.definitions_.from_numbers_import_Number="from numbers import Number";const g=s.pythonGenerator.valueToCode(d,"DELTA",s.pythonGenerator.ORDER_ADDITIVE)||"0";return d=s.pythonGenerator.nameDB_.getName(d.getFieldValue("VAR"),l.NameType$$module$build$src$core$names.VARIABLE),d+" = ("+d+" if isinstance("+d+", Number) else 0) + "+g+`
`},s.pythonGenerator.math_round=s.pythonGenerator.math_single,s.pythonGenerator.math_trig=s.pythonGenerator.math_single,s.pythonGenerator.math_on_list=function(d){var g=d.getFieldValue("OP");switch(d=s.pythonGenerator.valueToCode(d,"LIST",s.pythonGenerator.ORDER_NONE)||"[]",g){case"SUM":g="sum("+d+")";break;case"MIN":g="min("+d+")";break;case"MAX":g="max("+d+")";break;case"AVERAGE":s.pythonGenerator.definitions_.from_numbers_import_Number="from numbers import Number",g=s.pythonGenerator.provideFunction_("math_mean",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)
`)+"("+d+")";break;case"MEDIAN":s.pythonGenerator.definitions_.from_numbers_import_Number="from numbers import Number",g=s.pythonGenerator.provideFunction_("math_median",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]
`)+"("+d+")";break;case"MODE":g=s.pythonGenerator.provideFunction_("math_modes",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid "unhashable" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes
`)+"("+d+")";break;case"STD_DEV":s.pythonGenerator.definitions_.import_math="import math",g=s.pythonGenerator.provideFunction_("math_standard_deviation",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)
`)+"("+d+")";break;case"RANDOM":s.pythonGenerator.definitions_.import_random="import random",g="random.choice("+d+")";break;default:throw Error("Unknown operator: "+g)}return[g,s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.math_modulo=function(d){const g=s.pythonGenerator.valueToCode(d,"DIVIDEND",s.pythonGenerator.ORDER_MULTIPLICATIVE)||"0";return d=s.pythonGenerator.valueToCode(d,"DIVISOR",s.pythonGenerator.ORDER_MULTIPLICATIVE)||"0",[g+" % "+d,s.pythonGenerator.ORDER_MULTIPLICATIVE]},s.pythonGenerator.math_constrain=function(d){const g=s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_NONE)||"0",_=s.pythonGenerator.valueToCode(d,"LOW",s.pythonGenerator.ORDER_NONE)||"0";return d=s.pythonGenerator.valueToCode(d,"HIGH",s.pythonGenerator.ORDER_NONE)||"float('inf')",["min(max("+g+", "+_+"), "+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.math_random_int=function(d){s.pythonGenerator.definitions_.import_random="import random";const g=s.pythonGenerator.valueToCode(d,"FROM",s.pythonGenerator.ORDER_NONE)||"0";return d=s.pythonGenerator.valueToCode(d,"TO",s.pythonGenerator.ORDER_NONE)||"0",["random.randint("+g+", "+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.math_random_float=function(d){return s.pythonGenerator.definitions_.import_random="import random",["random.random()",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.math_atan2=function(d){s.pythonGenerator.definitions_.import_math="import math";const g=s.pythonGenerator.valueToCode(d,"X",s.pythonGenerator.ORDER_NONE)||"0";return["math.atan2("+(s.pythonGenerator.valueToCode(d,"Y",s.pythonGenerator.ORDER_NONE)||"0")+", "+g+") / math.pi * 180",s.pythonGenerator.ORDER_MULTIPLICATIVE]},l.module$build$src$core$variables,l.NameType$$module$build$src$core$names,s.pythonGenerator.procedures_defreturn=function(d){var g=[],_=d.workspace,b=l.module$build$src$core$variables.allUsedVarModels(_)||[];for(let w=0,k;k=b[w];w++){var y=k.name;d.getVars().indexOf(y)===-1&&g.push(s.pythonGenerator.nameDB_.getName(y,l.NameType$$module$build$src$core$names.VARIABLE))}for(_=l.module$build$src$core$variables.allDeveloperVariables(_),b=0;b<_.length;b++)g.push(s.pythonGenerator.nameDB_.getName(_[b],l.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));_=g.length?s.pythonGenerator.INDENT+"global "+g.join(", ")+`
`:"",g=s.pythonGenerator.nameDB_.getName(d.getFieldValue("NAME"),l.NameType$$module$build$src$core$names.PROCEDURE),b="",s.pythonGenerator.STATEMENT_PREFIX&&(b+=s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_PREFIX,d)),s.pythonGenerator.STATEMENT_SUFFIX&&(b+=s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_SUFFIX,d)),b&&(b=s.pythonGenerator.prefixLines(b,s.pythonGenerator.INDENT)),y="",s.pythonGenerator.INFINITE_LOOP_TRAP&&(y=s.pythonGenerator.prefixLines(s.pythonGenerator.injectId(s.pythonGenerator.INFINITE_LOOP_TRAP,d),s.pythonGenerator.INDENT));let E=s.pythonGenerator.statementToCode(d,"STACK"),S=s.pythonGenerator.valueToCode(d,"RETURN",s.pythonGenerator.ORDER_NONE)||"",D="";E&&S&&(D=b),S?S=s.pythonGenerator.INDENT+"return "+S+`
`:E||(E=s.pythonGenerator.PASS);const L=[],N=d.getVars();for(let w=0;w<N.length;w++)L[w]=s.pythonGenerator.nameDB_.getName(N[w],l.NameType$$module$build$src$core$names.VARIABLE);return _="def "+g+"("+L.join(", ")+`):
`+_+b+y+E+D+S,_=s.pythonGenerator.scrub_(d,_),s.pythonGenerator.definitions_["%"+g]=_,null},s.pythonGenerator.procedures_defnoreturn=s.pythonGenerator.procedures_defreturn,s.pythonGenerator.procedures_callreturn=function(d){const g=s.pythonGenerator.nameDB_.getName(d.getFieldValue("NAME"),l.NameType$$module$build$src$core$names.PROCEDURE),_=[],b=d.getVars();for(let y=0;y<b.length;y++)_[y]=s.pythonGenerator.valueToCode(d,"ARG"+y,s.pythonGenerator.ORDER_NONE)||"None";return[g+"("+_.join(", ")+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.procedures_callnoreturn=function(d){return s.pythonGenerator.procedures_callreturn(d)[0]+`
`},s.pythonGenerator.procedures_ifreturn=function(d){let g="if "+(s.pythonGenerator.valueToCode(d,"CONDITION",s.pythonGenerator.ORDER_NONE)||"False")+`:
`;return s.pythonGenerator.STATEMENT_SUFFIX&&(g+=s.pythonGenerator.prefixLines(s.pythonGenerator.injectId(s.pythonGenerator.STATEMENT_SUFFIX,d),s.pythonGenerator.INDENT)),d.hasReturnValue_?(d=s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_NONE)||"None",g+=s.pythonGenerator.INDENT+"return "+d+`
`):g+=s.pythonGenerator.INDENT+`return
`,g},l.module$build$src$core$utils$string,l.NameType$$module$build$src$core$names,s.pythonGenerator.text=function(d){return[s.pythonGenerator.quote_(d.getFieldValue("TEXT")),s.pythonGenerator.ORDER_ATOMIC]},s.pythonGenerator.text_multiline=function(d){d=s.pythonGenerator.multiline_quote_(d.getFieldValue("TEXT"));const g=d.indexOf("+")!==-1?s.pythonGenerator.ORDER_ADDITIVE:s.pythonGenerator.ORDER_ATOMIC;return[d,g]};var c=/^\s*'([^']|\\')*'\s*$/,f=function(d){return c.test(d)?[d,s.pythonGenerator.ORDER_ATOMIC]:["str("+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL]};return s.pythonGenerator.text_join=function(d){switch(d.itemCount_){case 0:return["''",s.pythonGenerator.ORDER_ATOMIC];case 1:return d=s.pythonGenerator.valueToCode(d,"ADD0",s.pythonGenerator.ORDER_NONE)||"''",f(d);case 2:var g=s.pythonGenerator.valueToCode(d,"ADD0",s.pythonGenerator.ORDER_NONE)||"''";return d=s.pythonGenerator.valueToCode(d,"ADD1",s.pythonGenerator.ORDER_NONE)||"''",[f(g)[0]+" + "+f(d)[0],s.pythonGenerator.ORDER_ADDITIVE];default:g=[];for(let _=0;_<d.itemCount_;_++)g[_]=s.pythonGenerator.valueToCode(d,"ADD"+_,s.pythonGenerator.ORDER_NONE)||"''";return d=s.pythonGenerator.nameDB_.getDistinctName("x",l.NameType$$module$build$src$core$names.VARIABLE),["''.join([str("+d+") for "+d+" in ["+g.join(", ")+"]])",s.pythonGenerator.ORDER_FUNCTION_CALL]}},s.pythonGenerator.text_append=function(d){const g=s.pythonGenerator.nameDB_.getName(d.getFieldValue("VAR"),l.NameType$$module$build$src$core$names.VARIABLE);return d=s.pythonGenerator.valueToCode(d,"TEXT",s.pythonGenerator.ORDER_NONE)||"''",g+" = str("+g+") + "+f(d)[0]+`
`},s.pythonGenerator.text_length=function(d){return["len("+(s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_NONE)||"''")+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.text_isEmpty=function(d){return["not len("+(s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_NONE)||"''")+")",s.pythonGenerator.ORDER_LOGICAL_NOT]},s.pythonGenerator.text_indexOf=function(d){var g=d.getFieldValue("END")==="FIRST"?"find":"rfind";const _=s.pythonGenerator.valueToCode(d,"FIND",s.pythonGenerator.ORDER_NONE)||"''";return g=(s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_MEMBER)||"''")+"."+g+"("+_+")",d.workspace.options.oneBasedIndex?[g+" + 1",s.pythonGenerator.ORDER_ADDITIVE]:[g,s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.text_charAt=function(d){const g=d.getFieldValue("WHERE")||"FROM_START",_=s.pythonGenerator.valueToCode(d,"VALUE",g==="RANDOM"?s.pythonGenerator.ORDER_NONE:s.pythonGenerator.ORDER_MEMBER)||"''";switch(g){case"FIRST":return[_+"[0]",s.pythonGenerator.ORDER_MEMBER];case"LAST":return[_+"[-1]",s.pythonGenerator.ORDER_MEMBER];case"FROM_START":return d=s.pythonGenerator.getAdjustedInt(d,"AT"),[_+"["+d+"]",s.pythonGenerator.ORDER_MEMBER];case"FROM_END":return d=s.pythonGenerator.getAdjustedInt(d,"AT",1,!0),[_+"["+d+"]",s.pythonGenerator.ORDER_MEMBER];case"RANDOM":return s.pythonGenerator.definitions_.import_random="import random",[s.pythonGenerator.provideFunction_("text_random_letter",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(text):
  x = int(random.random() * len(text))
  return text[x]
`)+"("+_+")",s.pythonGenerator.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},s.pythonGenerator.text_getSubstring=function(d){var g=d.getFieldValue("WHERE1");const _=d.getFieldValue("WHERE2"),b=s.pythonGenerator.valueToCode(d,"STRING",s.pythonGenerator.ORDER_MEMBER)||"''";switch(g){case"FROM_START":g=s.pythonGenerator.getAdjustedInt(d,"AT1"),g===0&&(g="");break;case"FROM_END":g=s.pythonGenerator.getAdjustedInt(d,"AT1",1,!0);break;case"FIRST":g="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(_){case"FROM_START":d=s.pythonGenerator.getAdjustedInt(d,"AT2",1);break;case"FROM_END":d=s.pythonGenerator.getAdjustedInt(d,"AT2",0,!0),l.module$build$src$core$utils$string.isNumber(String(d))?d===0&&(d=""):(s.pythonGenerator.definitions_.import_sys="import sys",d+=" or sys.maxsize");break;case"LAST":d="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[b+"["+g+" : "+d+"]",s.pythonGenerator.ORDER_MEMBER]},s.pythonGenerator.text_changeCase=function(d){const g={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[d.getFieldValue("CASE")];return[(s.pythonGenerator.valueToCode(d,"TEXT",s.pythonGenerator.ORDER_MEMBER)||"''")+g,s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.text_trim=function(d){const g={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[d.getFieldValue("MODE")];return[(s.pythonGenerator.valueToCode(d,"TEXT",s.pythonGenerator.ORDER_MEMBER)||"''")+g,s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.text_print=function(d){return"print("+(s.pythonGenerator.valueToCode(d,"TEXT",s.pythonGenerator.ORDER_NONE)||"''")+`)
`},s.pythonGenerator.text_prompt_ext=function(d){var g=s.pythonGenerator.provideFunction_("text_prompt",`
def ${s.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(msg):
  try:
    return raw_input(msg)
  except NameError:
    return input(msg)
`);let _;return _=d.getField("TEXT")?s.pythonGenerator.quote_(d.getFieldValue("TEXT")):s.pythonGenerator.valueToCode(d,"TEXT",s.pythonGenerator.ORDER_NONE)||"''",g=g+"("+_+")",d.getFieldValue("TYPE")==="NUMBER"&&(g="float("+g+")"),[g,s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.text_prompt=s.pythonGenerator.text_prompt_ext,s.pythonGenerator.text_count=function(d){const g=s.pythonGenerator.valueToCode(d,"TEXT",s.pythonGenerator.ORDER_MEMBER)||"''";return d=s.pythonGenerator.valueToCode(d,"SUB",s.pythonGenerator.ORDER_NONE)||"''",[g+".count("+d+")",s.pythonGenerator.ORDER_FUNCTION_CALL]},s.pythonGenerator.text_replace=function(d){const g=s.pythonGenerator.valueToCode(d,"TEXT",s.pythonGenerator.ORDER_MEMBER)||"''",_=s.pythonGenerator.valueToCode(d,"FROM",s.pythonGenerator.ORDER_NONE)||"''";return d=s.pythonGenerator.valueToCode(d,"TO",s.pythonGenerator.ORDER_NONE)||"''",[g+".replace("+_+", "+d+")",s.pythonGenerator.ORDER_MEMBER]},s.pythonGenerator.text_reverse=function(d){return[(s.pythonGenerator.valueToCode(d,"TEXT",s.pythonGenerator.ORDER_MEMBER)||"''")+"[::-1]",s.pythonGenerator.ORDER_MEMBER]},l.NameType$$module$build$src$core$names,s.pythonGenerator.variables_get=function(d){return[s.pythonGenerator.nameDB_.getName(d.getFieldValue("VAR"),l.NameType$$module$build$src$core$names.VARIABLE),s.pythonGenerator.ORDER_ATOMIC]},s.pythonGenerator.variables_set=function(d){const g=s.pythonGenerator.valueToCode(d,"VALUE",s.pythonGenerator.ORDER_NONE)||"0";return s.pythonGenerator.nameDB_.getName(d.getFieldValue("VAR"),l.NameType$$module$build$src$core$names.VARIABLE)+" = "+g+`
`},s.pythonGenerator.variables_get_dynamic=s.pythonGenerator.variables_get,s.pythonGenerator.variables_set_dynamic=s.pythonGenerator.variables_set,s.__namespace__=l,s})}(GE)),GE.exports}(function(n,r){(function(o,l){n.exports=l(Zt,cU())})(Li,function(o,l){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return l})})(MD);var hU=MD.exports;const dU=Iu(hU),{pythonGenerator:dt}=dU,pU=er.Theme.defineTheme("chessTheme",{base:er.Themes.Classic,name:"chessTheme",startHats:!0});er.Blocks.acting_unit={init:function(){this.jsonInit({message0:"me",colour:190,output:"Unit",tooltip:"Represents the unit that is making its action"})}};dt.acting_unit=n=>["ctx.acting_piece",dt.ORDER_MEMBER];er.Blocks.unit_on_tile={init:function(){this.jsonInit({colour:190,output:"Unit",tooltip:"Get the unit that is standing on this tile",message0:"unit on %1",args0:[{type:"input_value",name:"VALUE",check:"Tile"}]})}};dt.unit_on_tile=n=>["ctx.board["+dt.valueToCode(n,"VALUE",dt.ORDER_MEMBER)+"]['piece']",dt.ORDER_MEMBER];er.Blocks.unit_is_on_tile={init:function(){this.jsonInit({colour:200,output:"Boolean",tooltip:"Check if a unit is on this tile",message0:"unit is on %1",args0:[{type:"input_value",name:"VALUE",check:"Tile"}]})}};dt.unit_is_on_tile=n=>["ctx.board["+dt.valueToCode(n,"VALUE",dt.ORDER_MEMBER)+"]['piece'] is not None",dt.ORDER_RELATIONAL];er.Blocks.tile_of_unit={init:function(){this.jsonInit({colour:90,output:"Tile",tooltip:"Get the tile that this unit is on",message0:"tile of %1",args0:[{type:"input_value",name:"VALUE",check:"Unit"}]})}};dt.tile_of_unit=n=>["ctx.tile_of("+dt.valueToCode(n,"VALUE",dt.ORDER_NONE)+")",dt.ORDER_FUNCTION_CALL];er.Blocks.targeted_tile={init:function(){this.jsonInit({message0:"targeted tile",colour:90,output:"Tile",tooltip:"Get the tile that is being targeted in this attack"})}};dt.targeted_tile=n=>["ctx.targeted_tile",dt.ORDER_MEMBER];er.Blocks.path={init:function(){this.jsonInit({colour:100,message0:"Path from %1 to %2",message1:"Skip first tile: %1",message2:"Skip last tile: %1",args0:[{type:"input_value",name:"FROM_TILE",check:"Tile"},{type:"input_value",name:"TO_TILE",check:"Tile"}],args1:[{type:"input_value",name:"BEGIN_EXCLUSIVE",check:["Boolean","Number"]}],args2:[{type:"input_value",name:"END_EXCLUSIVE",check:["Boolean","Number"]}],output:"TileList"}),this.setTooltip("Get every tile on the path between two tiles. Moving from [0,0] to [3,6], the path would be {(0,0), (1, 2), (2, 4), (3, 6)]")}};dt.path=n=>["ctx.path("+dt.valueToCode(n,"FROM_TILE",dt.ORDER_NONE)+", "+dt.valueToCode(n,"TO_TILE",dt.ORDER_NONE)+", "+dt.valueToCode(n,"BEGIN_EXCLUSIVE",dt.ORDER_NONE)+", "+dt.valueToCode(n,"END_EXCLUSIVE",dt.ORDER_NONE)+")",dt.ORDER_MEMBER];er.Blocks.chess_action={init:function(){this.jsonInit({message0:"Act %1",colour:60,tooltip:"When you perform this move",args0:[{type:"input_statement",name:"ACTION"}]})}};dt.chess_action=n=>`def action():\r
`+dt.statementToCode(n,"ACTION");er.Blocks.for_all_tiles={init:function(){this.jsonInit({colour:100,message0:"For tile %1 in %2",args0:[{type:"field_variable",name:"VAR_F",variable:"tile",variable_types:["Tile"],default_type:"Tile"},{type:"input_value",name:"TILE_LIST",check:"TileList"}],message1:"do %1",args1:[{type:"input_statement",name:"DO"}],nextStatement:null,previousStatement:null}),this.setTooltip("For each tile in this list, do something")}};dt.for_all_tiles=n=>"for "+dt.nameDB_.getName(n.getFieldValue("VAR_F"),er.Names.NameType.VARIABLE)+" in "+dt.valueToCode(n,"TILE_LIST",dt.ORDER_RELATIONAL)+`:\r
`+dt.statementToCode(n,"DO")+`\r
`;er.Blocks.teleport={init:function(){this.jsonInit({colour:200,message0:"Move %1 to %2",args0:[{type:"input_value",name:"FROM_UNIT",check:"Unit"},{type:"input_value",name:"TO_TILE",check:"Tile"}],inputsInline:!0,nextStatement:null,previousStatement:null}),this.setTooltip("Move to the specified empty square. [If the square is not empty, this action cannot be performed]")}};dt.teleport=n=>"ctx.tele_to("+dt.valueToCode(n,"FROM_UNIT",dt.ORDER_NONE)+", "+dt.valueToCode(n,"TO_TILE",dt.ORDER_NONE)+`)\r
`;er.Blocks.take={init:function(){this.jsonInit({colour:200,message0:"take %1",args0:[{type:"input_value",name:"TARGET_UNIT",check:"Unit"}],inputsInline:!0,nextStatement:null,previousStatement:null}),this.setTooltip("Remove this piece from the board.")}};dt.take=n=>"ctx.take("+dt.valueToCode(n,"TARGET_UNIT",dt.ORDER_NONE)+`)\r
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fU{constructor(r,o){this.title_=r,this.workspace_=o,this.lastFocusableEl_=null,this.firstFocusableEl_=null,this.htmlDiv_=null,this.boundEvents_=[],this.shouldCloseOnOverlayClick=!0,this.shouldCloseOnEsc=!0}init(){this.render()}dispose(){for(const r of this.boundEvents_)Zt.browserEvents.unbind(r);this.boundEvents_.length=0,this.htmlDiv_&&this.htmlDiv_.remove()}show(){Zt.WidgetDiv.show(this,this.workspace_.RTL,()=>this.widgetDispose_()),this.widgetCreate_();const r=this.htmlDiv_.querySelectorAll('a[href],area[href], input:not([disabled]), select:not([disabled]),textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');r.length>0&&(this.firstFocusableEl_=r[0],this.lastFocusableEl_=r[r.length-1],r[0].classList.contains("blocklyModalBtnClose")&&r.length>1?r[1].focus():this.firstFocusableEl_.focus())}hide(){Zt.WidgetDiv.hide()}onCancel_(){this.hide()}widgetCreate_(){const r=Zt.WidgetDiv.DIV;Zt.utils.dom.addClass(this.htmlDiv_,"blocklyModalOpen"),r.appendChild(this.htmlDiv_)}widgetDispose_(){Zt.utils.dom.removeClass(this.htmlDiv_,"blocklyModalOpen")}handleBackwardTab_(r){document.activeElement===this.firstFocusableEl_&&(r.preventDefault(),this.lastFocusableEl_.focus())}handleForwardTab_(r){document.activeElement===this.lastFocusableEl_&&(r.preventDefault(),this.firstFocusableEl_.focus())}handleKeyDown_(r){if(r.key==="Tab"){if(!this.firstFocusableEl_||this.firstFocusableEl_===this.lastFocusableEl_){r.preventDefault(),r.stopPropagation();return}r.shiftKey?this.handleBackwardTab_(r):this.handleForwardTab_(r)}else r.key==="Escape"&&this.shouldCloseOnEsc&&this.hide();r.stopPropagation()}addEvent_(r,o,l,s){const c=Zt.browserEvents.conditionalBind(r,o,l,s);this.boundEvents_.push(c)}render(){this.htmlDiv_=document.createElement("div"),this.htmlDiv_.className="blocklyModalOverlay";const r=document.createElement("div");r.className="blocklyModalContainer",r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title_),this.addEvent_(r,"keydown",this,this.handleKeyDown_),this.shouldCloseOnOverlayClick&&(this.addEvent_(this.htmlDiv_,"click",this,this.hide),this.addEvent_(r,"click",this,f=>{f.stopPropagation()}));const o=document.createElement("header");o.className="blocklyModalHeader",this.renderHeader_(o);const l=document.createElement("button");l.className="blocklyModalBtn blocklyModalBtnClose",this.addEvent_(l,"click",this,this.onCancel_),o.appendChild(l);const s=document.createElement("div");s.className="blocklyModalContent",this.renderContent_(s);const c=document.createElement("footer");c.className="blocklyModalFooter",this.renderFooter_(c),r.appendChild(o),r.appendChild(s),r.appendChild(c),this.htmlDiv_.appendChild(r)}renderHeader_(r){const o=document.createElement("h2");o.className="blocklyModalHeaderTitle",o.appendChild(document.createTextNode(this.title_)),r.appendChild(o)}renderContent_(r){}renderFooter_(r){}}Zt.Css.register(`
.blocklyModalOverlay {
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  position: fixed;
}
.blocklyModalContainer {
  background-color: #fff;
  border: 1px solid gray;
  font-family: Helvetica;
  font-weight: 300;
  padding: 1em;
  width: 400px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0px 10px 20px grey;
  z-index: 100;
  margin: 15% auto;
}
.blocklyModalHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.blocklyModalHeaderTitle {
  margin-top: 0;
  margin-bottom: 0;
  font-size: 1.2em;
  line-height: 1.25;
}
.blocklyModalHeader .blocklyModalBtn {
  margin-left: auto;
  height: fit-content;
}
.blocklyModalBtnClose:before {
  content: "\\2715";
}
.blocklyModalBtn {
  margin-right: 0.5em;
  border: 1px solid gray;
  font-weight: 500;
  color: gray;
  border-radius: 25px;
}
.blocklyModalBtnPrimary {
  background-color: gray;
  color: #fff;
}
`);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gU extends fU{constructor(r,o,l,s){const c=s&&s.TYPED_VAR_MODAL_TITLE||"Create Typed Variable";super(c,r),this.selectedType_=null,this.variableNameInput_=null,this.variableTypesDiv_=null,this.firstTypeInput_=null,this.btnCallBackName_=o,this.types_=l;const f={TYPED_VAR_MODAL_TITLE:"Create Typed Variable",TYPED_VAR_MODAL_VARIABLE_NAME_LABEL:"Variable Name: ",TYPED_VAR_MODAL_TYPES_LABEL:"Variable Types",TYPED_VAR_MODAL_CONFIRM_BUTTON:"Ok",TYPED_VAR_MODAL_CANCEL_BUTTON:"Cancel",TYPED_VAR_MODAL_INVALID_NAME:"Name is not valid. Please choose a different name."};Zt.utils.object.mixin(f,s),this.setLocale(f),this.shouldCloseOnOverlayClick=!1}init(){super.init(),this.workspace_.registerButtonCallback(this.btnCallBackName_,()=>{this.show()})}setLocale(r){Object.keys(r).forEach(o=>{Zt.Msg[o]=r[o]})}dispose(){super.dispose(),this.workspace_.removeButtonCallback(this.btnCallBackName_)}getSelectedType_(){return this.selectedType_}widgetDispose_(){super.widgetDispose_(),this.resetModalInputs_()}onConfirm_(){const r=this.getValidInput_(),o=this.getSelectedType_()||"";if(r){const l=Zt.Variables.nameUsedWithAnyType(r,this.workspace_);if(l){let s="";l.type===o?s=Zt.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",l.name):(s=Zt.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,s=s.replace("%1",l.name).replace("%2",this.getDisplayName_(l.type))),Zt.dialog.alert(s)}else this.workspace_.createVariable(r,o),this.hide()}else Zt.dialog.alert(Zt.Msg.TYPED_VAR_MODAL_INVALID_NAME)}getDisplayName_(r){for(let o=0;o<this.types_.length;o++){const l=this.types_[o];if(r===l[1])return l[0]}return""}getValidInput_(){let r=this.variableNameInput_.value;return r&&(r=r.replace(/[\s\xa0]+/g," ").trim(),(r===Zt.Msg.RENAME_VARIABLE||r===Zt.Msg.NEW_VARIABLE)&&(r=null)),r}renderContent_(r){const o=this.createVarNameContainer_();this.variableNameInput_=o.querySelector(".typedModalVariableNameInput");const l=document.createElement("div");l.className="typedModalTypes",l.textContent=Zt.Msg.TYPED_VAR_MODAL_TYPES_LABEL,this.variableTypesDiv_=this.createVariableTypeContainer_(this.types_),this.resetModalInputs_(),l.appendChild(this.variableTypesDiv_),r.appendChild(o),r.appendChild(l)}renderFooter_(r){r.appendChild(this.createConfirmBtn_()),r.appendChild(this.createCancelBtn_())}createConfirmBtn_(){const r=document.createElement("button");return r.className="blocklyModalBtn blocklyModalBtnPrimary",r.textContent=Zt.Msg.TYPED_VAR_MODAL_CONFIRM_BUTTON,this.addEvent_(r,"click",this,this.onConfirm_),r}createCancelBtn_(){const r=document.createElement("button");return r.className="blocklyModalBtn",r.textContent=Zt.Msg.TYPED_VAR_MODAL_CANCEL_BUTTON,this.addEvent_(r,"click",this,this.onCancel_),r}resetModalInputs_(){this.firstTypeInput_.checked=!0,this.selectedType_=this.firstTypeInput_.id,this.variableNameInput_.value=""}createVariableTypeContainer_(r){const o=document.createElement("ul");o.className="typedModalList";for(let l=0;l<r.length;l++){const s=r[l],c=s[0],f=s[1],d=document.createElement("li"),g=document.createElement("input");g.className="typedModalTypes",g.type="radio",g.id=f,g.name="blocklyVariableType",this.addEvent_(g,"click",this,b=>{this.selectedType_=b.target.id}),this.firstTypeInput_=o.querySelector(".typedModalTypes");const _=document.createElement("label");_.textContent=c,_.setAttribute("for",f),d.appendChild(g),d.appendChild(_),o.appendChild(d)}return o}createVarNameContainer_(){const r=document.createElement("div");r.className="typedModalVariableInputContainer";const o=document.createElement("label");o.className="typedModalVariableLabel",o.textContent=Zt.Msg.TYPED_VAR_MODAL_VARIABLE_NAME_LABEL,o.setAttribute("for","variableInput");const l=document.createElement("input");return l.className="typedModalVariableNameInput",l.type="text",l.id="variableInput",r.appendChild(o),r.appendChild(l),r}}Zt.Css.register(`
.typedModalTitle {
  font-weight: bold;
  font-size: 1em;
}
.typedModalVariableInputContainer {
  margin: 1em 0 1em 0;
}
.typedModalVariableLabel{
  margin-right: 0.5em;
}
.typedModalTypes ul{
  display: flex;
  flex-wrap: wrap;
  list-style-type: none;
  padding: 0;
}
.typedModalTypes li {
  margin-right: 1em;
  display: flex;
}
`);const mU={kind:"categoryToolbox",contents:[{kind:"category",name:"Chess",contents:[{kind:"block",type:"chess_action"},{kind:"block",type:"acting_unit"},{kind:"block",type:"teleport",inputs:{FROM_UNIT:{block:{type:"acting_unit"}}}},{kind:"block",type:"take"},{kind:"block",type:"unit_on_tile"},{kind:"block",type:"unit_is_on_tile"},{kind:"block",type:"tile_of_unit"},{kind:"block",type:"targeted_tile"}]},{kind:"category",name:"Lists",contents:[{kind:"block",type:"path",inputs:{BEGIN_EXCLUSIVE:{block:{type:"math_number",fields:{NUM:1}}},END_EXCLUSIVE:{block:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"for_all_tiles"}]},{kind:"category",name:"Control",contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"controls_for",inputs:{FROM:{block:{type:"math_number",fields:{NUM:0}}},BY:{block:{type:"math_number",fields:{NUM:1}}}}}]},{kind:"category",name:"Variables",custom:"CREATE_TYPED_VARIABLE"},{kind:"category",name:"Math",contents:[{kind:"block",type:"math_number"},{kind:"block",type:"math_arithmetic"},{kind:"block",type:"math_single"}]},{kind:"category",name:"Logic",contents:[{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"logic_boolean"}]}]},BD=({onCodeChange:n,divId:r,readOnly:o,initialState:l})=>{let s,c="blocklyDiv_"+r;function f(d,g){new IntersectionObserver((_,b)=>{_.forEach(y=>{y.intersectionRatio>0&&(g(d),b.disconnect())})}).observe(d)}return O.useEffect(()=>{const d=document.getElementById(r),g=document.createElement("div");g.id=c,g.style.position="absolute",d.appendChild(g),s=er.inject(g.id,{toolbox:mU,theme:pU,readOnly:o}),n!=null&&s.addChangeListener(()=>n(s)),l!=null&&er.serialization.workspaces.load(l,s);const _=function(){let E=d,S=0,D=0;do S+=E.offsetLeft,D+=E.offsetTop,E=E.offsetParent;while(E);g.style.left=S+"px",g.style.top=D+"px",g.style.width=d.offsetWidth+"px",g.style.height=d.offsetHeight+"px",er.svgResize(s)};window.addEventListener("resize",_,!1),f(g,_);const b=function(E){let S=[];const D=document.createElement("button");D.setAttribute("text","Create Typed Variable"),D.setAttribute("callbackKey","callbackName"),S.push(D);const L=er.VariablesDynamic.flyoutCategoryBlocks(E);return S=S.concat(L),S};return s.registerToolboxCategoryCallback("CREATE_TYPED_VARIABLE",b),new gU(s,"callbackName",[["TileList","TileList"],["Tile","Tile"],["Unit","Unit"],["Boolean","Boolean"],["Number","Number"]]).init(),()=>{var E;(E=document.getElementById(c))==null||E.remove()}},[l]),R(Pn,{})};function aS(n,r,o,l,s,c,f){try{var d=n[c](f),g=d.value}catch(_){o(_);return}d.done?r(g):Promise.resolve(g).then(l,s)}function _U(n){return function(){var r=this,o=arguments;return new Promise(function(l,s){var c=n.apply(r,o);function f(g){aS(c,l,s,f,d,"next",g)}function d(g){aS(c,l,s,f,d,"throw",g)}f(void 0)})}}function lh(){return lh=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])}return n},lh.apply(this,arguments)}var PD={exports:{}};(function(n){var r=function(o){var l=Object.prototype,s=l.hasOwnProperty,c,f=typeof Symbol=="function"?Symbol:{},d=f.iterator||"@@iterator",g=f.asyncIterator||"@@asyncIterator",_=f.toStringTag||"@@toStringTag";function b(z,Y,Q){return Object.defineProperty(z,Y,{value:Q,enumerable:!0,configurable:!0,writable:!0}),z[Y]}try{b({},"")}catch{b=function(Y,Q,ee){return Y[Q]=ee}}function y(z,Y,Q,ee){var Z=Y&&Y.prototype instanceof k?Y:k,_e=Object.create(Z.prototype),be=new Ie(ee||[]);return _e._invoke=pe(z,Q,be),_e}o.wrap=y;function E(z,Y,Q){try{return{type:"normal",arg:z.call(Y,Q)}}catch(ee){return{type:"throw",arg:ee}}}var S="suspendedStart",D="suspendedYield",L="executing",N="completed",w={};function k(){}function I(){}function P(){}var W={};b(W,d,function(){return this});var j=Object.getPrototypeOf,H=j&&j(j(ce([])));H&&H!==l&&s.call(H,d)&&(W=H);var K=P.prototype=k.prototype=Object.create(W);I.prototype=P,b(K,"constructor",P),b(P,"constructor",I),I.displayName=b(P,_,"GeneratorFunction");function $e(z){["next","throw","return"].forEach(function(Y){b(z,Y,function(Q){return this._invoke(Y,Q)})})}o.isGeneratorFunction=function(z){var Y=typeof z=="function"&&z.constructor;return Y?Y===I||(Y.displayName||Y.name)==="GeneratorFunction":!1},o.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,P):(z.__proto__=P,b(z,_,"GeneratorFunction")),z.prototype=Object.create(K),z},o.awrap=function(z){return{__await:z}};function re(z,Y){function Q(_e,be,se,He){var Ke=E(z[_e],z,be);if(Ke.type==="throw")He(Ke.arg);else{var It=Ke.arg,Ct=It.value;return Ct&&typeof Ct=="object"&&s.call(Ct,"__await")?Y.resolve(Ct.__await).then(function(we){Q("next",we,se,He)},function(we){Q("throw",we,se,He)}):Y.resolve(Ct).then(function(we){It.value=we,se(It)},function(we){return Q("throw",we,se,He)})}}var ee;function Z(_e,be){function se(){return new Y(function(He,Ke){Q(_e,be,He,Ke)})}return ee=ee?ee.then(se,se):se()}this._invoke=Z}$e(re.prototype),b(re.prototype,g,function(){return this}),o.AsyncIterator=re,o.async=function(z,Y,Q,ee,Z){Z===void 0&&(Z=Promise);var _e=new re(y(z,Y,Q,ee),Z);return o.isGeneratorFunction(Y)?_e:_e.next().then(function(be){return be.done?be.value:_e.next()})};function pe(z,Y,Q){var ee=S;return function(_e,be){if(ee===L)throw new Error("Generator is already running");if(ee===N){if(_e==="throw")throw be;return qe()}for(Q.method=_e,Q.arg=be;;){var se=Q.delegate;if(se){var He=ne(se,Q);if(He){if(He===w)continue;return He}}if(Q.method==="next")Q.sent=Q._sent=Q.arg;else if(Q.method==="throw"){if(ee===S)throw ee=N,Q.arg;Q.dispatchException(Q.arg)}else Q.method==="return"&&Q.abrupt("return",Q.arg);ee=L;var Ke=E(z,Y,Q);if(Ke.type==="normal"){if(ee=Q.done?N:D,Ke.arg===w)continue;return{value:Ke.arg,done:Q.done}}else Ke.type==="throw"&&(ee=N,Q.method="throw",Q.arg=Ke.arg)}}}function ne(z,Y){var Q=z.iterator[Y.method];if(Q===c){if(Y.delegate=null,Y.method==="throw"){if(z.iterator.return&&(Y.method="return",Y.arg=c,ne(z,Y),Y.method==="throw"))return w;Y.method="throw",Y.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var ee=E(Q,z.iterator,Y.arg);if(ee.type==="throw")return Y.method="throw",Y.arg=ee.arg,Y.delegate=null,w;var Z=ee.arg;if(!Z)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,w;if(Z.done)Y[z.resultName]=Z.value,Y.next=z.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=c);else return Z;return Y.delegate=null,w}$e(K),b(K,_,"Generator"),b(K,d,function(){return this}),b(K,"toString",function(){return"[object Generator]"});function xe(z){var Y={tryLoc:z[0]};1 in z&&(Y.catchLoc=z[1]),2 in z&&(Y.finallyLoc=z[2],Y.afterLoc=z[3]),this.tryEntries.push(Y)}function Se(z){var Y=z.completion||{};Y.type="normal",delete Y.arg,z.completion=Y}function Ie(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(xe,this),this.reset(!0)}o.keys=function(z){var Y=[];for(var Q in z)Y.push(Q);return Y.reverse(),function ee(){for(;Y.length;){var Z=Y.pop();if(Z in z)return ee.value=Z,ee.done=!1,ee}return ee.done=!0,ee}};function ce(z){if(z){var Y=z[d];if(Y)return Y.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var Q=-1,ee=function Z(){for(;++Q<z.length;)if(s.call(z,Q))return Z.value=z[Q],Z.done=!1,Z;return Z.value=c,Z.done=!0,Z};return ee.next=ee}}return{next:qe}}o.values=ce;function qe(){return{value:c,done:!0}}return Ie.prototype={constructor:Ie,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(Se),!z)for(var Y in this)Y.charAt(0)==="t"&&s.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=c)},stop:function(){this.done=!0;var z=this.tryEntries[0],Y=z.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var Y=this;function Q(He,Ke){return _e.type="throw",_e.arg=z,Y.next=He,Ke&&(Y.method="next",Y.arg=c),!!Ke}for(var ee=this.tryEntries.length-1;ee>=0;--ee){var Z=this.tryEntries[ee],_e=Z.completion;if(Z.tryLoc==="root")return Q("end");if(Z.tryLoc<=this.prev){var be=s.call(Z,"catchLoc"),se=s.call(Z,"finallyLoc");if(be&&se){if(this.prev<Z.catchLoc)return Q(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return Q(Z.finallyLoc)}else if(be){if(this.prev<Z.catchLoc)return Q(Z.catchLoc,!0)}else if(se){if(this.prev<Z.finallyLoc)return Q(Z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(z,Y){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ee=this.tryEntries[Q];if(ee.tryLoc<=this.prev&&s.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var Z=ee;break}}Z&&(z==="break"||z==="continue")&&Z.tryLoc<=Y&&Y<=Z.finallyLoc&&(Z=null);var _e=Z?Z.completion:{};return _e.type=z,_e.arg=Y,Z?(this.method="next",this.next=Z.finallyLoc,w):this.complete(_e)},complete:function(z,Y){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&Y&&(this.next=Y),w},finish:function(z){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Q=this.tryEntries[Y];if(Q.finallyLoc===z)return this.complete(Q.completion,Q.afterLoc),Se(Q),w}},catch:function(z){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Q=this.tryEntries[Y];if(Q.tryLoc===z){var ee=Q.completion;if(ee.type==="throw"){var Z=ee.arg;Se(Q)}return Z}}throw new Error("illegal catch attempt")},delegateYield:function(z,Y,Q){return this.delegate={iterator:ce(z),resultName:Y,nextLoc:Q},this.method==="next"&&(this.arg=c),w}},o}(n.exports);try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}})(PD);var uS=PD.exports,FD=function(r){var o=r.paths,l=r.id,s=r.strokeWidth,c=r.strokeColor,f=r.command,d=f===void 0?GD:f;if(o.length===1){var g=o[0],_=g.x,b=g.y,y=s/2;return O.createElement("circle",{key:l,id:l,cx:_,cy:b,r:y,stroke:c,fill:c})}var E=o.reduce(function(S,D,L,N){return L===0?"M "+D.x+","+D.y:S+" "+d(D,L,N)},"");return O.createElement("path",{key:l,id:l,d:E,fill:"none",strokeLinecap:"round",stroke:c,strokeWidth:s})},vU=function(r,o){var l=o.x-r.x,s=o.y-r.y;return{length:Math.sqrt(Math.pow(l,2)+Math.pow(s,2)),angle:Math.atan2(s,l)}},Ob=function(r){var o=r.current,l=r.next,s=r.previous,c=r.reverse,f=s||o,d=l||o,g=.2,_=vU(f,d),b=_.angle+(c?Math.PI:0),y=_.length*g,E=o.x+Math.cos(b)*y,S=o.y+Math.sin(b)*y;return[E,S]},GD=function(r,o,l){var s=null,c=null;switch(o){case 0:var f=Ob({current:r});s=f[0],c=f[1];break;case 1:var d=Ob({current:l[o-1],next:r});s=d[0],c=d[1];break;default:var g=Ob({current:l[o-1],previous:l[o-2],next:r});s=g[0],c=g[1];break}var _=Ob({current:r,previous:l[o-1],next:l[o+1],reverse:!0}),b=_[0],y=_[1];return"C "+s+","+c+" "+b+","+y+" "+r.x+", "+r.y},bU=function(r){var o=r.id,l=r.paths;return O.createElement(O.Fragment,null,l.map(function(s,c){return O.createElement(FD,{key:o+"__"+c,paths:s.paths,id:o+"__"+c,strokeWidth:s.strokeWidth,strokeColor:s.strokeColor,command:GD})}))},cS=function(r){return new Promise(function(o,l){var s=new Image;s.addEventListener("load",function(){s.width>0&&o(s),l("Image not found")}),s.addEventListener("error",function(c){return l(c)}),s.src=r,s.setAttribute("crossorigin","anonymous")})};function hS(n){var r,o=(r=n.firstChild)==null?void 0:r.cloneNode(!0),l=n.offsetWidth,s=n.offsetHeight;return o.setAttribute("viewBox","0 0 "+l+" "+s),o.setAttribute("width",l.toString()),o.setAttribute("height",s.toString()),{svgCanvas:o,width:l,height:s}}var $U=O.forwardRef(function(n,r){var o=n.paths,l=n.isDrawing,s=n.onPointerDown,c=n.onPointerMove,f=n.onPointerUp,d=n.id,g=d===void 0?"react-sketch-canvas":d,_=n.width,b=_===void 0?"100%":_,y=n.height,E=y===void 0?"100%":y,S=n.className,D=S===void 0?"react-sketch-canvas":S,L=n.canvasColor,N=L===void 0?"red":L,w=n.backgroundImage,k=w===void 0?"":w,I=n.exportWithBackgroundImage,P=I===void 0?!1:I,W=n.preserveBackgroundImageAspectRatio,j=W===void 0?"none":W,H=n.allowOnlyPointerType,K=H===void 0?"all":H,$e=n.style,re=$e===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:$e,pe=n.svgStyle,ne=pe===void 0?{}:pe,xe=O.useRef(null),Se=function(Z){var _e,be,se,He=(_e=xe.current)==null?void 0:_e.getBoundingClientRect(),Ke=(be=window.scrollX)!=null?be:0,It=(se=window.scrollY)!=null?se:0;if(!He)return{x:0,y:0};var Ct={x:Z.pageX-He.left-Ke,y:Z.pageY-He.top-It};return Ct},Ie=function(Z){if(!(K!=="all"&&Z.pointerType!==K)&&!(Z.pointerType==="mouse"&&Z.button!==0)){var _e=Se(Z);s(_e)}},ce=function(Z){if(l&&!(K!=="all"&&Z.pointerType!==K)){var _e=Se(Z);c(_e)}},qe=function(Z){Z.pointerType==="mouse"&&Z.button!==0||K!=="all"&&Z.pointerType!==K||f()};O.useImperativeHandle(r,function(){return{exportImage:function(Z){return new Promise(function(){var _e=_U(uS.mark(function be(se,He){var Ke,It,Ct,we,jn,Xn,ao,Rt;return uS.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(it.prev=0,Ke=xe.current,Ke){it.next=4;break}throw Error("Canvas not rendered yet");case 4:return It=hS(Ke),Ct=It.svgCanvas,we=It.width,jn=It.height,Xn="data:image/svg+xml;base64,"+btoa(Ct.outerHTML),it.next=8,cS(Xn);case 8:if(it.t0=it.sent,ao=[it.t0],!P){it.next=21;break}return it.prev=11,it.next=14,cS(k);case 14:Rt=it.sent,ao.push(Rt),it.next=21;break;case 18:it.prev=18,it.t1=it.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(ao).then(function(Fn){var yr=document.createElement("canvas");yr.setAttribute("width",we.toString()),yr.setAttribute("height",jn.toString());var J=yr.getContext("2d");if(!J)throw Error("Canvas not rendered yet");Fn.reverse().forEach(function(ye){J.drawImage(ye,0,0)}),se(yr.toDataURL("image/"+Z))}).catch(function(Fn){throw Fn}),it.next=27;break;case 24:it.prev=24,it.t2=it.catch(0),He(it.t2);case 27:case"end":return it.stop()}},be,null,[[0,24],[11,18]])}));return function(be,se){return _e.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(Z,_e){try{var be,se=(be=xe.current)!=null?be:null;if(se!==null){var He,Ke,It=hS(se),Ct=It.svgCanvas;if(P){Z(Ct.outerHTML);return}(He=Ct.querySelector("#"+g+"__background"))==null||He.remove(),(Ke=Ct.querySelector("#"+g+"__canvas-background"))==null||Ke.setAttribute("fill",N),Z(Ct.outerHTML)}_e(new Error("Canvas not loaded"))}catch(we){_e(we)}})}}}),O.useEffect(function(){return document.addEventListener("pointerup",qe),function(){document.removeEventListener("pointerup",qe)}},[qe]);var z=o.filter(function(ee){return!ee.drawMode}),Y=0,Q=o.reduce(function(ee,Z){return Z.drawMode?(ee[Y]===void 0&&(ee[Y]=[]),ee[Y].push(Z),ee):(Y+=1,ee)},[[]]);return O.createElement("div",{role:"presentation",ref:xe,className:D,style:lh({touchAction:"none",width:b,height:E},re),"touch-action":"none",onPointerDown:Ie,onPointerMove:ce,onPointerUp:qe},O.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:lh({width:"100%",height:"100%"},ne),id:g},O.createElement("g",{id:g+"__eraser-stroke-group",display:"none"},O.createElement("rect",{id:g+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),z.map(function(ee,Z){return O.createElement(FD,{key:g+"__eraser-"+Z,id:g+"__eraser-"+Z,paths:ee.paths,strokeColor:"#000000",strokeWidth:ee.strokeWidth})})),O.createElement("defs",null,k&&O.createElement("pattern",{id:g+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},O.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:k,preserveAspectRatio:j})),z.map(function(ee,Z){return O.createElement("mask",{id:g+"__eraser-mask-"+Z,key:g+"__eraser-mask-"+Z,maskUnits:"userSpaceOnUse"},O.createElement("use",{href:"#"+g+"__mask-background"}),Array.from({length:z.length-Z},function(_e,be){return be+Z}).map(function(_e){return O.createElement("use",{key:_e.toString(),href:"#"+g+"__eraser-"+_e.toString()})}))})),O.createElement("g",{id:g+"__canvas-background-group"},O.createElement("rect",{id:g+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:k?"url(#"+g+"__background)":N})),Q.map(function(ee,Z){return O.createElement("g",{id:g+"__stroke-group-"+Z,key:g+"__stroke-group-"+Z,mask:"url(#"+g+"__eraser-mask-"+Z+")"},O.createElement(bU,{id:g,paths:ee}))})))}),yU=O.forwardRef(function(n,r){var o=n.id,l=o===void 0?"react-sketch-canvas":o,s=n.width,c=s===void 0?"100%":s,f=n.height,d=f===void 0?"100%":f,g=n.className,_=g===void 0?"":g,b=n.canvasColor,y=b===void 0?"white":b,E=n.strokeColor,S=E===void 0?"red":E,D=n.backgroundImage,L=D===void 0?"":D,N=n.exportWithBackgroundImage,w=N===void 0?!1:N,k=n.preserveBackgroundImageAspectRatio,I=k===void 0?"none":k,P=n.strokeWidth,W=P===void 0?4:P,j=n.eraserWidth,H=j===void 0?8:j,K=n.allowOnlyPointerType,$e=K===void 0?"all":K,re=n.style,pe=re===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:re,ne=n.svgStyle,xe=ne===void 0?{}:ne,Se=n.onChange,Ie=Se===void 0?function(ye){}:Se,ce=n.onStroke,qe=ce===void 0?function(ye,tt){}:ce,z=n.withTimestamp,Y=z===void 0?!1:z,Q=O.createRef(),ee=O.useState(!0),Z=ee[0],_e=ee[1],be=O.useState(!1),se=be[0],He=be[1],Ke=O.useState([]),It=Ke[0],Ct=Ke[1],we=O.useState([]),jn=we[0],Xn=we[1],ao=O.useState([]),Rt=ao[0],Gt=ao[1],it=O.useCallback(function(){var ye,tt,Oe=(ye=(tt=Rt.slice(-1))==null?void 0:tt[0])!=null?ye:null;if(Oe===null){console.warn("No stroke found!");return}qe(Oe,!Oe.drawMode)},[se]);O.useEffect(function(){it()},[se]),O.useEffect(function(){Ie(Rt)},[Rt]),O.useImperativeHandle(r,function(){return{eraseMode:function(tt){_e(!tt)},clearCanvas:function(){Ct([].concat(Rt)),Gt([])},undo:function(){if(It.length!==0){Gt([].concat(It)),Ct([]);return}Xn(function(tt){return[].concat(tt,Rt.slice(-1))}),Gt(function(tt){return tt.slice(0,-1)})},redo:function(){jn.length!==0&&(Gt(function(tt){return[].concat(tt,jn.slice(-1))}),Xn(function(tt){return tt.slice(0,-1)}))},exportImage:function(tt){var Oe,en=(Oe=Q.current)==null?void 0:Oe.exportImage;if(en)return en(tt);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(tt,Oe){var en,st=(en=Q.current)==null?void 0:en.exportSvg;st?st().then(function(tn){tt(tn)}).catch(function(tn){Oe(tn)}):Oe(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(tt,Oe){try{tt(Rt)}catch(en){Oe(en)}})},loadPaths:function(tt){Gt(function(Oe){return[].concat(Oe,tt)})},getSketchingTime:function(){return new Promise(function(tt,Oe){Y||Oe(new Error("Set 'withTimestamp' prop to get sketching time"));try{var en=Rt.reduce(function(st,tn){var ks,Er,rr=(ks=tn.startTimestamp)!=null?ks:0,uo=(Er=tn.endTimestamp)!=null?Er:0;return st+(uo-rr)},0);tt(en)}catch(st){Oe(st)}})},resetCanvas:function(){Ct([]),Xn([]),Gt([])}}});var Fn=function(tt){He(!0),Xn([]);var Oe={drawMode:Z,strokeColor:Z?S:"#000000",strokeWidth:Z?W:H,paths:[tt]};Y&&(Oe=lh({},Oe,{startTimestamp:Date.now(),endTimestamp:0})),Gt(function(en){return[].concat(en,[Oe])})},yr=function(tt){if(se){var Oe=Rt.slice(-1)[0],en=lh({},Oe,{paths:[].concat(Oe.paths,[tt])});Gt(function(st){return[].concat(st.slice(0,-1),[en])})}},J=function(){var tt,Oe;if(se&&(He(!1),!!Y)){var en=(tt=(Oe=Rt.slice(-1))==null?void 0:Oe[0])!=null?tt:null;if(en!==null){var st=lh({},en,{endTimestamp:Date.now()});Gt(function(tn){return[].concat(tn.slice(0,-1),[st])})}}};return O.createElement($U,{ref:Q,id:l,width:c,height:d,className:_,canvasColor:y,backgroundImage:L,exportWithBackgroundImage:w,preserveBackgroundImageAspectRatio:I,allowOnlyPointerType:$e,style:pe,svgStyle:xe,paths:Rt,isDrawing:se,onPointerDown:Fn,onPointerMove:yr,onPointerUp:J})});const EU=Array.from({length:15}).map(()=>Array.from({length:15}).map(()=>null)),qw=({moves:n,onClick:r,highlightedMove:o})=>R("div",{className:"grid grid-cols-10 w-80",children:R(Pn,{children:n.map((l,s)=>{let c="h-6 w-6";return l===o&&(c+=" bg-stone-600"),R(tT,{animation:!1,content:l.overview==""?"New move":l.overview,children:R("button",{onClick:f=>{r(Pt.cloneDeep(l))},className:c,children:R(gh,{move:l})})},s)})})}),wU=()=>{const[n,r]=O.useState(4),[o,l]=O.useState(20),s=O.useRef(null),[c,f]=O.useState(""),[d,g]=O.useState(EU),_=lt(k=>k.userMoves),b=[{cat:"UI",color:[255,255,255],implementation:null,name:"cancel",overview:"Use to delete an action. ",description:"Delete an action you added before. Left click works as well.",symbol:"⌫",pk:uD},..._],[y,E]=O.useState(b[0]),[S,D]=O.useState("ok"),L={};Pt.forEach(b,function(k){L[k.pk]=k});const N=k=>{var I,P;k.target.id==="Eraser"?(I=s.current)==null||I.eraseMode(!0):k.target.id==="Pen"&&((P=s.current)==null||P.eraseMode(!1))},w=k=>{var I;D("saving"),(I=s.current)==null||I.exportImage("png").then(P=>{Vl.post("/pieces",{params:{name:c,image:P,moves:SG(d)}}).then(W=>{lD([W.data.new_piece]),D("ok")}).catch(()=>{D("fail")})}).catch(P=>{D("fail")})};return de("div",{className:"grid sm:grid-cols-2",children:[de("div",{className:"col-span-1",children:[R("form",{className:"flex flex-col w-60 place-items-center",children:R(ih,{id:"pieceName",type:"text",placeholder:"Piece Name",value:c,onChange:k=>f(k.target.value),maxLength:31})}),R("div",{className:"py-1 place-items-center",children:R(yU,{width:"13rem",height:"13rem",strokeWidth:n,eraserWidth:o,canvasColor:"white",strokeColor:"black",backgroundImage:"static/tile-white.png",exportWithBackgroundImage:!1,ref:s})}),R("div",{className:"container mx-auto p-1",onContextMenu:k=>k.preventDefault(),children:R(cD,{moveGrid:d,changeMoveGrid:g,selectedMove:y})}),R("div",{className:"container mx-auto p-1",children:Pt.uniq(Pt.flatMap(d)).filter(k=>k!=null).map((k,I)=>{const P=L[k];return de("div",{className:"inline-flex",children:[" ",R(gh,{move:P}),P.overview]},I)})})]}),R("div",{className:"col-span-1",children:de(Js.Group,{"aria-label":"Default tabs",children:[de(Js.Item,{title:"Actions",children:[R(qw,{onClick:k=>E(k),moves:b,highlightedMove:y}),de(jR,{children:[de("div",{className:"grid grid-cols-12",children:[R("div",{className:"col-span-1",children:R(gh,{move:y})}),R("p",{className:"px-1 mx-0.5 col-span-7 text-m h-18",children:y.overview})]}),R("p",{className:"px-2 mx-0.5 col-span-7 text-m h-18",children:y.description}),y.implementation?R("div",{id:"blocklyAreaPieceEditor",className:"min-w-full",style:{height:"20rem"},children:R(BD,{onCodeChange:null,divId:"blocklyAreaPieceEditor",readOnly:!0,initialState:y.implementation})}):R(Pn,{})]})]}),R(Js.Item,{title:"Drawing",children:de("fieldset",{children:[R("legend",{children:"Select Tool"}),["Pen","Eraser"].map(k=>de("div",{className:"flex items-center mb-4",children:[R("input",{type:"radio",id:k,name:"tool-select",className:"w-4 h-4 border-gray-300 focus:ring-2 focus :ring-blue-300 dark:focus:ring-blue-600 dark:focus:bg-blue-600 dark:bg-gray-700 dark:border-gray-600",onChange:N,defaultChecked:k==="Pen"}),de("label",{htmlFor:k,className:"block ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:[" ",k," "]})]},k)),R(Jw,{min:0,max:20,formValue:n,setFormValue:r,label:"Pen Size",barStyle:!0}),R(Jw,{min:0,max:30,formValue:o,setFormValue:l,label:"Eraser Size",barStyle:!0}),de("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[R("button",{type:"button",onClick:()=>{var k;(k=s.current)==null||k.undo()},className:"px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white",children:"Undo"}),R("button",{type:"button",onClick:()=>{var k;(k=s.current)==null||k.redo()},className:"px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-md hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white",children:"Redo"})]})]})}),R(Js.Item,{title:"Admin",children:de("div",{className:"inline-flex",children:[R(Jo,{onClick:w,children:"Save"}),R(pT,{savingState:S})]})})]})})]})},UD={cat:"unmade",overview:"",description:"",color:[Pt.random(0,255),Pt.random(0,255),Pt.random(0,255)],implementation:null,symbol:"",pk:-2},kU=({setSelectedMove:n})=>{const[r,o]=O.useState(!1),l=lt(s=>s.userMoves);return de("div",{children:[R(Jo,{onClick:()=>o(!0),className:"h-3 w-30",children:"Manage created moves"}),de(Yl,{show:r,onClose:()=>o(!1),className:"z-[200]",children:[R(Yl.Header,{children:"Select move to edit, or create a new move"}),de(Yl.Body,{children:["Select a move to edit:",R(qw,{moves:l,onClick:s=>{o(!1),n(s)}}),"Create a new move:",R(qw,{moves:[UD],onClick:s=>{o(!1),n(s)}}),"Selecting will discard unsaved changes to your current move"]})]})]})},TU=({pythonCode:n})=>{const[r,o]=O.useState(!1);return de("div",{children:[R(Jo,{onClick:()=>o(!0),className:"h-3 w-30",children:"View generated code"}),de(Yl,{show:r,onClose:()=>o(!1),children:[de(Yl.Header,{children:["Generated python code (",R("a",{style:{textDecoration:"underline",color:"blue"},href:"https://github.com/Alex7Li/chess-unit-simulator/blob/main/api/game_logic.py",children:"View context"}),")"]}),R(Yl.Body,{children:R("pre",{lang:"python",children:n||"No code was generated"})})]})]})},CU=({})=>{const[n,r]=O.useState(UD),[o,l]=O.useState("ok"),[s,c]=O.useState(""),[f,d]=O.useState(null),g=w=>{r(w),d(w.implementation)},_=w=>{if(n.implementation==null){l("fail"),console.error("No move implementation given");return}l("saving"),w==!1&&(n.pk=-2),Vl.post("/moves",{},{params:{newMove:n}}).then(k=>{sD([k.data.new_move]),l("ok")}).catch(k=>{l("fail")})};function b(w){return k=>{const I=Pt.clone(n);w(k,I),r(I)}}function y(w){const k=b(w);return I=>{k(I.target.value)}}const E=y((w,k)=>k.description=w),S=y((w,k)=>k.overview=w),D=y((w,k)=>k.symbol=w),L=b((w,k)=>k.implementation=w),N=(w,k)=>{const I=Pt.clone(n);I.color[w]=k,r(I)};return R("div",{children:de(jR,{children:[de("div",{className:"grid grid-cols-12",children:[R("div",{className:"col-span-1",children:R(gh,{move:n})}),R(Pw,{value:n.overview,onChange:S,placeholder:"Concise reminder of the ability",className:"px-r mx-0.5 col-span-3 text-m bg-slate-100 h-18"}),R(Pw,{value:n.description,onChange:E,placeholder:"A detailed description of what this move does.",className:"px-2 mx-0.5 col-span-8 text-m bg-slate-100 h-18"})]}),de("div",{className:"inline-flex",children:["Color",Pt.zip([0,1,2],["R","G","B"]).map(w=>{const k=w[0],I=w[1];return R(Jw,{min:0,max:255,labelClass:"block h-2 mb-2 w-4 pl-2 pr-3 text-sm font-medium text-gray-900 dark:text-white",inputClass:"h-2 w-20 bg-gray-100 rounded-lg cursor-pointer dark:bg-gray-900",formValue:n.color[k],setFormValue:P=>N(k,P),label:I},k)})]}),de("div",{className:"inline-flex",children:["Inner Symbol",R(ih,{id:"innerSymbol",type:"text",placeholder:"Symbol",value:n.symbol,onChange:D,maxLength:3})]}),R("div",{id:"blocklyArea",style:{height:"30rem"},children:R(BD,{onCodeChange:w=>{const k=dt.workspaceToCode(w);console.log(k);const I=er.serialization.workspaces.save(w);L(I),c(k)},divId:"blocklyArea",readOnly:!1,initialState:f})}),de("div",{className:"inline-flex",children:[R(Jo,{onClick:()=>_(!1),children:"Save as new move"}),n.pk==-2?R(Pn,{}):R(Jo,{onClick:()=>_(!0),children:"Overwrite existing move"}),R(pT,{savingState:o}),R(kU,{setSelectedMove:g}),R(TU,{pythonCode:s})]})]})})},dS=({boardSetup:n})=>R("div",{className:"grid grid-cols-8 grid-rows-8 gap-x-0 w-50 border-gray-900 border-2 p-0 m-0",children:n.boardSetup.map((r,o)=>{const l=lt(s=>s.pkToPiece);return r.map((s,c)=>{const f=(o+c)%2===0?"dark":"light";let d="h-6 w-6 m-0 b-0";f==="light"?d+=" bg-grid_light":d+=" bg-grid_dark";let g=R("div",{className:"relative"}),_=R(Pn,{});if(s!=null){let y="";const E=l.get(s.piecePk);s.team=="white"?y=E.imageWhite:y=E.imageBlack,g=R("img",{draggable:"false",className:"relative",src:y}),s.isRoyal&&(_=R("img",{draggable:"false",src:"static/crown.png",className:"absolute top-0 left-0 h-3 w-3 rotate-12 mx-4 -my-1 rounded-md drop-shadow-md"}))}return R("div",{className:d,children:de("div",{className:"relative",children:[g,_]})},o*15+c)})})}),SU=()=>{const n=lt(l=>l.boardSetups),r=lt(l=>l.lobby),o=lt(l=>l.lobbySetups);return de("div",{children:[R("p",{children:"Join an existing game"}),R("div",{className:"inline-block",children:o.map(l=>de("button",{className:"col-span-1 m-2 bg-neutral-200",onClick:()=>{if(r==null){M$("Failed to load the lobby, try refreshing?");return}r.send(JSON.stringify({event_type:"accept_game",request_pk:l.pk}))},children:[R(dS,{boardSetup:l.boardSetupMeta}),R("p",{children:l.boardSetupMeta.name}),de("p",{className:"text-m",children:["vs ",l.requestingUser]})]},l.pk.toString()))}),R("p",{children:"Or create a new game"}),R("div",{className:"inline-block",children:n.map(l=>de("button",{className:"col-span-1 m-2 bg-neutral-200",onClick:()=>{if(r==null){M$("Failed to load the lobby, try refreshing?");return}r.send(JSON.stringify({event_type:"request_game",board_pk:l.pk}))},children:[R(dS,{boardSetup:l}),R("p",{children:l.name}),de("p",{className:"text-xs",children:["by ",l.author]})]},l.pk.toString()))})]})};function IU(){const n=w=>lt.setState(()=>({username:w})),r=lt(w=>w.username),[o,l]=O.useState(""),[s,c]=O.useState(""),[f,d]=O.useState(""),[g,_]=O.useState(!1);O.useEffect(()=>{Vl.get("/users",{params:{}}).then(w=>{iU(w.data.username)})},[]);const b=w=>{g?Vl.post("/users",null,{params:{username:o,password:s,email:f,type:"signup"}}).then(()=>{console.log("SIGNUP COMPLETE"),n(o),window.location.reload()}):_(!0)},y=w=>{Vl.post("/users",null,{params:{type:"guest_signup"}}).then(()=>{n(o),window.location.reload()})},E=w=>{_(!1),Vl.post("/users",null,{params:{username:o,password:s,type:"login"}}).then(()=>{console.log("LOGIN COMPLETE"),n(o),window.location.reload()})},S=w=>{Vl.post("/users",null,{params:{type:"logout"}}).then(()=>{n(""),window.location.reload()})},D=de("div",{className:"flex flex-col gap-4 p-2",children:[g?de("div",{children:[R("div",{className:"mb-2 block",children:R(fE,{htmlFor:"email1",value:"Your email (In case you forget password, no mailing list)"})}),R(ih,{id:"email1",type:"email",placeholder:"name@gmail.com",required:!0,value:f,onChange:w=>d(w.target.value)})]}):R(Pn,{}),de("div",{children:[R("div",{className:"mb-2 block",children:R(fE,{htmlFor:"username",value:"Your username"})}),R(ih,{id:"name1",placeholder:"username, consists of letters, numbers, and ./+/_/- ",required:!0,value:o,onChange:w=>l(w.target.value)})]}),de("div",{children:[R("div",{className:"mb-2 block",children:R(fE,{htmlFor:"password1",value:"Your password"})}),R(ih,{id:"password1",type:"password",placeholder:"password",required:!0,value:s,onChange:w=>c(w.target.value)})]}),de("div",{className:"flex p-2 m-2",children:["When you login/out, the page will need to refresh.",R(Jo,{onClick:E,children:"Login"}),R(Jo,{onClick:b,children:"Sign up"}),R(Jo,{onClick:y,children:"Use guest account (data will not be saved)"})]})]});let L=Xw(r);return R("div",{children:r?de("div",{children:["Logged in as ",L," ",R("button",{onClick:S,children:" Logout"})]}):D})}const RU=document.querySelector("[name=csrfmiddlewaretoken]").value,Vl=CD.create({baseURL:aD,timeout:1e3,headers:{"X-CSRFToken":RU}});Vl.interceptors.response.use(n=>n,n=>{var o,l;const r=(l=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:l.message;throw r&&lt.setState(()=>({errorMessage:JSON.stringify(r)})),n});window.api=Vl;window.chessStore=lt;const xU=()=>{const n=s=>D1(s.button),r=lt(s=>s.errorMessage),o=lt(s=>s.games);return de("div",{className:"App",onMouseDown:n,onMouseUp:()=>D1(-1),children:[R("div",{children:r?de(jL,{color:"failure",icon:BF,children:[R("div",{className:"mt-2 mb-4 text-sm text-blue-700 dark:text-blue-800",children:r}),R("div",{className:"flex",children:R("button",{type:"button",onClick:()=>lt.setState(s=>({errorMessage:""})),className:"rounded-lg border border-blue-700 bg-transparent px-3 py-1.5 text-center text-xs font-medium text-blue-700 hover:bg-blue-800 hover:text-white focus:ring-4 focus:ring-blue-300 dark:border-blue-800 dark:text-blue-800 dark:hover:text-white",children:"Dismiss"})})]}):R(Pn,{})}),R(IU,{}),de(Js.Group,{"aria-label":"Tabs with underline",style:"underline",className:"m-0 p-0",children:[R(Js.Item,{active:!1,title:de("div",{className:"inline-flex",children:["Lobby",R(Db,{text:"Lobby to create games and join games made by other players."})]}),children:R(SU,{})}),o.map((s,c)=>{let f=R("span",{children:s.boardName});return IG(s)&&s.whiteUser!=s.blackUser&&(f=de("span",{className:"inline-flex",children:[s.boardName,R(NF,{className:"h-5 w-5"})]})),R(Js.Item,{active:!1,title:f,children:R(Z5,{gameInfo:s})},"game_"+c)}),R(Js.Item,{title:de("div",{className:"inline-flex",children:["Move Editor",R(Db,{text:"Create custom moves to add to your pieces!"})]}),children:R(CU,{})}),R(Js.Item,{title:de("div",{className:"inline-flex",children:["Piece Editor",R(Db,{text:"Create pieces to put on your boards here. You can draw a custom image with the tools and create custom move sets"})]}),children:R(wU,{})}),R(Js.Item,{active:!1,title:de("div",{className:"inline-flex",children:["Board Editor",R(Db,{text:"Welcome to the Board Editor! Here you can add pieces to a board to create a setup. To add a piece to the board, select it in the top menu and then select where you want to place it. To delete a piece, use the delete piece tool from the menu or right-click on the piece to delete. To inspect a piece that has been placed on the board, Ctrl+click or middle click on it."})]}),children:R(aU,{})})]})]})};const AU=["No stroke found!","Blockly.utils.object.mixin was deprecated in May 2022 and will be deleted in May 2023."],DU=console.warn;console.warn=function(r,...o){AU.some(l=>r.includes(l))||DU(r,...o)};UE.createRoot(document.getElementById("root")).render(R(To.StrictMode,{children:R(xU,{})}));
